window.__require=function t(e,i,n){function o(a,r){if(!i[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var h="function"==typeof __require&&__require;if(!r&&h)return h(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+a+"'")}}var l=i[a]={exports:{}};e[a][0].call(l.exports,function(t){return o(e[a][1][t]||t)},l,l.exports,t,e,i,n)}return i[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<n.length;a++)o(n[a]);return o}({APIConstant:[function(t,e,i){"use strict";cc._RF.push(e,"6d98aWVPixM6oYZfQhdoDMo","APIConstant");e.exports={HOST:"https://xu.vin:8443/v1/",API_CONFIG:"config/list",API_CAPTCHA:"user/captcha",API_REGISTER:"user/register",API_REGISTER_SOCIAL:"user/register_social",API_LOGIN:"user/login",API_LOGIN_TOKEN:"user/info",API_INFO_UPDATE:"user/update",API_UPDATE_AVATAR:"user/avatar",API_UPDATE_NICKNAME:"user/update_nickname",API_NOTIFY_UPDATE:"user/notify",API_MONEY:"user/money",API_LOGOUT:"user/logout",API_CHANGE_PASSWORD:"user/change_pass",API_SUMMARY_MATCH:"user/summary_match",API_PLAYER_INFO:"user/get_info",API_GAME_INFO:"user/summary_match",API_PLAY_HISTORY:"user/get_play_history",API_GET_GIFTCODE:"user/get_giftcode",API_UPDATE_SOUND:"user/update_sound",API_UPDATE_INVITE:"user/update_invite",API_FORGOT_PASSWORD_EMAIL:"user/forgot_pass_by_email",API_VERIFY_PASSWORD:"user/verify_new_pass",API_VERIFY_OTP:"user/verify_otp",API_REGISTER_QUICK:"user/register_quick",API_SEND_OTP:"user/send_otp",API_SEND_OTP_FORGET_PASSWORD:"user/send_otp_forgotpass",API_SEND_OTP_LOGIN:"user/send_otp_login",API_SEND_OTP_LOGIN_SOCIAL:"user/send_otp_login_social",API_VERIFY_LOGIN_SECURITY:"user/verify_login_secure",API_SECURITY_GAME:"user/security_game",API_CANCEL_ACTIVE_PHONE:"user/cancel_active_phone",API_FRIEND_INFO:"friend/info",API_FRIEND_UPDATE:"friend/update",API_FRIEND_CONVERT:"friend/convert",API_FRIEND_HISTORY:"friend/history",API_FRIEND_TOP:"friend/top",API_TOP_BEST_MONEY_WIN:"top/best_money_win",API_TOP_BEST_GOLD_WIN:"top/best_gold_win",API_TOP_AWARD:"top/award",API_TOP:"top/list",API_RECHARGE_CARD:"card/recharge",API_AWARD_CARD:"award/withdraw",API_HISTORY_AWARD:"award/log_award",API_TRANSTER_MONEY_TO_GOLD:"transfer/convert",API_HISTORY_TRANSTER_MONEY_TO_GOLD:"transfer/log_convert_moneytogold",API_HISTORY_RECHARGE_GOLD:"user/recharge",API_CATEGORIES_LIST:"category/list",API_CATEGORIES_DETAIL:"category/detail",API_POST_LIST:"post/list",API_POST_DETAIL:"post/detail",API_MAIL:"message/allpage",API_MAIL_READED:"/api/message/readed",API_MAIL_DELETE:"/api/message/deleted",API_MESSAGE_LIST:"message/list",API_MESSAGE_READ:"message/read",API_MESSAGE_REMOVE:"message/remove",API_TAIXIU_HISTORY:"taixiu/history",API_TAIXIU_TOP:"taixiu/top",API_TAIXIU_CHAIN:"taixiu/chain",API_MINIPOKER_HISTORY:"minipoker/history",API_MINIPOKER_TOP:"minipoker/top",API_MINIBACAY_HISTORY:"mini3cay/history",API_MINIBACAY_TOP:"mini3cay/top",API_DIAMOND_HISTORY:"diamond/history",API_DIAMOND_TOP:"diamond/top",API_TRENDUOI_HISTORY:"hilo/history",API_TRENDUOI_TOP:"hilo/top",API_DIAMOND2_HISTORY:"diamond2/history",API_DIAMOND2_TOP:"diamond2/top",API_BAUCUA_HISTORY:"hooheyhow/history",API_BAUCUA_TOP:"hooheyhow/top",API_BAUCUA_TOP_WEEK:"hooheyhow/top_week",API_MINIGAME_LOTTERY_HISTORY:"minigame_lottery/history",API_BOM_HISTORY:"bom/history",API_WILD_HISTORY:"wild/history",API_EVENT_TOP:"top/vp",API_EVENT_TAN_LOC:"loc/log_tan_loc",API_EVENT_HU_LOC:"loc/log_hu_loc",API_SLOT_GET_TOP:"zoombies/top",API_SLOT_GET_HISTORY:"zoombies/history",API_SLOT2_GET_TOP:"one001/top",API_SLOT2_GET_HISTORY:"one001/history",API_SLOT3_GET_TOP:"dragon/top",API_SLOT3_GET_HISTORY:"dragon/history",API_SLOT4_GET_HISTORY:"classic1/history",API_SLOT4_GET_TOP:"classic1/top",API_SUCCESS:1},cc._RF.pop()},{}],API:[function(t,e,i){"use strict";cc._RF.push(e,"21071dpjSBMGqdCQ3xY9+0m","API");var n=t("./APIConstant"),o=t("../helper/Message"),s=t("../helper/Config"),a={getUrlByAPI:function(t){return n.HOST+t},getStringBodyByObject:function(t){var e=[];for(var i in t)e.push(i+"="+encodeURIComponent(t[i]));return e.join("&")},executeGETMethod:function(t,e,i,n){t=t+"?"+this.getStringBodyByObject(e);var a=new XMLHttpRequest;return a.onreadystatechange=function(){if(4===a.readyState)if(a.status>=200&&a.status<300){var t=JSON.parse(a.responseText);"1"===t.status||1===t.status?i(t):n(t)}else 0===a.status||n({msg:o.TIME_OUT_LOADING})},a.open("GET",t,!0),a.timeout=1e3*s.XHR_TIMEOUT,cc.sys.isNative&&(a.setRequestHeader("User-Agent",this.getAgent()),a.setRequestHeader("Accept-Encoding","gzip,deflate")),a.send(),a},executePOSTMethod:function(t,e,i,n){var a=this.getStringBodyByObject(e),r=new XMLHttpRequest;return r.onreadystatechange=function(){if(4==r.readyState)if(r.status>=200&&r.status<400){var t=JSON.parse(r.responseText);"1"===t.status||1===t.status?i(t):n(t)}else 0===r.status||n({msg:o.TIME_OUT_LOADING})},r.open("POST",t,!0),r.timeout=1e3*s.XHR_TIMEOUT,r.setRequestHeader("content-type","application/x-www-form-urlencoded"),cc.sys.isNative&&(r.setRequestHeader("User-Agent",this.getAgent()),r.setRequestHeader("Accept-Encoding","gzip,deflate")),r.send(a),r},sendTokentoPays:function(t,e,i){var s=n.HOST_PAY+t,a=new XMLHttpRequest;return a.onreadystatechange=function(){4===a.readyState&&(a.status>=200&&a.status<300?(console.log(a),"OK"===a.statusText?e():i()):0===a.status||i({msg:o.TIME_OUT_LOADING}))},console.log(s),a.open("GET",s,!0),cc.sys.isNative&&a.setRequestHeader("Accept-Encoding","gzip,deflate"),a.send(),a},getConfig:function(t,e,i){var o=this.getUrlByAPI(n.API_CONFIG);return this.executeGETMethod(o,t,e,i)},getCaptcha:function(t,e,i){var o=this.getUrlByAPI(n.API_CAPTCHA);return this.executeGETMethod(o,t,e,i)},login:function(t,e,i){var o=this.getUrlByAPI(n.API_LOGIN);return this.executePOSTMethod(o,t,e,i)},loginToken:function(t,e,i){var o=this.getUrlByAPI(n.API_LOGIN_TOKEN);return this.executeGETMethod(o,t,e,i)},register:function(t,e,i){var o=this.getUrlByAPI(n.API_REGISTER);return this.executePOSTMethod(o,t,e,i)},registerSocial:function(t,e,i){var o=this.getUrlByAPI(n.API_REGISTER_SOCIAL);return this.executePOSTMethod(o,t,e,i)},forgotPasswordEmail:function(t,e,i){var o=this.getUrlByAPI(n.API_FORGOT_PASSWORD_EMAIL);return this.executePOSTMethod(o,t,e,i)},verifyPassword:function(t,e,i){var o=this.getUrlByAPI(n.API_VERIFY_PASSWORD);return this.executePOSTMethod(o,t,e,i)},verifyOtp:function(t,e,i){var o=this.getUrlByAPI(n.API_VERIFY_OTP);return this.executePOSTMethod(o,t,e,i)},sendOtp:function(t,e,i){var o=this.getUrlByAPI(n.API_SEND_OTP);return this.executePOSTMethod(o,t,e,i)},sendOtpForgetPassword:function(t,e,i){var o=this.getUrlByAPI(n.API_SEND_OTP_FORGET_PASSWORD);return this.executePOSTMethod(o,t,e,i)},registerQuick:function(t,e,i){var o=this.getUrlByAPI(n.API_REGISTER_QUICK);return this.executePOSTMethod(o,t,e,i)},update:function(t,e,i){var o=this.getUrlByAPI(n.API_INFO_UPDATE);return this.executePOSTMethod(o,t,e,i)},updateNickname:function(t,e,i){var o=this.getUrlByAPI(n.API_UPDATE_NICKNAME);return this.executePOSTMethod(o,t,e,i)},changePassword:function(t,e,i){var o=this.getUrlByAPI(n.API_CHANGE_PASSWORD);return this.executePOSTMethod(o,t,e,i)},updateSoundGame:function(t,e,i){var o=this.getUrlByAPI(n.API_UPDATE_SOUND);return this.executePOSTMethod(o,t,e,i)},updateInviteGame:function(t,e,i){var o=this.getUrlByAPI(n.API_UPDATE_INVITE);return this.executePOSTMethod(o,t,e,i)},getListMessage:function(t,e,i){var o=this.getUrlByAPI(n.API_MESSAGE_LIST);return this.executeGETMethod(o,t,e,i)},readMessage:function(t,e,i){var o=this.getUrlByAPI(n.API_MESSAGE_READ);return this.executePOSTMethod(o,t,e,i)},removeMessage:function(t,e,i){var o=this.getUrlByAPI(n.API_MESSAGE_REMOVE);return this.executePOSTMethod(o,t,e,i)},logout:function(t,e,i){var o=this.getUrlByAPI(n.API_LOGOUT);return this.executePOSTMethod(o,t,e,i)},topBestMoneyWin:function(t,e,i){var o=this.getUrlByAPI(n.API_TOP_BEST_MONEY_WIN);return this.executeGETMethod(o,t,e,i)},topAward:function(t,e,i){var o=this.getUrlByAPI(n.API_TOP_AWARD);return this.executeGETMethod(o,t,e,i)},top:function(t,e,i){var o=this.getUrlByAPI(n.API_TOP);return this.executeGETMethod(o,t,e,i)},historyAward:function(t,e,i){var o=this.getUrlByAPI(n.API_HISTORY_AWARD);return this.executeGETMethod(o,t,e,i)},historyRechargeGold:function(t,e,i){var o=this.getUrlByAPI(n.API_HISTORY_TRANSTER_MONEY_TO_GOLD);return this.executeGETMethod(o,t,e,i)},historyRechargeMoney:function(t,e,i){var o=this.getUrlByAPI(n.API_HISTORY_RECHARGE_GOLD);return this.executeGETMethod(o,t,e,i)},getGameInfo:function(t,e,i){var o=this.getUrlByAPI(n.API_GAME_INFO);return this.executeGETMethod(o,t,e,i)},getMail:function(t,e,i){var o=this.getUrlByAPI(n.API_MAIL);return this.executeGETMethod(o,t,e,i)},readedMail:function(t,e,i){var o=this.getUrlByAPI(n.API_MAIL_READED);return this.executeGETMethod(o,t,e,i)},deleteMail:function(t,e,i){var o=this.getUrlByAPI(n.API_MAIL_DELETE);return this.executeGETMethod(o,t,e,i)},getPlayerInfo:function(t,e,i){var o=this.getUrlByAPI(n.API_PLAYER_INFO);return this.executeGETMethod(o,t,e,i)},scaleRecharge:function(t,e,i){var o=this.getUrlByAPI(n.API_SCALE_RECHARGE);return this.executePOSTMethod(o,t,e,i)},rechargeCard:function(t,e,i){var o=this.getUrlByAPI(n.API_RECHARGE_CARD);return this.executePOSTMethod(o,t,e,i)},awardCard:function(t,e,i){var o=this.getUrlByAPI(n.API_AWARD_CARD);return this.executePOSTMethod(o,t,e,i)},updateAvatar:function(t,e,i){var o=this.getUrlByAPI(n.API_UPDATE_AVATAR);return this.executePOSTMethod(o,t,e,i)},transferMoneyToGold:function(t,e,i){var o=this.getUrlByAPI(n.API_TRANSTER_MONEY_TO_GOLD);return this.executePOSTMethod(o,t,e,i)},getPlayHistory:function(t,e,i){var o=this.getUrlByAPI(n.API_PLAY_HISTORY);return this.executeGETMethod(o,t,e,i)},getGiftCode:function(t,e,i){var o=this.getUrlByAPI(n.API_GET_GIFTCODE);return this.executePOSTMethod(o,t,e,i)},getTopTaiXiu:function(t,e,i){var o=this.getUrlByAPI(n.API_TAIXIU_TOP);return this.executeGETMethod(o,t,e,i)},getEventTop:function(t,e,i){var o=this.getUrlByAPI(n.API_EVENT_TOP);return this.executeGETMethod(o,t,e,i)},getChainTaiXiu:function(t,e,i){var o=this.getUrlByAPI(n.API_TAIXIU_CHAIN);return this.executeGETMethod(o,t,e,i)},getHistoryTaiXiu:function(t,e,i){var o=this.getUrlByAPI(n.API_TAIXIU_HISTORY);return this.executeGETMethod(o,t,e,i)},getTopMiniPoker:function(t,e,i){var o=this.getUrlByAPI(n.API_MINIPOKER_TOP);return this.executeGETMethod(o,t,e,i)},getHistoryMiniPoker:function(t,e,i){var o=this.getUrlByAPI(n.API_MINIPOKER_HISTORY);return this.executeGETMethod(o,t,e,i)},getTopMiniBaCay:function(t,e,i){var o=this.getUrlByAPI(n.API_MINIBACAY_TOP);return this.executeGETMethod(o,t,e,i)},getHistoryMiniBaCay:function(t,e,i){var o=this.getUrlByAPI(n.API_MINIBACAY_HISTORY);return this.executeGETMethod(o,t,e,i)},getTopDiamond:function(t,e,i){var o=this.getUrlByAPI(n.API_DIAMOND_TOP);return this.executeGETMethod(o,t,e,i)},getHistoryDiamond:function(t,e,i){var o=this.getUrlByAPI(n.API_DIAMOND_HISTORY);return this.executeGETMethod(o,t,e,i)},getTopDiamond2:function(t,e,i){var o=this.getUrlByAPI(n.API_DIAMOND2_TOP);return this.executeGETMethod(o,t,e,i)},getHistoryDiamond2:function(t,e,i){var o=this.getUrlByAPI(n.API_DIAMOND2_HISTORY);return this.executeGETMethod(o,t,e,i)},getTopTrenDuoi:function(t,e,i){var o=this.getUrlByAPI(n.API_TRENDUOI_TOP);return this.executeGETMethod(o,t,e,i)},getHistoryTrenDuoi:function(t,e,i){var o=this.getUrlByAPI(n.API_TRENDUOI_HISTORY);return this.executeGETMethod(o,t,e,i)},getHistoryMiniGameLottery:function(t,e,i){var o=this.getUrlByAPI(n.API_MINIGAME_LOTTERY_HISTORY);return this.executeGETMethod(o,t,e,i)},getTopBauCua:function(t,e,i){var o=this.getUrlByAPI(n.API_BAUCUA_TOP);return this.executeGETMethod(o,t,e,i)},getTopWeekBauCua:function(t,e,i){var o=this.getUrlByAPI(n.API_BAUCUA_TOP_WEEK);return this.executeGETMethod(o,t,e,i)},getHistoryBauCua:function(t,e,i){var o=this.getUrlByAPI(n.API_BAUCUA_HISTORY);return this.executeGETMethod(o,t,e,i)},getHistoryBom:function(t,e,i){var o=this.getUrlByAPI(n.API_BOM_HISTORY);return this.executeGETMethod(o,t,e,i)},getHistoryWild:function(t,e,i){var o=this.getUrlByAPI(n.API_WILD_HISTORY);return this.executeGETMethod(o,t,e,i)},getTopSlot:function(t,e,i){var o=this.getUrlByAPI(n.API_SLOT_GET_TOP);return this.executeGETMethod(o,t,e,i)},getHistorySlot:function(t,e,i){var o=this.getUrlByAPI(n.API_SLOT_GET_HISTORY);return this.executeGETMethod(o,t,e,i)},getTopSlot2:function(t,e,i){var o=this.getUrlByAPI(n.API_SLOT2_GET_TOP);return this.executeGETMethod(o,t,e,i)},getHistorySlot2:function(t,e,i){var o=this.getUrlByAPI(n.API_SLOT2_GET_HISTORY);return this.executeGETMethod(o,t,e,i)},getTopSlot3:function(t,e,i){var o=this.getUrlByAPI(n.API_SLOT3_GET_TOP);return this.executeGETMethod(o,t,e,i)},getHistorySlot3:function(t,e,i){var o=this.getUrlByAPI(n.API_SLOT3_GET_HISTORY);return this.executeGETMethod(o,t,e,i)},getTopSlot4:function(t,e,i){var o=this.getUrlByAPI(n.API_SLOT4_GET_TOP);return this.executeGETMethod(o,t,e,i)},getHistorySlot4:function(t,e,i){var o=this.getUrlByAPI(n.API_SLOT4_GET_HISTORY);return this.executeGETMethod(o,t,e,i)},getOTPLogin:function(t,e,i){var o=this.getUrlByAPI(n.API_SEND_OTP_LOGIN);return this.executePOSTMethod(o,t,e,i)},getOTPLoginSocial:function(t,e,i){var o=this.getUrlByAPI(n.API_SEND_OTP_LOGIN_SOCIAL);return this.executePOSTMethod(o,t,e,i)},getOTPLoginSecurity:function(t,e,i){var o=this.getUrlByAPI(n.API_VERIFY_LOGIN_SECURITY);return this.executePOSTMethod(o,t,e,i)},securityGame:function(t,e,i){var o=this.getUrlByAPI(n.API_SECURITY_GAME);return this.executePOSTMethod(o,t,e,i)},cancelActivePhone:function(t,e,i){var o=this.getUrlByAPI(n.API_CANCEL_ACTIVE_PHONE);return this.executePOSTMethod(o,t,e,i)},infoFriend:function(t,e,i){var o=this.getUrlByAPI(n.API_FRIEND_INFO);return this.executeGETMethod(o,t,e,i)},updateFriend:function(t,e,i){var o=this.getUrlByAPI(n.API_FRIEND_UPDATE);return this.executeGETMethod(o,t,e,i)},convertFriend:function(t,e,i){var o=this.getUrlByAPI(n.API_FRIEND_CONVERT);return this.executeGETMethod(o,t,e,i)},historyFriend:function(t,e,i){var o=this.getUrlByAPI(n.API_FRIEND_HISTORY);return this.executeGETMethod(o,t,e,i)},topFriend:function(t,e,i){var o=this.getUrlByAPI(n.API_FRIEND_TOP);return this.executeGETMethod(o,t,e,i)},logTanLoc:function(t,e,i){var o=this.getUrlByAPI(n.API_EVENT_TAN_LOC);return this.executeGETMethod(o,t,e,i)},logHuLoc:function(t,e,i){var o=this.getUrlByAPI(n.API_EVENT_HU_LOC);return this.executeGETMethod(o,t,e,i)},getAgent:function(){return"Android"}};e.exports=a,cc._RF.pop()},{"../helper/Config":"Config","../helper/Message":"Message","./APIConstant":"APIConstant"}],AgentItem2:[function(t,e,i){"use strict";cc._RF.push(e,"c6397+0ss1NxJYNOuOVfJIq","AgentItem2");t("../../helper/Constant");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,noLabel:cc.Label,nameLabel:cc.Label,nickNameLabel:cc.Label,phoneLabel:cc.Label,addressLabel:cc.Label,fbNode:cc.Node,zaloNode:cc.Node,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e,i){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI,this.GameRecharge=t.GameRecharge,this.ShopTransferAgent=this.GameRecharge.Transfer.TransferAgent,this.ShopTransferContent=this.GameRecharge.Transfer.TransferContent,this.data=i,this.noLabel.string=e+1,this.nameLabel.string=i.name,this.nickNameLabel.string=i.nick_name,this.phoneLabel.string=i.phone,this.addressLabel.string=i.address,i.fanpage?this.fbNode.active=!0:this.fbNode.active=!1,i.zalo?this.zaloNode.active=!0:this.zaloNode.active=!1;var n=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=n},onLoad:function(){},onTransferClick:function(){this.GameCenterUI.hideAgentFormNode(!1),this.GameCenterUI.showShopNode(),this.GameRecharge.onTransferClick(),this.ShopTransferContent.showData(this.data.nick_name)},onFacebookClick:function(){cc.sys.openURL(this.data.fanpage)},onZaloClick:function(){cc.sys.openURL(this.data.zalo)},getData:function(){return this.data}}),cc._RF.pop()},{"../../helper/Constant":"Constant"}],AgentItem:[function(t,e,i){"use strict";cc._RF.push(e,"e427f6F7nxPf5Jgx3pfclO7","AgentItem"),cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,bgNode:cc.Node,noLabel:cc.Label,nameLabel:cc.Label,nicknameLabel:cc.Label,addressLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e,i){this.GameCenter=t,this.ShopTransferAgent=t.GameRecharge.Transfer.TransferAgent,this.ShopTransferContent=t.GameRecharge.Transfer.TransferContent,this.data=i,this.noLabel.string=e+1,this.nameLabel.string=i.name,this.nicknameLabel.string=i.nick_name,this.addressLabel.string=i.address,this.bgSprite.spriteFrame=this.offBgSpriteFrame},onLoad:function(){},onClick:function(){this.ShopTransferContent.showData(this.data.nick_name)},onFacebookClick:function(){cc.sys.openURL(this.data.fanpage)},getData:function(){return this.data},showBgNode:function(){this.bgSprite.spriteFrame=this.onBgSpriteFrame},hideBgNode:function(){this.bgSprite.spriteFrame=this.offBgSpriteFrame}}),cc._RF.pop()},{}],Agent:[function(t,e,i){"use strict";cc._RF.push(e,"67555wEBYxG4oHrzX4MbI1D","Agent"),cc.Class({extends:cc.Component,properties:{agentItem2Prefab:cc.Prefab,listAgentScrollView:cc.ScrollView},init:function(t){this.GameCenter=t},onLoad:function(){},onEnable:function(){this.initData()},initData:function(){this.listAgentScrollView.content.removeAllChildren(!0),this.GameCenter.shuffleListAgent();var t=this.GameCenter.getListAgent(),e=0;if(t)for(var i=0;i<t.length;i++)if(0===t[i].type){var n=cc.instantiate(this.agentItem2Prefab);n.getComponent("AgentItem2").init(this.GameCenter,e,t[i]),n.parent=this.listAgentScrollView.content,e++}}}),cc._RF.pop()},{}],Audio:[function(t,e,i){"use strict";cc._RF.push(e,"afe9arSqlJDBJ5Cc1NbcT2s","Audio");var n=t("../helper/Constant");cc.Class({extends:cc.Component,properties:{clickAudioClip:{type:cc.AudioClip,default:null}},onLoad:function(){this.isSound=!0,this.loadConfig()},loadConfig:function(){var t=cc.sys.localStorage.getItem(n.IS_SOUND);t="true"===t||!0===t||"false"!==t&&!1!==t,this.isSound=t,this.saveConfig()},saveConfig:function(){cc.sys.localStorage.setItem(n.IS_SOUND,this.isSound)},setSoundClick:function(){this.setSound(!this.isSound)},setSound:function(t){this.isSound=t,this.saveConfig()},getSound:function(){return this.loadConfig(),this.isSound},playClick:function(){this.isSound&&cc.audioEngine.playEffect(this.clickAudioClip,!1)}}),cc._RF.pop()},{"../helper/Constant":"Constant"}],AvatarItem:[function(t,e,i){"use strict";cc._RF.push(e,"8fcd6u/w4tBhIP2VQMKOJ9p","AvatarItem"),cc.Class({extends:cc.Component,properties:{selectedNode:cc.Node,avatarSprite:cc.Sprite},onLoad:function(){},init:function(t,e){var i=this;this.GameCenter=t,this.UpdateAvatar=t.UpdateAvatar,this.avatar=e,this.url=e.content,cc.loader.load(this.url,function(t,e){if(e instanceof cc.Texture2D){var n=new cc.SpriteFrame(e,cc.Rect(0,0,90,128));i.avatarSprite.spriteFrame=n}}),this.selectAvatar(!1)},selectAvatar:function(t){this.selectedNode.active=t},isSelected:function(){return this.selectedNode.active},onClick:function(){this.UpdateAvatar.clearSelected(),this.selectAvatar(!0)}}),cc._RF.pop()},{}],AwardButtonCard:[function(t,e,i){"use strict";cc._RF.push(e,"d88a8Z8nHVLu7WR+WkMvPdo","AwardButtonCard"),cc.Class({extends:cc.Component,properties:{contentNode:cc.Node},init:function(t){this.GameCenter=t,this.GameRecharge=t.GameRecharge},onLoad:function(){this.initData()},initData:function(){var t=this.contentNode.getChildren();for(var e in t){var i=t[e].getComponent("AwardButtonItem"),n=i.shortName,o=this.getDataByName(n);o?i.init(this.GameCenter,o):i.node.active=!1}},getDataByName:function(t){var e=this.GameCenter.getConfig().award_provider;for(var i in e)if(e[i].short_name===t)return e[i];return null}}),cc._RF.pop()},{}],AwardButtonItem:[function(t,e,i){"use strict";cc._RF.push(e,"02506QrMv1HJJtrr33RthTw","AwardButtonItem");var n=t("../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{shortName:"",bonusNode:cc.Node,noBonusNode:cc.Node,bonusLabel:cc.Label,beforeBonusValueLabel:cc.Label,valueLabel:cc.Label},onLoad:function(){},init:function(t,e){this.GameCenter=t,this.data=e,0===e.bonus?(this.bonusNode.active=!1,this.noBonusNode.active=!0):(this.bonusNode.active=!0,this.noBonusNode.active=!1),this.bonusLabel.string=" -"+100*e.bonus+"% ";var i=e.listAmount[0];if(i){var o=this.getMoneyByCardValue(i),s=o;this.beforeBonusValueLabel.string="  Gi\xe1 VIN: "+n.numberWithCommas(o/(1-e.bonus))+"  ",this.valueLabel.string=n.numberWithCommas(s)}},getMoneyByCardValue:function(t){var e=this.GameCenter.getConfig().award_config;for(var i in e)if(e[i].vnd===t)return e[i].money;return 0},onClick:function(){this.GameCenter.Audio.playClick(),this.GameCenter.GameRecharge.AwardCard.awardWithShortName(this.shortName)}}),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil"}],AwardCardRateItem:[function(t,e,i){"use strict";cc._RF.push(e,"f8f44lHw6tGWp36g/CEuX4e","AwardCardRateItem");var n=t("../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{valueCardLabel:cc.Label,valueMoneyLabel:cc.Label,bgSprite:cc.Sprite,bg1SpriteFrame:cc.SpriteFrame,bg2SpriteFrame:cc.SpriteFrame},onLoad:function(){},init:function(t,e,i){this.GameCenter=t,this.data=e;var o=this.getMoneyByVnd();this.valueCardLabel.string=n.numberWithCommas(e.listAmount[1]),this.valueMoneyLabel.string=n.numberWithCommas(o),this.bgSprite.spriteFrame=i%2==0?this.bg1SpriteFrame:this.bg2SpriteFrame},initSale:function(t,e){this.data=t,this.valueCardLabel.string=n.numberWithCommas(t.vnd),this.valueMoneyLabel.string=n.numberWithCommas(t.money)},getMoneyByVnd:function(){var t=this.data.listAmount[0],e=this.GameCenter.getConfig().award_config;for(var i in e)if(e[i].vnd===t)return e[i].money;return 0}}),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil"}],AwardCard:[function(t,e,i){"use strict";cc._RF.push(e,"0f71e7/LLtGEJos4SWcua+H","AwardCard");var n=t("../../../util/Util"),o=t("../../../util/FormatUtil"),s=t("../../../helper/Constant"),a=t("../../../helper/Message"),r=t("../../../ui/drop-down-list/DropDownList");cc.Class({extends:cc.Component,properties:{moneyLabel:cc.Label,totalMoneyLabel:cc.Label,cardTypeDropDownList:r,cardValueDropDownList:r,awardCardRateItemPrefab:cc.Prefab,listCardRateNode:cc.Node,otpEditBox:cc.EditBox,smsButtonNode:cc.Node,otpButtonNode:cc.Node},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI},onLoad:function(){this.initData()},onEnable:function(){this.initMoney(),this.clear()},initData:function(){var t=this.GameCenter.getConfig().telco,e=this.GameCenter.getConfig().award_config;this.initListTelco(t),this.initListValue(e),this.initListRate(e),this.initTotalMoney()},initListTelco:function(t){for(var e in this.cardTypeDropDownList.removeAllItem(),t){var i=t[e].name;this.cardTypeDropDownList.addItem(i,t[e]),this.cardTypeDropDownList.setCallback(this.resetTelcoData,this)}},initListValue:function(t){this.cardValueDropDownList.removeAllItem();var e=this.cardTypeDropDownList.getValue(),i=this.getDataAwardByName(e);if(i)for(var n in t)for(var o=0;o<i.listAmount.length;o++)if(t[n].vnd===i.listAmount[o]){var s=t[n].vnd;this.cardValueDropDownList.addItem(i.listAmount[o+1],s),this.cardValueDropDownList.setCallback(this.initTotalMoney,this);break}},initListRate:function(t){this.listCardRateNode.removeAllChildren(!0);var e=this.cardTypeDropDownList.getValue(),i=this.getDataAwardByName(e);if(i)for(var n=0,o=0;o<t.length;o++)for(var s=0;s<i.listAmount.length;s++)if(t[o].vnd===i.listAmount[s]){n++;var a=cc.instantiate(this.awardCardRateItemPrefab);a.getComponent("AwardCardRateItem").init(this.GameCenter,i,n),a.parent=this.listCardRateNode;break}},getDataAwardByName:function(t){var e=this.GameCenter.getConfig().award_provider;for(var i in e)if(e[i].name===t)return e[i];return null},getDataAwardByShortName:function(t){var e=this.GameCenter.getConfig().award_provider;for(var i in e)if(e[i].short_name===t)return e[i];return null},resetTelcoData:function(){var t=this.GameCenter.getConfig().award_config;this.initListValue(t),this.initListRate(t),this.initTotalMoney()},awardWithShortName:function(t){var e=this.getDataAwardByShortName(t).name;this.GameCenter.GameRecharge.showAwardCardNode(),this.cardTypeDropDownList.selectByValue(e)},onGetOtpClick:function(){this.GameCenter.showProcessingNode(),this.GameCenter.sendRequest.sendToZone(s.REQUEST_GET_OTP)},onOTPClick:function(){this.smsButtonNode.active=!0,this.otpButtonNode.active=!1},onSMSClick:function(){this.smsButtonNode.active=!1,this.otpButtonNode.active=!0},onConfirmClick:function(){this.GameCenter.Audio.playClick();var t=this.cardValueDropDownList.getData(),e=this.cardTypeDropDownList.getValue(),i=this.otpEditBox.string;""!==i?this.awardCard(t,e,i):this.GameCenter.showDialogMessage(a.AWARD_TITLE,a.MISSING_INFO)},awardCard:function(t,e,i){this.GameCenter.showProcessingNode();var o={quantity:1,amount:t,type_card:n.getShortNameTelcoByName(e),otp:i};this.GameCenter.sendRequest.sendToZone(s.REQUEST_AWARD_CARD,o)},initMoney:function(){this.moneyLabel.string=o.numberWithCommas(this.GameCenter.getMoney())},initTotalMoney:function(){var t=this.cardValueDropDownList.getData();this.totalMoneyLabel.string=o.numberWithCommas(this.getMoneyByCardValue(t))},getMoneyByCardValue:function(t){var e=this.GameCenter.getConfig().award_config;for(var i in e)if(e[i].vnd===t)return e[i].money;return 0},clear:function(){this.initTotalMoney()},onBackClick:function(){this.GameCenter.GameRecharge.onAwardClick()}}),cc._RF.pop()},{"../../../helper/Constant":"Constant","../../../helper/Message":"Message","../../../ui/drop-down-list/DropDownList":"DropDownList","../../../util/FormatUtil":"FormatUtil","../../../util/Util":"Util"}],AwardHistoryItem:[function(t,e,i){"use strict";cc._RF.push(e,"a062adjYpdAjqz8gvGKsEm9","AwardHistoryItem");var n=t("../../util/FormatUtil"),o=t("../../helper/Message"),s=t("../../helper/Constant");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,idLabel:cc.Label,timeLabel:cc.Label,nameLabel:cc.Label,playBalanceLabel:cc.Label,remainBalanceLabel:cc.Label,noteLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e){this.data=t,t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.idLabel.string=t.id,this.timeLabel.string=n.getStringDateByTimeStamp(t.created_at),this.nameLabel.string=String.format(o.AWARD_DESCRIBE,t.card_type),this.playBalanceLabel.string=n.numberWithCommas(t.total_money),this.remainBalanceLabel.string=n.numberWithCommas(t.after_money),this.noteLabel.string=t.status==s.STATUS_FAILURE?o.FAILURE:o.SUCCESS;var i=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=i},onLoad:function(){}}),cc._RF.pop()},{"../../helper/Constant":"Constant","../../helper/Message":"Message","../../util/FormatUtil":"FormatUtil"}],Balance:[function(t,e,i){"use strict";cc._RF.push(e,"939d3OMLBhDV5pEaFjZ5hxD","Balance"),cc.Class({extends:cc.Component,properties:{balanceSprite:cc.Sprite,moneySpriteFrame:cc.SpriteFrame,goldSpriteFrame:cc.SpriteFrame},onLoad:function(){},init:function(t){this.balanceSprite.spriteFrame=t?this.moneySpriteFrame:this.goldSpriteFrame}}),cc._RF.pop()},{}],BaseController:[function(t,e,i){"use strict";var n;function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}cc._RF.push(e,"b366ddk2EJCt6ES5/aYalAy","BaseController");var s=t("../helper/Constant"),a=t("../helper/Config"),r=t("../lib/md5"),c=t("../object/Capcha");cc.Class((o(n={extends:cc.Component,properties:{},onLoad:function(){this.initBaseController()},initBaseController:function(){cc.V||(cc.V={}),this.initPrototype(),this.singletonVin(),this.singletonAPI(),this.singletonSFSManager()},initPrototype:function(){String.format||(String.format=function(t){var e=Array.prototype.slice.call(arguments,1);return t.replace(/{(\d+)}/g,function(t,i){return void 0!==e[i]?e[i]:t})})},singletonVin:function(){cc.V||(cc.V={})},singletonAPI:function(){if(!cc.V.api){var e=t("../api/API");cc.V.api=e}this.api=cc.V.api},singletonSFSManager:function(){if(!cc.V.sfsManager){var e=t("../sfs/SFSManager");cc.V.sfsManager=e}this.sfsManager=cc.V.sfsManager,this.sfs=this.sfsManager.sfs,this.SFS2X=this.sfsManager.SFS2X,this.sendRequest=this.sfsManager.sendRequest},clearTempRequests:function(){for(cc.V.tempRequests||(cc.V.tempRequests=[]);cc.V.tempRequests.length>0;)cc.V.tempRequests.pop()},getDeviceID:function(){var t=cc.sys.localStorage.getItem(s.DEVICE_ID);t||(t=(new c).device_id,cc.sys.localStorage.setItem(s.DEVICE_ID,t));return t},getDeviveToken:function(){return cc.device_token},setMarketingCode:function(t){cc.sys.localStorage.setItem(s.MARKETING_CODE,t)},getMarketingCode:function(){return cc.sys.localStorage.getItem(s.MARKETING_CODE)||""},setConfig:function(t){cc.V.config=t},getConfig:function(){return cc.V.config}},"setConfig",function(t){cc.V.config=t}),o(n,"getConfig",function(){return cc.V.config}),o(n,"setListAgent",function(t){cc.V.list_agent=t}),o(n,"getListAgent",function(){return cc.V.list_agent}),o(n,"shuffleListAgent",function(){for(var t=cc.V.list_agent,e=t.length;e>0;){var i=Math.floor(Math.random()*e),n=t[--e];t[e]=t[i],t[i]=n}return t}),o(n,"setGeneralConfig",function(t){cc.V.general_config=t}),o(n,"getGeneralConfig",function(){return cc.V.general_config}),o(n,"getVipPoint",function(){return cc.V.sfsManager.sfs.mySelf.variables.vip_point}),o(n,"setSecurityGame",function(t){cc.V.security_game=t}),o(n,"getSecurityGame",function(){return cc.V.security_game}),o(n,"setTimeLogin",function(t){cc.sys.localStorage.setItem(s.TIME_LOGIN,JSON.stringify(t))}),o(n,"getTimeLogin",function(){var t=cc.sys.localStorage.getItem(s.TIME_LOGIN);return t?t=JSON.parse(t):null}),o(n,"setGuide",function(t){cc.V.guide=t}),o(n,"getGuide",function(){return cc.V.guide}),o(n,"setPolicy",function(t){cc.V.policy=t}),o(n,"getPolicy",function(){return cc.V.policy}),o(n,"setLuckyWheel",function(t){cc.V.lucky_wheel=t}),o(n,"getLuckyWheel",function(){return cc.V.lucky_wheel}),o(n,"setQuest",function(t){cc.V.quest=t}),o(n,"getQuest",function(){return cc.V.quest}),o(n,"getLuckyWheel",function(){return cc.V.lucky_wheel}),o(n,"setFreeChip",function(t){cc.V.free_chip=t}),o(n,"getFreeChip",function(){return cc.V.free_chip}),o(n,"getTempData",function(){return cc.V.tempData||(cc.V.tempData={}),cc.V.tempData}),o(n,"setUser",function(t){cc.V.user=t}),o(n,"getUser",function(){return cc.V.user}),o(n,"setMoney",function(t){cc.V.user.money=t}),o(n,"setGold",function(t){cc.V.user.gold=t}),o(n,"getToken",function(){return cc.V.user.token}),o(n,"getUserId",function(){return cc.V.user.user_id}),o(n,"getSafeMoney",function(){return cc.V.sfsManager.sfs.mySelf.variables.safe_amount.value}),o(n,"getMoney",function(){return cc.V.sfsManager.sfs.mySelf.variables.money.value}),o(n,"getGold",function(){return cc.V.sfsManager.sfs.mySelf.variables.gold.value}),o(n,"getBalance",function(){return cc.V.sfsManager.sfs.mySelf.variables.balance.value}),o(n,"isAutoBuyIn",function(){return cc.V.sfsManager.sfs.mySelf.variables.is_auto_buy_in.value}),o(n,"getServerID",function(){return cc.V.sfsManager.sfs.mySelf.variables.server_id.value}),o(n,"getUserLuckyWheelFree",function(){return cc.V.sfsManager.sfs.mySelf.variables.lucky_wheel_free.value}),o(n,"setSceneName",function(t){cc.V.sceneName=t}),o(n,"getSceneName",function(){return cc.V.sceneName}),o(n,"setSceneGameSlot",function(t){cc.V.sceneGameSlot=t}),o(n,"isSenceGameSlot",function(){return cc.V.sceneGameSlot}),o(n,"setBulletSpeed",function(t){cc.V.config.bullet_speed=t}),o(n,"getBulletSpeed",function(){return cc.V.config.bullet_speed}),o(n,"setRoomInfo",function(t){cc.V.roomInfo=t}),o(n,"getRoomInfo",function(){return cc.V.roomInfo}),o(n,"getLastJoinedRoom",function(){return cc.V.sfsManager.sfs.lastJoinedRoom}),o(n,"getListUserInRoom",function(){var t=this.getLastJoinedRoom()._userManager._usersById.items,e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return e}),o(n,"getRoomName",function(){return cc.V.sfsManager.sfs.lastJoinedRoom.name||""}),o(n,"setShowEvent",function(t){cc.V.is_show_event=t}),o(n,"isShowEvent",function(){return cc.V.is_show_event}),o(n,"getDiamondLevel",function(){return cc.V.sfsManager.sfs.mySelf.variables.diamond_level.value}),o(n,"getDiamond",function(){return cc.V.sfsManager.sfs.mySelf.variables.diamond.value}),o(n,"setDiamondEvent",function(t){cc.V.diamond_event=t}),o(n,"getDiamondEvent",function(){return cc.V.diamond_event}),o(n,"setDiamondLevelEvent",function(t){cc.V.diamond_level=t}),o(n,"getDiamondLevelEvent",function(){return cc.V.diamond_level}),o(n,"setDiamondEventOpen",function(t){cc.V.diamond_event_open=t}),o(n,"getDiamondEventOpen",function(){return cc.V.diamond_event_open}),o(n,"setShowEvent",function(t){cc.V.is_show_event=t}),o(n,"isShowEvent",function(){return cc.V.is_show_event}),o(n,"getSFS",function(){return cc.V.sfsManager?cc.V.sfsManager.sfs:null}),o(n,"getSFSMySelf",function(){return cc.V.sfsManager.sfs.mySelf}),o(n,"getListUserByRoom",function(){var t=[];if(this.sfs){var e=this.sfs.lastJoinedRoom._userManager._usersByName.items;for(var i in e)e.hasOwnProperty(i)&&t.push(e[i])}return t}),o(n,"getTempRequests",function(){return cc.V.tempRequests||(cc.V.tempRequests=[]),cc.V.tempRequests}),o(n,"getGameName",function(){var t="",e=this.getRoomName().split("_");return e.length>1&&(t=e[1]),t}),o(n,"getRoomMinBet",function(){var t="",e=this.getRoomName().split("_");return e.length>1&&(t=e[1]),t}),o(n,"getTableId",function(){var t="",e=this.getRoomName().split("_");return e.length>3&&(t=e[3]),t}),o(n,"isScene",function(t){return this.getSceneName()===t}),o(n,"getRegisterCode",function(){return cc.sys.platform===cc.sys.DESKTOP_BROWSER?s.REGISTER_CODE_WEB:cc.sys.platform===cc.sys.ANDROID?s.REGISTER_CODE_GOOGLE_STORE:cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD?s.REGISTER_CODE_APPLE_STORE:s.REGISTER_CODE_WEB}),o(n,"getMarketingCode",function(){return cc.sys.localStorage.getItem(s.MARKETING_CODE)||""}),o(n,"isAndroid",function(){return cc.sys.platform===cc.sys.ANDROID}),o(n,"isIOS",function(){return cc.sys.platform===cc.sys.IPHONE||cc.sys.platform===cc.sys.IPAD}),o(n,"isConnected",function(){return this.getUser()&&cc.V.sfsManager&&cc.V.sfsManager.sfs&&cc.V.sfsManager.sfs.isConnected()}),o(n,"setAutoLogin",function(t){cc.sys.localStorage.setItem(s.AUTO_LOGIN,t)}),o(n,"isAutoLogin",function(){var t=cc.sys.localStorage.getItem(s.AUTO_LOGIN);return!!t&&"true"==t}),o(n,"getOSTypeCode",function(){return this.isAndroid()?1:this.isIOS()?0:void 0}),o(n,"setAccountType",function(t){cc.sys.localStorage.setItem(s.ACCOUNT_TYPE,t)}),o(n,"getAccountType",function(){return cc.sys.localStorage.getItem(s.ACCOUNT_TYPE)}),o(n,"setAccount",function(t,e){var i={username:t,password:e};cc.sys.localStorage.setItem(s.ACCOUNT,JSON.stringify(i))}),o(n,"getAccount",function(){var t=cc.sys.localStorage.getItem(s.ACCOUNT),e=cc.sys.localStorage.getItem(s.TIME_LOG_OUT);if(t){if(t=JSON.parse(t),!e)return t;if(e=parseInt(e),!((new Date).getTime()-e>=1e3*a.TIME_SAVE_ACCOUNT))return t;this.clearAccount()}return null}),o(n,"setAccountQuick",function(t,e){var i={username:t,password:e};cc.sys.localStorage.setItem(s.ACCOUNT_QUICK,JSON.stringify(i))}),o(n,"getAccountQuick",function(){var t=cc.sys.localStorage.getItem(s.ACCOUNT_QUICK);return t?t=JSON.parse(t):null}),o(n,"clearAccount",function(){cc.sys.localStorage.removeItem(s.ACCOUNT)}),o(n,"setListFavorites",function(t){cc.sys.localStorage.setItem(s.FAVORIES,JSON.stringify(t))}),o(n,"getListFavorites",function(){var t=cc.sys.localStorage.getItem(s.FAVORIES);if(t)try{return JSON.parse(t)}catch(t){return[]}return[]}),o(n,"addFavorite",function(t){for(var e=this.getListFavorites(),i=0,n=e.length;i<n;i++)if(e[i]===t){e.splice(i,1);break}e.push(t),e.length>10&&e.splice(10,1),this.setListFavorites(e)}),o(n,"getServiceConfig",function(){return cc.V.general_config.SERVICE_CONFIG}),o(n,"getTime",function(){return Math.floor(Date.now()/1e3)}),o(n,"getDK",function(t,e){var i=this.binaryAgent(this.getBinary());return r(t+e+i)}),o(n,"binaryAgent",function(t){var e="";return(t=(t=t.replace(/\s+/g,"")).match(/.{1,8}/g).join(" ")).split(" ").map(function(t){e+=String.fromCharCode(parseInt(t,2))}),e}),o(n,"getBinary",function(){var t="xmxxmxmxxmmxxmxmxmxxxmxxxmmmxxmxxmmmxmmmxmmxmxxxxmxmmxxmxmmmxxmmxmxmxmxxxmmmmxmxxmxxxmmmxmxmxxxxxmmmxxmmxmmmxmmmxmmmxxmxxxmmxxmmxmmxmxmmxmxxmxmxxmxxxmxmxmmxxmmxxmmmxmmmxxmmxmmmxmxmxxxxxmmxmxmxxmxmmxxxxmmmxxxmxmxmxxmxxmxmmxxmxmmmxxmmxmxxmxmxxmxxmmxmxmxxmmxxxmmmxmxxxxmmmxxxxxmmmxxxxxmmxmmxxmxxxmmxxmxmmxxxxmmxmxmxxmxxxmmmxmxmmxxxxmxmxmxmxmxxxmmmxxmmxmxxxmmxmxmxxmxmxmmmxxmmxmmmxmxmxmxxxmxxxxmxxmmxxmxxxxmmmxxmxmmmxxxxxmxxmxxxxmxmmxmxxmmxmmxmxmxmxmmmxmmmmxxmxxmmxmxmxxmmxxmxxmxmxxxm";return t=(t=t.replace(/x/g,"0")).replace(/m/g,"1")}),o(n,"checkSendEventDisconnect",function(){if(cc.S&&cc.V.sfsManager&&cc.V.sfsManager.sfs&&cc.V.sfsManager.sfs.isConnected()){var t=cc.V.last_send_time,e=!0;if(t)(new Date).getTime()-t<6e4&&(e=!1);e&&(cc.V.last_send_time=(new Date).getTime(),cc.V.sfsManager.sendRequest.sendNoPrefixToZone("REQUEST_PREVENT_DISCONNECT"))}}),o(n,"getServiceConfigByDevice",function(){return this.getServiceConfig().APK_FULL}),o(n,"getSign",function(t,e){var i=t+e+s.KEY;return r(i)}),o(n,"clearSFSManager",function(){var t=cc.V.general_config;cc.V.resume&&(cc.game.resume=cc.V.resume,cc.game.pause=cc.V.pause),cc.S={general_config:t},cc.V.sceneName=s.SCENE_GAME_CENTER,cc.V.tempData={}}),n)),cc._RF.pop()},{"../api/API":"API","../helper/Config":"Config","../helper/Constant":"Constant","../lib/md5":"md5","../object/Capcha":"Capcha","../sfs/SFSManager":"SFSManager"}],BasePlayer:[function(t,e,i){"use strict";cc._RF.push(e,"05628JT8HZNxqbNGOox9YYg","BasePlayer");var n=t("../../helper/Config"),o=t("../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{avatarSprite:cc.Sprite,avatarDefaultSpriteFrame:cc.SpriteFrame,nameLabel:cc.Label,balanceLabel:cc.Label,countDownProgressBar:cc.ProgressBar,roomMasterNode:cc.Node,requestLeftRoomNode:cc.Node,chatNode:cc.Node,chatLabel:cc.Label,emotionSprite:cc.Sprite,winNode:cc.Node,winLabel:cc.Label,loseNode:cc.Node,loseLabel:cc.Label,textLightNode:cc.Node,textLightMaskNode:cc.Node,textLightLabel:cc.Label,textDarkNode:cc.Node,textDarkMaskNode:cc.Node,textDarkLabel:cc.Label,betNode:cc.Node,betLabel:cc.Label,betTypeSprite:cc.Sprite,moneySpriteFrame:cc.SpriteFrame,goldSpriteFrame:cc.SpriteFrame,changeBalancePrefab:cc.Prefab,changeBalanceNode:cc.Node,emotionSpriteAtlas:cc.SpriteAtlas},onLoad:function(){this.isCountDown=!1,this.time=0,this.totalTime=0,this.betAmount=0,this.avatar="",this.balance=0,this.name="",this.timeoutChat=null,this.timeoutText=null,this.initBetX=this.betNode.x,this.initBetY=this.betNode.y,this.initEmotionX=this.emotionSprite.node.x,this.initEmotionY=this.emotionSprite.node.y,this.textLightLabel.node.scale=.85,this.textDarkLabel.node.scale=.85},onEnable:function(){this.clear(),this.changeBalanceNode.removeAllChildren(!0)},onDisable:function(){this.clearAllTimeout()},update:function(t){this.isCountDown&&(this.time+=t/this.totalTime,this.time>1&&(this.time=1),this.time<0&&(this.time=0),this.countDownProgressBar.progress=this.time)},startCountDown:function(t,e){this.isCountDown=!0,this.totalTime=e,this.time=(e-t)/e,this.countDownProgressBar.progress=this.time},stopCountDown:function(){this.isCountDown=!1,this.time=0,this.totalTime=0,this.countDownProgressBar.progress=0},setBetType:function(t){this.betTypeSprite.spriteFrame=t?this.moneySpriteFrame:this.goldSpriteFrame},setAvatar:function(t){var e=this;this.avatar=t,this.avatarSprite.spriteFrame=this.avatarDefaultSpriteFrame,t&&cc.loader.load(t,function(t,i){if(i instanceof cc.Texture2D){var n=new cc.SpriteFrame(i,cc.Rect(0,0,90,128));e.avatarSprite.spriteFrame=n}})},showChat:function(t){this.clearChat(),this.node.zIndex=1;var e=this.emotionSpriteAtlas.getSpriteFrame(t);e?this.showChatEmotion(e):this.showChatText(t)},showChatText:function(t){this.chatNode.active=!0,this.chatLabel.string=t,this.timeoutChat=setTimeout(function(){this.clearChat()}.bind(this),1e3*n.CHAT_GAME_TIME_OUT)},showChatEmotion:function(t){this.emotionSprite.node.active=!0,this.emotionSprite.spriteFrame=t,this.timeoutChat=setTimeout(function(){this.clearChat()}.bind(this),1e3*n.CHAT_GAME_TIME_OUT),this.initActionEmotion()},initActionEmotion:function(){this.emotionSprite.node.stopAllActions(),this.emotionSprite.node.setPosition(this.initEmotionX,this.initEmotionY),this.emotionSprite.node.runAction(cc.repeatForever(cc.sequence(cc.moveTo(.5,this.initEmotionX,this.initEmotionY+15),cc.moveTo(.5,this.initEmotionX,this.initEmotionY))))},showChangeBalance:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0!==t){e&&this.changeBalanceNode.removeAllChildren(!0),t>0&&this.changeBalanceNode.removeAllChildren(!0);var i=cc.instantiate(this.changeBalancePrefab),n=95;this.node.x<0&&(n*=-1),i.setPosition(n,45),i.parent=this.changeBalanceNode,i.getComponent("ChangeBalance").showChangeBalance(t)}},setBalance:function(t){this.balance=parseInt(t),this.balanceLabel.string=o.numberWithCommas(this.balance)},showEffectByChangeBalance:function(t){t>0?this.showWinEffect("TH\u1eaeNG"):t<0?this.showLoseEffect("THUA"):this.showLoseEffect("H\xd2A")},showBetNode:function(t){this.betAmount=t,this.betNode.active=!0,this.setBetLabel(t),this.betNode.stopAllActions(),this.betNode.x=this.initBetX,this.betNode.y=this.initBetY-50,this.betNode.opacity=0,this.betNode.runAction(cc.spawn(cc.moveTo(.5,this.initBetX,this.initBetY),cc.fadeIn(.5)))},showBetNodeWithoutAnimation:function(t){this.betNode.stopAllActions(),this.betAmount=t,this.betNode.active=!0,this.setBetLabel(t),this.betNode.x=this.initBetX,this.betNode.y=this.initBetY,this.betNode.opacity=255},hideBetNode:function(){this.betNode.active=!1},setBetLabel:function(t){this.betLabel.string=o.numberWithCommas(t)},setRequestLeftRoom:function(t){this.requestLeftRoomNode.active=t},isRequestLeftRoom:function(){return this.requestLeftRoomNode.active},setRoomMaster:function(t){this.roomMasterNode.active=t},setStatus:function(t){this.nameLabel.string=t},setPlayerName:function(t){this.name=t,this.nameLabel.string=t},resetPlayerName:function(){this.nameLabel.string=this.name},resetPlayerNameWithString:function(t){this.nameLabel.string===t&&(this.nameLabel.string=this.name)},resetPlayerNameExcept:function(t){this.nameLabel.string!==t&&(this.nameLabel.string=this.name)},showWinEffect:function(t){this.winNode.active=!0,this.winLabel.string=t},hideWinEffect:function(){this.winNode.active=!1},showLoseEffect:function(t){this.loseNode.active=!0,this.loseLabel.string=t},hideLoseEffect:function(){this.loseNode.active=!1},hideWinLoseEffect:function(){this.hideWinEffect(),this.hideLoseEffect()},showTextLight:function(t,e,i){clearTimeout(this.timeoutText),this.textLightNode.active=!0,this.textLightLabel.string=t,this.textDarkNode.active=!1,i?(this.textLightMaskNode.active=!1,this.textLightLabel.node.setPosition(i)):(this.textLightMaskNode.active=!0,this.textLightLabel.node.setPosition(0,0)),e&&(this.timeoutText=setTimeout(function(){this.hideText()}.bind(this),3e3))},hideTextLight:function(){this.textLightNode.active=!1,this.textLightLabel.string=""},showTextDark:function(t,e,i){clearTimeout(this.timeoutText),this.textDarkNode.active=!0,this.textDarkLabel.string=t,this.textLightNode.active=!1,i?(this.textDarkMaskNode.active=!1,this.textDarkLabel.node.setPosition(i)):(this.textDarkMaskNode.active=!0,this.textDarkLabel.node.setPosition(0,0)),e&&(this.timeoutText=setTimeout(function(){this.hideText()}.bind(this),3e3))},hideTextDark:function(){this.textDarkNode.active=!1,this.textDarkLabel.string=""},hideText:function(){this.hideTextLight(),this.hideTextDark()},getRemainTimeCountDown:function(){return this.totalTime*(1-this.time)},getTimeCountDown:function(){return this.totalTime},getTotalTimeCountDown:function(){return this.totalTime},clearChat:function(){clearTimeout(this.timeoutChat),this.chatNode.active=!1,this.chatLabel.string="",this.emotionSprite.node.active=!1,this.node.zIndex=0},clearAllTimeout:function(){clearTimeout(this.timeoutChat),clearTimeout(this.timeoutText)},clear:function(){this.clearChat()},reset:function(){this.setRequestLeftRoom(!1),this.stopCountDown(),this.hideWinEffect(),this.hideLoseEffect(),this.hideBetNode(),this.hideText()}}),cc._RF.pop()},{"../../helper/Config":"Config","../../util/FormatUtil":"FormatUtil"}],BaseScene:[function(t,e,i){"use strict";cc._RF.push(e,"e1bcf9GtslJyaIOYjxE2vap","BaseScene");var n=t("./BaseController");cc.Class({extends:n,properties:{miniGamePrefab:cc.Prefab,miniGameContainerNode:cc.Node},onLoad:function(){this._super(),this.initMiniGame()},initMiniGame:function(){this.sfs&&this.sfs.isConnected()&&this.createMinigameNode()},createMinigameNode:function(){var t=this.getPersistNode();if(t)t.parent=this.miniGameContainerNode,t.active=!0,this.MiniGame=t.getComponent("MiniGame"),this.MiniGame.init(this);else if(!this.MiniGame){var e=cc.instantiate(this.miniGamePrefab);this.MiniGame=e.getComponent("MiniGame"),this.MiniGame.init(this),e.parent=this.miniGameContainerNode}},loadPersistScene:function(t){this.MiniGame&&(this.MiniGame.node.parent=null,cc.game.addPersistRootNode(this.MiniGame.node),this.MiniGame.node.active=!1),cc.director.loadScene(t)},getPersistNode:function(){var t=cc.game._persistRootNodes;for(var e in t)if(t[e].name===this.miniGamePrefab.name)return t[e];return null}}),cc._RF.pop()},{"./BaseController":"BaseController"}],BauCuaBetItem:[function(t,e,i){"use strict";cc._RF.push(e,"b3d57cCitpAPZO4c3/pMfMr","BauCuaBetItem");var n=t("../../../util/FormatUtil"),o=t("../bau-cua/BauCuaConstant");cc.Class({extends:cc.Component,properties:{betLabel:cc.Label,selectedNode:cc.Node},onLoad:function(){},init:function(t,e){this.BauCua=t,this.bet=e,this.betLabel.string=n.nFormatter(e)},getBet:function(){return this.bet},onClick:function(){this.BauCua.BauCuaBet.selectItem(this),this.BauCua.getTempData()[o.BET_VALUE]=this.bet},select:function(){this.selectedNode.active=!0},unSelect:function(){this.selectedNode.active=!1}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil","../bau-cua/BauCuaConstant":"BauCuaConstant"}],BauCuaBet:[function(t,e,i){"use strict";cc._RF.push(e,"7f22dSXE3VJU4YTS2BpU3AN","BauCuaBet");var n=t("../item/BauCuaBetItem"),o=t("../../../helper/Config");cc.Class({extends:cc.Component,properties:{listBetItems:[n]},init:function(t){for(var e in this.BauCua=t,this.listBetItems)this.listBetItems[e].init(t,o.BAU_CUA_LIST_BET[e]),0==e&&this.selectItem(this.listBetItems[e])},onLoad:function(){},selectItem:function(t){for(var e in this.listBetItems)this.listBetItems[e]===t?(this.selectedItem=t,this.listBetItems[e].select()):this.listBetItems[e].unSelect()},selectItemByBet:function(t){for(var e in this.listBetItems)this.listBetItems[e].getBet()===t?(this.selectedItem=this.listBetItems[e],this.listBetItems[e].select()):this.listBetItems[e].unSelect()},unSelectedAllItem:function(){for(var t in this.listBetItems)this.listBetItems[t].unSelect()},getSelectedItem:function(){return this.selectedItem},getSelectedBet:function(){return this.getSelectedItem().getBet()}}),cc._RF.pop()},{"../../../helper/Config":"Config","../item/BauCuaBetItem":"BauCuaBetItem"}],BauCuaConfig:[function(t,e,i){"use strict";cc._RF.push(e,"99733lvjgRDJJM3lRg8gjMS","BauCuaConfig");e.exports={NUMBER_HISTORY:20,TIME_SHAKE_PLATE:.05,TIME_SHOW_COIN:2.5,DISTANCE_MOVE_BOWL_X:-60,DISTANCE_MOVE_BOWL_Y:-60},cc._RF.pop()},{}],BauCuaConstant:[function(t,e,i){"use strict";cc._RF.push(e,"b1ae7wYgNRKn5+rPD0I//Sd","BauCuaConstant");e.exports={REQUEST_START:"START",REQUEST_FINISH:"FINISH",REQUEST_UPDATE:"UPDATE",REQUEST_INFO:"INFO",REQUEST_MESSAGE:"MESSAGE",REQUEST_BET:"BET",REQUEST_CHAT:"CHAT",ADD_EVENT:"hooheyhow.ADD_EVENT",REMOVE_EVENT:"hooheyhow.REMOVE_EVENT",GET_STATE:"hooheyhow.GET_STATE",BET:"hooheyhow.BET",CHAT:"hooheyhow.CHAT",IS_SHOW:"hooheyhow_is_show",IS_SHOW_CHAT:"hooheyhow_is_show_chat",POSITION:"hooheyhow_position",BET_VALUE:"hooheyhow_bet_value",GAME_STATE_WAITTING:0,GAME_STATE_BETTING:1,NUMBER_HISTORY:10,MONEY_TYPE:"hooheyhow_money_type",MONEY_TYPE_GOLD:"GOLD",MONEY_TYPE_MONEY:"MONEY",GET_TOP_2:"GET_TOP",GET_TOP:"hooheyhow.GET_TOP"},cc._RF.pop()},{}],BauCuaHistories:[function(t,e,i){"use strict";cc._RF.push(e,"675166Lm25BrIgpOX47jMQn","BauCuaHistories");var n=t("../../../../helper/Message");cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,moneyButtonNode:cc.Node,goldButtonNode:cc.Node,historyItemPrefab:cc.Prefab,historyScrollView:cc.ScrollView},init:function(t){this.controller=t},onLoad:function(){},onEnable:function(){this.data=null,this.onMoneyClick()},onDisable:function(){this.removeXhr()},onMoneyClick:function(){this.goldButtonNode.active=!0,this.moneyButtonNode.active=!1,this.loadData()},onGoldClick:function(){this.goldButtonNode.active=!1,this.moneyButtonNode.active=!0,this.loadData()},loadData:function(){var t=this;if(this.showLoadingNode(),this.historyScrollView.content.removeAllChildren(!0),this.data)this.initData();else{var e={token:this.controller.getToken(),user_id:this.controller.getUserId()};this.controller.api.getHistoryBauCua(e,function(e){t.data=e.data,t.initData()},function(e){t.showListNode(),t.controller.showDialogMessage(n.HISTORY_TITLE,e.msg)})}},initData:function(){if(this.showListNode(),this.data){var t=this.isMoneyType()?this.data[0]:this.data[1];for(var e in t){var i=cc.instantiate(this.historyItemPrefab);i.parent=this.historyScrollView.content,i.getComponent("BauCuaHistoryItem").init(t[e],e)}}},isMoneyType:function(){return this.goldButtonNode.active},showLoadingNode:function(){this.loadingNode.active=!0,this.historyScrollView.node.active=!1},showListNode:function(){this.loadingNode.active=!1,this.historyScrollView.node.active=!0},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{"../../../../helper/Message":"Message"}],BauCuaHistoryGameItem:[function(t,e,i){"use strict";cc._RF.push(e,"d610fMeOqJIlbKR4ka5yNBy","BauCuaHistoryGameItem"),cc.Class({extends:cc.Component,properties:{item1Sprite:cc.Sprite,item2Sprite:cc.Sprite,item3Sprite:cc.Sprite,itemsSpriteFrame:[cc.SpriteFrame]},onLoad:function(){},init:function(t){this.item1Sprite.spriteFrame=this.getSpriteFrameById(t[0]),this.item2Sprite.spriteFrame=this.getSpriteFrameById(t[1]),this.item3Sprite.spriteFrame=this.getSpriteFrameById(t[2])},getSpriteFrameById:function(t){return this.itemsSpriteFrame[t-1]}}),cc._RF.pop()},{}],BauCuaHistoryItem:[function(t,e,i){"use strict";cc._RF.push(e,"a7e0eaKtmNODKoAxP4KzN9Y","BauCuaHistoryItem");var n=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,idLabel:cc.Label,timeLabel:cc.Label,result1Sprite:cc.Sprite,result2Sprite:cc.Sprite,result3Sprite:cc.Sprite,itemsSpriteFrame:[cc.SpriteFrame],betLabel:cc.Label,getLabel:cc.Label,noteLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e){this.data=t,t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.idLabel.string=t.id,this.timeLabel.string=n.getStringDateByTimeStamp(t.created_at),this.betLabel.string=n.numberWithCommas(t.total_money_bet),this.getLabel.string=n.numberWithCommas(t.total_money_win),this.initResult(t.result);var i=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=i},onLoad:function(){},initResult:function(t){t=JSON.parse(t),this.result1Sprite.spriteFrame=this.getSpriteFrameByValue(t[0]),this.result2Sprite.spriteFrame=this.getSpriteFrameByValue(t[1]),this.result3Sprite.spriteFrame=this.getSpriteFrameByValue(t[2])},getSpriteFrameByValue:function(t){return this.itemsSpriteFrame[t-1]}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil"}],BauCuaHistory:[function(t,e,i){"use strict";cc._RF.push(e,"5db3dm1S39BMrmK0lfma5mK","BauCuaHistory");var n=t("../item/BauCuaNumberItem"),o=t("./BauCuaConstant");cc.Class({extends:cc.Component,properties:{historyGameItemPrefab:cc.Prefab,historyScrollView:cc.ScrollView,listNumberItems:[n]},init:function(t){this.BauCua=t;for(var e=0;e<this.listNumberItems.length;e++)this.listNumberItems[e].init(e+1)},onLoad:function(){},initHistory:function(t){var e=t.list_door,i=t.list_dice;if(e)for(var n in this.listNumberItems)for(var o in e)if(this.listNumberItems[n].getId()==e[o].door_id){this.listNumberItems[n].setNumber(e[o].count);break}if(i)for(var s in this.historyScrollView.content.removeAllChildren(!0),i)this.instanceItem(i[s])},addHistory:function(t){var e=this.historyScrollView.content.getChildren();for(var i in e.length>=o.NUMBER_HISTORY&&e[0].removeFromParent(!0),this.instanceItem(t),this.listNumberItems)for(var n in t)this.listNumberItems[i].getId()==t[n]&&this.listNumberItems[i].addNumber()},instanceItem:function(t){var e=cc.instantiate(this.historyGameItemPrefab);e.parent=this.historyScrollView.content,e.getComponent("BauCuaHistoryGameItem").init(t)}}),cc._RF.pop()},{"../item/BauCuaNumberItem":"BauCuaNumberItem","./BauCuaConstant":"BauCuaConstant"}],BauCuaItem:[function(t,e,i){"use strict";cc._RF.push(e,"a9410f+ZTVO9rFvVwvtS1pK","BauCuaItem");var n=t("../../../object/RoomType"),o=t("../bau-cua/BauCuaConstant"),s=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{totalBetLabel:cc.Label,betLabel:cc.Label,betNode:cc.Node,selectedNode:cc.Node,xLabel:cc.Label,xNode:cc.Node},onLoad:function(){},init:function(t,e){this.BauCua=t,this.id=e},onClick:function(){var t={door_id:this.id,money_type:this.BauCua.isMoneyType?n.MONEY_CODE:n.GOLD_CODE,amount:this.BauCua.BauCuaBet.getSelectedBet()};this.BauCua.sendRequest.sendNoPrefixToZone(o.BET,t)},setTotalBet:function(t){this.totalBetLabel.string=s.nFormatter(t,2)},setBet:function(t){this.betNode.active=0!=t,this.betLabel.string=s.nFormatter(t,2)},isBet:function(){return this.betNode.active},showEffectByNumberWin:function(t){t>0&&(this.showSelect(),this.setX(t))},showSelect:function(){this.selectedNode.active=!0},hideSelect:function(){this.selectedNode.active=!1},setX:function(t){t>1&&(this.xLabel.string="x"+t,this.xNode.active=!0)},getId:function(){return this.id},reset:function(){this.betNode.active=!1,this.totalBetLabel.string=0,this.betLabel.string=0,this.xNode.active=!1,this.hideSelect(!0)}}),cc._RF.pop()},{"../../../object/RoomType":"RoomType","../../../util/FormatUtil":"FormatUtil","../bau-cua/BauCuaConstant":"BauCuaConstant"}],BauCuaNumberItem:[function(t,e,i){"use strict";cc._RF.push(e,"266ebZliEpA9Y9e+gbwZC3l","BauCuaNumberItem");var n=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{numberLabel:cc.Label},onLoad:function(){},init:function(t){this.id=t},getId:function(){return this.id},setNumber:function(t){this.number=t,this.numberLabel.string=n.numberWithCommas(t)},addNumber:function(){this.number||(this.number=0),this.number=this.number+1,this.numberLabel.string=n.numberWithCommas(this.number)},getNumber:function(){return this.number}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil"}],BauCuaPlate:[function(t,e,i){"use strict";cc._RF.push(e,"f0f93JxUVJFW5x3VLNe771T","BauCuaPlate");var n=t("./BauCuaConfig");cc.Class({extends:cc.Component,properties:{bowlNode:cc.Node,xocNode:cc.Node,item1Sprite:cc.Sprite,item2Sprite:cc.Sprite,item3Sprite:cc.Sprite,animation:cc.Animation,listSpriteFrame:[cc.SpriteFrame]},init:function(t){this.BauCua=t},onLoad:function(){this.isOnLoad=!0,this.duration=this.animation.defaultClip.duration,this.bowlInitX=this.bowlNode.x,this.bowlInitY=this.bowlNode.y,this.timeEachShake=n.TIME_SHAKE_PLATE,this.timeShowCoin=n.TIME_SHOW_COIN,this.distanceMoveBowlX=n.DISTANCE_MOVE_BOWL_X,this.distanceMoveBowlY=n.DISTANCE_MOVE_BOWL_Y},onEnable:function(){this.reset()},onDisable:function(){clearTimeout(this.timeoutHideXoc)},shakePlate:function(t){this.reset(),this.node.active=!0,this.item1Sprite.spriteFrame=this.getSpriteFrameByDice(t[0]),this.item2Sprite.spriteFrame=this.getSpriteFrameByDice(t[1]),this.item3Sprite.spriteFrame=this.getSpriteFrameByDice(t[2]),this.xocNode.active=!0,this.xocNode.getComponent(cc.Animation).play(),clearTimeout(this.timeoutHideXoc),this.timeoutHideXoc=setTimeout(function(){this.xocNode.active=!1,this.bowlNode.runAction(cc.moveBy(this.timeShowCoin,this.distanceMoveBowlX,this.distanceMoveBowlY))}.bind(this),1e3*this.duration)},shakePlateBNoAnimation:function(t){this.reset(),this.item1Sprite.spriteFrame=this.getSpriteFrameByDice(t[0]),this.item2Sprite.spriteFrame=this.getSpriteFrameByDice(t[1]),this.item3Sprite.spriteFrame=this.getSpriteFrameByDice(t[2]),this.isOnLoad?this.bowlNode.setPosition(this.bowlInitX+this.distanceMoveBowlX,this.bowlInitY+this.distanceMoveBowlY):this.bowlNode.setPosition(n.DISTANCE_MOVE_BOWL_X+1,n.DISTANCE_MOVE_BOWL_Y-1)},getSpriteFrameByDice:function(t){return this.listSpriteFrame[t-1]},reset:function(){this.isOnLoad&&(this.bowlNode.stopAllActions(),this.bowlNode.setPosition(this.bowlInitX,this.bowlInitY),this.bowlNode.setPosition(1,-1),this.xocNode.active=!1)}}),cc._RF.pop()},{"./BauCuaConfig":"BauCuaConfig"}],BauCuaRank:[function(t,e,i){"use strict";cc._RF.push(e,"9fd7bashoJAyJOoVlDJlj33","BauCuaRank");t("../../../helper/Config");var n=t("../../../helper/Constant"),o=t("../../../helper/Message"),s=t("../../../util/FormatUtil"),a=t("../item/JackpotItem");cc.Class({extends:cc.Component,properties:{titleLabel:cc.Label,moneyNode:cc.Node,goldNode:cc.Node,loadingNode:cc.Node,currentWeekNode:cc.Node,lastWeekNode:cc.Node,JackpotItem:a,listTopNicknameLabel:[cc.Label],listTopWinLabel:[cc.Label],myWinLabel:[cc.Label],percentLabel:[cc.Label],lastWeekListTopNicknameLabel:[cc.Label],lastWeekListTopWinLabel:[cc.Label],balanceTopWinLabel:[cc.Label],dayLabel:cc.Label,hourLabel:cc.Label,minutesLabel:cc.Label,secondsLabel:cc.Label},init:function(t){this.controller=t},onLoad:function(){this.isMoneyType=!0,this.setTypeRoom(this.isMoneyType),this.dialogForm=this.node.getComponent("DialogForm")},onEnable:function(){cc.sys.isBrowser&&this.addEventKeyPress(),this.reset(),this.loadData()},onDisable:function(){cc.sys.isBrowser&&this.removeEventKeyPress(),clearInterval(this.timeInterval),this.removeXhr()},addEventKeyPress:function(){var t=this;t.keyEventListener=cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,i){switch(e){case cc.KEY.escape:t.isTop()&&t.hideDialog()}}},t.node)},removeEventKeyPress:function(){this.keyEventListener&&cc.eventManager.removeListener(this.keyEventListener)},isTop:function(){return!this.controller.DialogMessage||!this.controller.DialogMessage.node.active&&!this.controller.Processing.node.active},loadData:function(){var t=this;if(this.loadingNode.active=!0,this.data)this.initData();else{var e={token:this.controller.getToken(),user_id:this.controller.getUserId()};this.controller.api.getTopWeekBauCua(e,function(e){t.data=e.data,t.initData()},function(e){t.loadingNode.active=!1,t.controller.showDialogMessage(o.BAU_CUA_TOP_WEEK_TITLE,e.msg)})}},initData:function(){if(this.loadingNode.active=!1,this.data){var t=this.isMoneyType?this.data.money:this.data.gold;this.initLastWeekData(t),this.initThisWeekData(t),this.initUserData(this.data.user),this.initTime()}},initLastWeekData:function(t){if(t){var e=t.last_week;if(this.totalAmountLastWeek=0,e)for(var i in e){var n=e[i].door_id-1;this.lastWeekListTopNicknameLabel[n].string=e[i].nick_name,this.lastWeekListTopWinLabel[n].string=s.numberWithCommas(e[i].amount),this.balanceTopWinLabel[n].string=s.numberWithCommas(e[i].top_prize),this.totalAmountLastWeek+=e[i].top_prize}}var o=this.data.pecent_win_week;if(o)for(var a in this.percentLabel)this.percentLabel[a].string=o[a]+"%"},initThisWeekData:function(t){if(t){var e=t.this_week;if(e)for(var i in e){var n=e[i].door_id-1;this.listTopNicknameLabel[n].string=e[i].nick_name,this.listTopWinLabel[n].string=s.numberWithCommas(e[i].amount)}}},isShowLastWeek:function(){return this.lastWeekNode.active},initUserData:function(t){var e=this.isMoneyType?t.money:t.gold;for(var i in e)this.myWinLabel[e[i].door_id-1].string=s.numberWithCommas(e[i].amount)},initTime:function(){this.initTimeLabel(),clearInterval(this.timeInterval),this.timeInterval=setInterval(function(){this.data.remain_time--,this.data.remain_time<0&&(this.data.remain_time=604800),this.initTimeLabel()}.bind(this),1e3)},initTimeLabel:function(){var t=this.data.remain_time,e=parseInt(t/86400),i=parseInt((t-86400*e)/3600),n=parseInt((t-86400*e-3600*i)/60),o=parseInt(t-86400*e-3600*i-60*n);this.dayLabel.string=e,this.hourLabel.string=i,this.minutesLabel.string=n,this.secondsLabel.string=o},showDialog:function(){this.dialogForm||(this.dialogForm=this.node.getComponent("DialogForm")),this.dialogForm.showDialog()},hideDialog:function(){this.dialogForm||(this.dialogForm=this.node.getComponent("DialogForm")),this.dialogForm.hideDialog()},onCurrentWeekClick:function(){this.currentWeekNode.active=!0,this.lastWeekNode.active=!1,this.titleLabel.string="X\u1ebeP H\u1ea0NG HI\u1ec6N T\u1ea0I",this.initJackpotWithoutAnimation()},onLastWeekClick:function(){this.currentWeekNode.active=!1,this.lastWeekNode.active=!0,this.titleLabel.string="X\u1ebeP H\u1ea0NG TU\u1ea6N TR\u01af\u1edaC",this.JackpotItem.setMoneyWithoutAnimation(this.totalAmountLastWeek)},onTutorialClick:function(){this.controller.Tutorial.showDialog(),this.controller.Tutorial.showTutorialByGameName(n.BAU_CUA)},onGoldClick:function(){this.setTypeRoom(!this.isMoneyType)},onMoneyClick:function(){this.setTypeRoom(!this.isMoneyType)},setTypeRoom:function(t){this.isMoneyType=t,this.moneyNode.active=t,this.goldNode.active=!t,this.initJackpot(),this.initInfo()},initJackpotWithoutAnimation:function(){var t=this.controller.MiniGame.BauCua.data;if(t){var e=t.jackpot_gold,i=t.jackpot_money;this.isMoneyType?this.JackpotItem.setMoneyWithoutAnimation(i):this.JackpotItem.setMoneyWithoutAnimation(e)}},initJackpot:function(){var t=this.controller.MiniGame.BauCua.data;if(t){var e=t.jackpot_gold,i=t.jackpot_money;this.isShowLastWeek()||(this.isMoneyType?this.JackpotItem.setMoney(i):this.JackpotItem.setMoney(e))}},initInfo:function(){if(this.resetAllLabel(),this.data){var t=this.isMoneyType?this.data.money:this.data.gold;this.initLastWeekData(t),this.initThisWeekData(t),this.initUserData(this.data.user)}},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)},reset:function(){this.data=null,this.dayLabel.string="",this.hourLabel.string="",this.minutesLabel.string="",this.secondsLabel.string="",this.resetAllLabel()},resetAllLabel:function(){for(var t in this.listTopNicknameLabel)this.listTopNicknameLabel[t].string="...";for(var t in this.listTopWinLabel)this.listTopWinLabel[t].string=0;for(var t in this.myWinLabel)this.myWinLabel[t].string=0;for(var t in this.lastWeekListTopNicknameLabel)this.lastWeekListTopNicknameLabel[t].string="...";for(var t in this.lastWeekListTopWinLabel)this.lastWeekListTopWinLabel[t].string=0;for(var t in this.percentLabel)this.percentLabel[t].string=""}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../helper/Constant":"Constant","../../../helper/Message":"Message","../../../util/FormatUtil":"FormatUtil","../item/JackpotItem":"JackpotItem"}],BauCuaState:[function(t,e,i){"use strict";cc._RF.push(e,"3f9b2/dpS9IELkibc/XPnm2","BauCuaState");var n=t("./BauCuaConstant"),o={currentState:null,BETTING:"BETTING",WAITTING:"WAITTING",setState:function(t){this.currentState=t},setStateById:function(t){switch(t){case n.GAME_STATE_BETTING:this.setBetting();break;case n.GAME_STATE_WAITTING:this.setWaitting()}},setBetting:function(){this.currentState=this.BETTING},setWaitting:function(){this.currentState=this.WAITTING},isBetting:function(){return this.currentState===this.BETTING},isWaitting:function(){return this.currentState===this.WAITTING}};e.exports=o,cc._RF.pop()},{"./BauCuaConstant":"BauCuaConstant"}],BauCuaTime:[function(t,e,i){"use strict";cc._RF.push(e,"c087czN929JypsuHaTnWBxz","BauCuaTime");var n=t("./BauCuaConstant"),o=t("../../../helper/Message");cc.Class({extends:cc.Component,properties:{titleLabel:cc.Label,timeLabel:cc.Label},init:function(t){this.BauCua=t},onLoad:function(){},onDestroy:function(){clearInterval(this.timeInterval)},initTime:function(t){t&&(t.game_state&&(this.gameState=t.game_state,this.setTitleByGameState(this.gameState)),t.remain_time&&(this.time=t.remain_time,this.setTitleByGameState(this.gameState),this.setTimeLabel(this.time),clearInterval(this.timeInterval),this.timeInterval=setInterval(function(){this.time-=1,this.time<0&&(this.time=0,clearInterval(this.timeInterval)),this.setTimeLabel(this.time)}.bind(this),1e3)))},setTitleByGameState:function(t){switch(t){case n.GAME_STATE_WAITTING:this.titleLabel.string=o.BAU_CUA_NEXT_TURN,this.timeLabel.node.color=cc.Color.YELLOW;break;case n.GAME_STATE_BETTING:this.titleLabel.string=o.BAU_CUA_BET,this.timeLabel.node.color=cc.Color.WHITE}},setTimeLabel:function(t){this.timeLabel.string=t}}),cc._RF.pop()},{"../../../helper/Message":"Message","./BauCuaConstant":"BauCuaConstant"}],BauCuaUI:[function(t,e,i){"use strict";cc._RF.push(e,"0600e12BKJI9r73O3dxY76m","BauCuaUI"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{}],BauCua:[function(t,e,i){"use strict";cc._RF.push(e,"1a6bdiM3upMELme/iMyUG27","BauCua");var n=t("../../../base/BaseController"),o=t("./BauCuaState"),s=t("./BauCuaConstant"),a=t("./BauCuaHistory"),r=t("./BauCuaTime"),c=t("./BauCuaPlate"),h=t("./BauCuaBet"),l=t("../MiniGameResult"),u=t("../item/BauCuaItem"),d=t("../item/JackpotItem"),m=t("../../../object/RoomType"),p=t("../../../util/FormatUtil"),f=t("../../../helper/Message"),_=t("../../../helper/Constant"),S=t("../../../helper/Config"),g=t("../MiniGameConstant");cc.Class({extends:n,properties:{idLabel:cc.Label,moneyNode:cc.Node,goldNode:cc.Node,toastPrefab:cc.Prefab,JackpotItem:d,listItems:[u],BauCuaTime:r,BauCuaHistory:a,BauCuaPlate:c,BauCuaBet:h,MiniGameResult:l},init:function(t){this.controller=t},onLoad:function(){this._super(),this.data=null,this.time=0,this.timeInterval=null,this.resultTimeout=null,this.isMoneyType=!0,this.BauCuaState=o,this.BauCuaTime.init(this),this.BauCuaHistory.init(this),this.BauCuaPlate.init(this),this.BauCuaBet.init(this);for(var t=0;t<this.listItems.length;t++)this.listItems[t].init(this,t+1);this.initTypeRoom(),this.setTypeRoom(this.isMoneyType),this.initData()},onEnable:function(){this.BauCuaPlate.node.active=!1,this.sendRequest.sendNoPrefixToZone(s.ADD_EVENT)},onDisable:function(){this.destroyGame()},destroyGame:function(){this.reset(),clearInterval(this.timeInterval),clearTimeout(this.resultTimeout),this.sendRequest.sendNoPrefixToZone(s.REMOVE_EVENT)},initData:function(){this.initSaveData(),this.initTempData()},initTypeRoom:function(){this.isMoneyType=!0,this.getTempData()[s.MONEY_TYPE]===s.MONEY_TYPE_GOLD&&(this.isMoneyType=!1)},initSaveData:function(){var t=cc.sys.localStorage.getItem(s.POSITION);t&&(t=JSON.parse(t),this.positionX=t.x,this.positionY=t.y)},initTempData:function(){var t=this.getTempData()[s.BET_VALUE];t&&this.BauCuaBet.selectItemByBet(t)},handleRequest:function(t){var e=t.game_cmd,i=t.game_data,n=t.game_msg;switch(e){case s.REQUEST_INFO:this.handleInfo(i);break;case s.REQUEST_START:this.handleStart(i);break;case s.REQUEST_FINISH:this.handleFinish(i);break;case s.REQUEST_BET:this.handleBet(i);break;case s.REQUEST_UPDATE:this.handleUpdate(i);break;case s.REQUEST_MESSAGE:this.handleMessage(n);break;case s.GET_TOP_2:this.controller.MiniGame.GameMiniRank.initDataBauCua(i)}},handleInfo:function(t){this.data=t;var e=t.game_state,i=t.spin_id||t.match_game_id,n=t.game_info,o=t.player_info,a=t.total_time;this.BauCuaHistory.initHistory(t),this.BauCuaTime.initTime(t),this.initJackpot(),void 0!==a&&(e=60===a?s.GAME_STATE_BETTING:s.GAME_STATE_WAITTING),void 0!==e&&(this.BauCuaState.setStateById(e),this.BauCuaTime.setTitleByGameState(e)),i&&(this.idLabel.string=String.format(f.MINIGAME_ID,i)),n&&this.setGameInfo(n),o&&this.setPlayerInfo(o)},handleStart:function(t){this.reset(),this.BauCuaState.setBetting(),this.BauCuaTime.initTime(t),this.BauCuaTime.setTitleByGameState(s.GAME_STATE_BETTING),this.idLabel.string=String.format(f.MINIGAME_ID,t.match_game_id)},handleFinish:function(t){this.BauCuaState.setWaitting(),this.BauCuaTime.initTime(t),this.BauCuaTime.setTitleByGameState(s.GAME_STATE_WAITTING),this.BauCuaPlate.shakePlate(t.dice),this.initFinish(t)},initFinish:function(t){clearTimeout(this.resultTimeout),this.resultTimeout=setTimeout(function(){if(t){this.showWinItem(t.dice),this.BauCuaHistory.addHistory(t.dice);var e=t.total_gold_win,i=t.total_money_win,n=this.isMoneyType?i:e,o="";o=n>0?"Th\u1eafng":n<0?"Thua":"H\xf2a",this.isBet()&&this.MiniGameResult.show(n,o)}}.bind(this),5e3)},showWinItem:function(t){for(var e in this.listItems){var i=0;for(var n in t)this.listItems[e].getId()==t[n]&&i++;this.listItems[e].showEffectByNumberWin(i)}},handleUpdate:function(t){if(t){var e=t.game_info;this.setGameInfo(e)}},handleBet:function(t){var e=t.game_info,i=t.player_info;this.setGameInfo(e),this.setPlayerInfo(i)},handleMessage:function(t){this.showMessage(t)},onBauCuaClick:function(){this.setShowBauCua(!this.isShow)},onCloseClick:function(){this.setShowBauCua(!1)},onHelpClick:function(){this.controller.Tutorial.showDialog(),this.controller.Tutorial.showTutorialByGameName(_.BAU_CUA)},onHistoriesClick:function(){this.controller.MiniGame.GameMiniHistory.showBauCuaHistories(),this.controller.MiniGame.GameMiniHistory.showDialog()},onRankClick:function(){this.controller.MiniGame.GameMiniRank.setMiniGameName(g.BAU_CUA),this.controller.MiniGame.GameMiniRank.showDialog()},onGoldClick:function(){this.setTypeRoom(!this.isMoneyType)},onMoneyClick:function(){this.setTypeRoom(!this.isMoneyType)},onRankWeekClick:function(){this.controller.MiniGame.showBauCuaRankForm()},setGameInfo:function(t){this.gameInfo=t,this.initGameInfo()},initGameInfo:function(){var t=this.isMoneyType?m.MONEY_CODE:m.GOLD_CODE;if(this.gameInfo)for(var e in this.listItems){var i=this.listItems[e].getId(),n=!1;for(var o in this.gameInfo)if(t==this.gameInfo[o].money_type&&i==this.gameInfo[o].door_id){this.listItems[e].setTotalBet(this.gameInfo[o].amount),n=!0;break}n||this.listItems[e].setTotalBet(0)}},initJackpot:function(){if(this.data){var t=this.data.jackpot_gold,e=this.data.jackpot_money;this.isMoneyType?this.JackpotItem.setMoney(e):this.JackpotItem.setMoney(t),this.controller.MiniGame.BauCuaRank.initJackpot()}},setPlayerInfo:function(t){this.playerInfo=t,this.initPlayerInfo()},initPlayerInfo:function(){var t=this.isMoneyType?m.MONEY_CODE:m.GOLD_CODE;if(this.playerInfo)for(var e in this.listItems){var i=this.listItems[e].getId(),n=!1;for(var o in this.playerInfo)if(t==this.playerInfo[o].money_type&&i==this.playerInfo[o].door_id){this.listItems[e].setBet(this.playerInfo[o].amount),n=!0;break}n||this.listItems[e].setBet(0)}},setShowBauCua:function(t){this.node.active=t,this.isShow=t,this.getTempData()[s.IS_SHOW]=t},showMessage:function(t){var e=cc.instantiate(this.toastPrefab);e.setScale(S.MINIGAME_SCALE_TOAST),e.setPosition(S.MINIGAME_POSITION_TOAST_X,S.MINIGAME_POSITION_TOAST_Y),e.parent=this.node,e.getComponent("Toast").showToast(t)},setTypeRoom:function(t){this.isMoneyType=t,this.moneyNode.active=t,this.goldNode.active=!t,this.initJackpot(),this.initBauCuaData(this.data),this.initGameInfo(),this.initPlayerInfo();var e=this.isMoneyType?s.MONEY_TYPE_MONEY:s.MONEY_TYPE_GOLD;this.getTempData()[s.MONEY_TYPE]=e},initBauCuaData:function(t){if(t){this.data=t;var e=this.isMoneyType?t.money:t.gold;if(e){this.time=t.time_remain;var i=e.tai.total_players,n=e.tai.total_bet,o=e.tai.my_bet,s=e.xiu.total_players,a=e.xiu.total_bet,r=e.xiu.my_bet;this.setTimeLabel(this.data),this.taiTotalLabel.string=p.numberWithCommas(n),this.taiNumberPlayerLabel.string=p.numberWithCommas(i),this.taiMyBetLabel.string=p.numberWithCommas(o),this.xiuTotalLabel.string=p.numberWithCommas(a),this.xiuNumberPlayerLabel.string=p.numberWithCommas(s),this.xiuMyBetLabel.string=p.numberWithCommas(r)}}},isBet:function(){for(var t in this.listItems)if(this.listItems[t].isBet())return!0;return!1},reset:function(){for(var t in this.BauCuaPlate.node.active=!1,this.listItems)this.listItems[t].reset()}}),cc._RF.pop()},{"../../../base/BaseController":"BaseController","../../../helper/Config":"Config","../../../helper/Constant":"Constant","../../../helper/Message":"Message","../../../object/RoomType":"RoomType","../../../util/FormatUtil":"FormatUtil","../MiniGameConstant":"MiniGameConstant","../MiniGameResult":"MiniGameResult","../item/BauCuaItem":"BauCuaItem","../item/JackpotItem":"JackpotItem","./BauCuaBet":"BauCuaBet","./BauCuaConstant":"BauCuaConstant","./BauCuaHistory":"BauCuaHistory","./BauCuaPlate":"BauCuaPlate","./BauCuaState":"BauCuaState","./BauCuaTime":"BauCuaTime"}],BetForm:[function(t,e,i){"use strict";cc._RF.push(e,"0fffcu8MKRFwpRw8HhC3gd0","BetForm");var n=t("../../util/FormatUtil"),o=t("../../helper/Config"),s=t("../../object/RoomType");cc.Class({extends:cc.Component,properties:{minValue:0,maxValue:0,round:100,hideWhenClick:!1,balanceSprite:cc.Sprite,moneySpriteFrame:cc.SpriteFrame,goldSpriteFrame:cc.SpriteFrame,balanceLabel:cc.Label,minLabel:cc.Label,maxLabel:cc.Label,formNode:cc.Node,balanceSlider:cc.Slider,backgroundNode:cc.Node},init:function(t){this.controller=t,this.initX=this.node.x,this.initY=this.node.y},onLoad:function(){var t=this;this.onBackgroundTouchDown=function(e){t.hideWhenClick&&t.hideDialog(),e.stopPropagation()},this.onFormTouchDown=function(t){t.stopPropagation()}},onEnable:function(){this.balanceSlider.progress=0,this.setBalanceBuyProgress(),this.setMinValue(this.minValue),this.setMaxValue(this.maxValue),this.showDialog(),this.enableTouchEvents()},onDisable:function(){this.disableTouchEvents()},enableTouchEvents:function(){this.backgroundNode.on(cc.Node.EventType.TOUCH_START,this.onBackgroundTouchDown,this.backgroundNode),this.formNode.on(cc.Node.EventType.TOUCH_START,this.onFormTouchDown,this.formNode)},disableTouchEvents:function(){this.formNode.off(cc.Node.EventType.TOUCH_START,this.onFormTouchDown,this.formNode)},setBalanceSpriteByRoomType:function(t){this.balanceSprite.spriteFrame=t==s.GOLD_CODE?this.moneySpriteFrame:this.goldSpriteFrame},setRound:function(t){this.round=t},getRound:function(){return this.round},setMinValue:function(t){this.minValue=t,this.minLabel.string=n.numberWithCommas(t)},setMaxValue:function(t){this.maxValue=t,this.maxLabel.string=n.numberWithCommas(t)},onBalanceSlider:function(){this.setBalanceBuyProgress()},onCancelClick:function(){this.controller.Audio.playClick(),this.dialogForm.hideDialog()},onConfirmClick:function(){this.getBalanceSlider()},setBalanceBuyProgress:function(){var t=this.getBalanceSlider();this.balanceLabel.string=n.numberWithCommas(t)},getBalanceSlider:function(){var t=this.balanceSlider.progress*(this.maxValue-this.minValue)+this.minValue;return t=t>=this.maxValue?this.maxValue:t<=this.minLabel?this.minValue:Math.ceil(t/this.round)*this.round},setHideWhenClick:function(t){this.hideWhenClick=t},isHideWhenClick:function(){return this.hideWhenClick},showDialog:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.node.active=!0,t?(this.formNode.stopAllActions(),this.formNode.x=o.BET_FORM_HIDE_X,this.formNode.runAction(cc.moveTo(o.BET_FORM_TIME_SHOW,o.BET_FORM_SHOW_X,0))):this.node.setPosition(this.initX,this.initY)},hideDialog:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?(this.formNode.stopAllActions(),this.formNode.x=o.BET_FORM_SHOW_X,this.formNode.runAction(cc.sequence(cc.moveTo(o.BET_FORM_TIME_SHOW,o.BET_FORM_HIDE_X,0),cc.callFunc(function(){this.node.active=!1},this)))):this.node.active=!1}}),cc._RF.pop()},{"../../helper/Config":"Config","../../object/RoomType":"RoomType","../../util/FormatUtil":"FormatUtil"}],BomConstant:[function(t,e,i){"use strict";cc._RF.push(e,"9ee736D6XpIpq5rlx9ehj22","BomConstant");e.exports={REQUEST_MESSAGE:"MESSAGE",REQUEST_INFO:"INFO",REQUEST_SPIN:"SPIN",ADD_EVENT:"bom.ADD_EVENT",REMOVE_EVENT:"bom.REMOVE_EVENT",SPIN:"bom.SPIN",IS_SHOW:"bom_is_show",POSITION:"bom_position",LIST_LINES:"bom_list",IS_AUTO_SPIN:"bom_auto_spin",BET_VALUE:"bom_bet_value",BET_100:100,BET_1k:1e3,BET_10k:1e4,MONEY_TYPE:"bom_money_type",MONEY_TYPE_GOLD:"GOLD",MONEY_TYPE_MONEY:"MONEY",GET_TOP_2:"GET_TOP",GET_TOP:"bom.GET_TOP",MINIGAME_CONFIG_ID:13,BOM_LIST_ICON_1:["A","B","C","D","E","Bom","G"],BOM_LIST_ICON_2:["X2","X3","X5","X10","Bom"],LINE_1:[1,4,7],LINE_2:[1,4,8],LINE_3:[1,4,9],LINE_4:[1,5,7],LINE_5:[1,5,8],LINE_6:[1,5,9],LINE_7:[1,6,7],LINE_8:[1,6,8],LINE_9:[1,6,9],LINE_10:[2,4,7],LINE_11:[2,4,8],LINE_12:[2,4,9],LINE_13:[2,5,7],LINE_14:[2,5,8],LINE_15:[2,5,9],LINE_16:[2,6,7],LINE_17:[2,6,8],LINE_18:[2,6,9],LINE_19:[3,4,7],LINE_20:[3,4,8],LINE_21:[3,4,9],LINE_22:[3,5,7],LINE_23:[3,5,8],LINE_24:[3,5,9],LINE_25:[3,6,7],LINE_26:[3,6,8],LINE_27:[3,6,9]},cc._RF.pop()},{}],BomHistories:[function(t,e,i){"use strict";cc._RF.push(e,"bd38apUJcJN7rEG+2dEG/VD","BomHistories");var n=t("../../../../helper/Message");cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,moneyButtonNode:cc.Node,goldButtonNode:cc.Node,historyDiamondItemPrefab:cc.Prefab,historyScrollView:cc.ScrollView},init:function(t){this.controller=t},onLoad:function(){},onEnable:function(){this.data=null,this.onMoneyClick()},onDisable:function(){this.removeXhr()},onMoneyClick:function(){this.goldButtonNode.active=!0,this.moneyButtonNode.active=!1,this.loadData()},onGoldClick:function(){this.goldButtonNode.active=!1,this.moneyButtonNode.active=!0,this.loadData()},loadData:function(){var t=this;if(this.showLoadingNode(),this.historyScrollView.content.removeAllChildren(!0),this.data)this.initData();else{var e={token:this.controller.getToken(),user_id:this.controller.getUserId()};this.controller.api.getHistoryBom(e,function(e){t.data=e.data,t.initData()},function(e){t.showListNode(),t.controller.showDialogMessage(n.HISTORY_TITLE,e.msg)})}},initData:function(){if(this.showListNode(),this.data){var t=(this.isMoneyType(),this.data[0]);for(var e in t){var i=cc.instantiate(this.historyDiamondItemPrefab);i.parent=this.historyScrollView.content,i.getComponent("BomHistoryItem").init(t[e],e)}}},getType:function(){return this.moneyOnButtonNode.active?0:1},isMoneyType:function(){return this.goldButtonNode.active},showLoadingNode:function(){this.loadingNode.active=!0,this.historyScrollView.node.active=!1},showListNode:function(){this.loadingNode.active=!1,this.historyScrollView.node.active=!0},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{"../../../../helper/Message":"Message"}],BomHistoryItem:[function(t,e,i){"use strict";cc._RF.push(e,"29422+5k+JAxJNzYmb56JuL","BomHistoryItem");var n=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,idLabel:cc.Label,timeLabel:cc.Label,betLabel:cc.Label,resultLabel:cc.Label,getLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e){this.data=t,t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.idLabel.string=t.spin_id,this.timeLabel.string=n.getStringDateByTimeStamp(t.created_at),this.betLabel.string=n.numberWithCommas(t.total_bet_value),this.getLabel.string=n.numberWithCommas(t.total_prize_value),this.resultLabel.string=this.getResult(t.result);var i=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=i},onLoad:function(){},getResult:function(t){try{return(t=JSON.parse(t)).length+" d\xf2ng"}catch(t){return"0 d\xf2ng"}}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil"}],BomItem:[function(t,e,i){"use strict";cc._RF.push(e,"e718aee3qFJ3YqpB96jB7ub","BomItem"),cc.Class({extends:cc.Component,properties:{iconANode:cc.Node,iconBNode:cc.Node,iconCNode:cc.Node,iconDNode:cc.Node,iconENode:cc.Node,iconBomNode:cc.Node,iconGNode:cc.Node,x2SpriteNode:cc.Node,x3SpriteNode:cc.Node,x5SpriteNode:cc.Node,x10SpriteNode:cc.Node},onLoad:function(){},init:function(t){switch(this.reset(),this.index=t,t){case"A":this.iconANode.active=!0;break;case"B":this.iconBNode.active=!0;break;case"C":this.iconCNode.active=!0;break;case"D":this.iconDNode.active=!0;break;case"E":this.iconENode.active=!0;break;case"Bom":this.iconBomNode.active=!0;break;case"G":this.iconGNode.active=!0;break;case"X2":this.x2SpriteNode.active=!0;break;case"X3":this.x3SpriteNode.active=!0;break;case"X5":this.x5SpriteNode.active=!0;break;case"X10":this.x10SpriteNode.active=!0}},reset:function(){this.iconANode.active=!1,this.iconBNode.active=!1,this.iconCNode.active=!1,this.iconDNode.active=!1,this.iconENode.active=!1,this.iconBomNode.active=!1,this.iconGNode.active=!1,this.x2SpriteNode.active=!1,this.x3SpriteNode.active=!1,this.x5SpriteNode.active=!1,this.x10SpriteNode.active=!1}}),cc._RF.pop()},{}],BomLine:[function(t,e,i){"use strict";cc._RF.push(e,"b012c9RaupJzK4WmXHIWLFj","BomLine");var n=t("./BomConstant");cc.Class({extends:cc.Component,properties:{listLineNode:[cc.Node]},init:function(t){this.Bom=t},onLoad:function(){},showLines:function(t){if(this.reset(),t)for(var e=0,i=t.length;e<i;e++)this.showLineBuyListIndex(t[e].line)},showLine:function(t){},initNumberLine:function(){},getLineData:function(){return[]},select:function(t){},unSelect:function(t){},getlistLineNodes:function(){return[]},showLineBuyListIndex:function(t){switch(JSON.stringify(t)){case JSON.stringify(n.LINE_1):this.listLineNode[0].active=!0;break;case JSON.stringify(n.LINE_2):this.listLineNode[1].active=!0;break;case JSON.stringify(n.LINE_3):this.listLineNode[2].active=!0;break;case JSON.stringify(n.LINE_4):this.listLineNode[3].active=!0;break;case JSON.stringify(n.LINE_5):this.listLineNode[4].active=!0;break;case JSON.stringify(n.LINE_6):this.listLineNode[5].active=!0;break;case JSON.stringify(n.LINE_7):this.listLineNode[6].active=!0;break;case JSON.stringify(n.LINE_8):this.listLineNode[7].active=!0;break;case JSON.stringify(n.LINE_9):this.listLineNode[8].active=!0;break;case JSON.stringify(n.LINE_10):this.listLineNode[9].active=!0;break;case JSON.stringify(n.LINE_11):this.listLineNode[10].active=!0;break;case JSON.stringify(n.LINE_12):this.listLineNode[11].active=!0;break;case JSON.stringify(n.LINE_13):this.listLineNode[12].active=!0;break;case JSON.stringify(n.LINE_14):this.listLineNode[13].active=!0;break;case JSON.stringify(n.LINE_15):this.listLineNode[14].active=!0;break;case JSON.stringify(n.LINE_16):this.listLineNode[15].active=!0;break;case JSON.stringify(n.LINE_17):this.listLineNode[16].active=!0;break;case JSON.stringify(n.LINE_18):this.listLineNode[17].active=!0;break;case JSON.stringify(n.LINE_19):this.listLineNode[18].active=!0;break;case JSON.stringify(n.LINE_20):this.listLineNode[19].active=!0;break;case JSON.stringify(n.LINE_21):this.listLineNode[20].active=!0;break;case JSON.stringify(n.LINE_22):this.listLineNode[21].active=!0;break;case JSON.stringify(n.LINE_23):this.listLineNode[22].active=!0;break;case JSON.stringify(n.LINE_24):this.listLineNode[23].active=!0;break;case JSON.stringify(n.LINE_25):this.listLineNode[24].active=!0;break;case JSON.stringify(n.LINE_26):this.listLineNode[25].active=!0;break;case JSON.stringify(n.LINE_27):this.listLineNode[26].active=!0}},reset:function(){for(var t in this.listLineNode)this.listLineNode[t].active=!1}}),cc._RF.pop()},{"./BomConstant":"BomConstant"}],BomReel2:[function(t,e,i){"use strict";cc._RF.push(e,"ed60c7VJ/pBK67zmXLSaMc6","BomReel2");var n=t("../../../util/RandomUtil"),o=t("../../../helper/Config"),s=t("../MiniGameConstant"),a=t("./BomConstant");cc.Class({extends:cc.Component,properties:{bomItemPrefab:cc.Prefab},init:function(t){this.Bom=t,this.BomUI=t.BomUI,this.BomLine=t.BomLine,this.MiniGameResult=t.MiniGameResult},onLoad:function(){this.chips=[],this.pool=new cc.NodePool;for(var t=0;t<20;t++){var e=cc.instantiate(this.bomItemPrefab);this.pool.put(e)}this.randomChips()},spin:function(t,e,i,n,a,r,c,h){this.reset(),this.setChips(this.chips),this.chips=t;for(var l=1;l<e;l++){var u=this.getRandomChip();l===e-1&&(u=t[0]),l===e-2&&(u=t[1]),l===e-3&&(u=t[2]);var d=this.instanceChip(u);d.setPosition(0,(l+1)*o.BOM_DISTANCE_TWO_CHIPS_2),d.parent=this.node}var m=(e-1)*o.BOM_DISTANCE_TWO_CHIPS_2,p=m/o.BOM_SPEED_SPIN_CARD,f=cc.moveTo(p,this.node.x,-m).easing(cc.easeInOut(3)),_=cc.callFunc(function(){this.setChips(t),i&&this.Bom.node.active&&(r===s.WIN_TYPE_JACKPOT||h?this.BomUI.showJackPot(n,c):a&&this.MiniGameResult.show(n),this.BomLine.showLines(a))},this),S=cc.delayTime(o.BOM_DELAY_SPIN),g=cc.callFunc(function(){i&&this.Bom.node.active&&this.Bom.isAutoSpin()&&this.Bom.spin()},this);this.node.runAction(cc.sequence(f,_,S,g)),r!==s.WIN_TYPE_JACKPOT||this.Bom.node.active||(this.Bom.node.active=!0,this.BomUI.showJackPot(n,c))},randomChips:function(){for(var t=[],e=0;e<o.BOM_NUMBER_REELS;e++){var i=this.getRandomChip();t.push(i)}this.reset(),this.setChips(t)},getRandomChip:function(){var t=n.getRandomInt(0,a.BOM_LIST_ICON_2.length-1);return a.BOM_LIST_ICON_2[t]},setChips:function(t){if(t){this.putAllChipToPool(),this.node.setPosition(this.node.x,0),this.chips=t;for(var e=0;e<t.length;e++){var i=this.instanceChip(t[e]);i.setPosition(0,(1-e)*o.BOM_DISTANCE_TWO_CHIPS_2),i.parent=this.node}}},instanceChip:function(t){var e=void 0;return this.pool&&(e=this.pool.get()),e||(e=cc.instantiate(this.bomItemPrefab)),e.getComponent("BomItem").init(t),e.setScale(o.BOM_SCALE_CHIP),e},putAllChipToPool:function(){if(this.pool){var t=this.node.getChildren(),e=[];for(var i in t)e.push(t[i]);for(var n in e)this.pool.put(e[n])}},reset:function(){this.node.stopAllActions(!0),this.node.setPosition(this.node.x,0),this.BomLine.reset(),this.putAllChipToPool()}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../util/RandomUtil":"RandomUtil","../MiniGameConstant":"MiniGameConstant","./BomConstant":"BomConstant"}],BomReel:[function(t,e,i){"use strict";cc._RF.push(e,"8af8cU7J+xO/rBwhatrasEo","BomReel");var n=t("../../../util/RandomUtil"),o=t("../../../helper/Config"),s=t("../MiniGameConstant"),a=t("./BomConstant");cc.Class({extends:cc.Component,properties:{bomItemPrefab:cc.Prefab},init:function(t){this.Bom=t,this.BomUI=t.BomUI,this.BomLine=t.BomLine,this.MiniGameResult=t.MiniGameResult},onLoad:function(){this.chips=[],this.pool=new cc.NodePool;for(var t=0;t<20;t++){var e=cc.instantiate(this.bomItemPrefab);this.pool.put(e)}this.randomChips()},spin:function(t,e,i,n,a,r,c){this.reset(),this.setChips(this.chips),this.chips=t;for(var h=1;h<e;h++){var l=this.getRandomChip();h===e-1&&(l=t[0]),h===e-2&&(l=t[1]),h===e-3&&(l=t[2]);var u=this.instanceChip(l);u.setPosition(0,(h+1)*o.BOM_DISTANCE_TWO_CHIPS),u.parent=this.node}var d=(e-1)*o.BOM_DISTANCE_TWO_CHIPS,m=d/o.BOM_SPEED_SPIN_CARD,p=cc.moveTo(m,this.node.x,-d).easing(cc.easeInOut(3)),f=cc.callFunc(function(){this.setChips(t),i&&this.Bom.node.active&&(r===s.WIN_TYPE_JACKPOT?this.BomUI.showJackPot(n,c):a&&this.MiniGameResult.show(n),this.BomLine.showLines(a))},this),_=cc.delayTime(o.BOM_DELAY_SPIN),S=cc.callFunc(function(){i&&this.Bom.node.active&&this.Bom.isAutoSpin()&&this.Bom.spin()},this);this.node.runAction(cc.sequence(p,f,_,S)),r!==s.WIN_TYPE_JACKPOT||this.Bom.node.active||(this.Bom.node.active=!0,this.BomUI.showJackPot(n,c))},randomChips:function(){for(var t=[],e=0;e<o.BOM_NUMBER_REELS;e++){var i=this.getRandomChip();t.push(i)}this.reset(),this.setChips(t)},getRandomChip:function(){var t=n.getRandomInt(0,a.BOM_LIST_ICON_1.length-1);return a.BOM_LIST_ICON_1[t]},setChips:function(t){if(t){this.putAllChipToPool(),this.node.setPosition(this.node.x,0),this.chips=t;for(var e=0;e<t.length;e++){var i=this.instanceChip(t[e]);i.setPosition(0,(1-e)*o.BOM_DISTANCE_TWO_CHIPS),i.parent=this.node}}},instanceChip:function(t){var e=void 0;return this.pool&&(e=this.pool.get()),e||(e=cc.instantiate(this.bomItemPrefab)),e.getComponent("BomItem").init(t),e.setScale(o.BOM_SCALE_CHIP),e},putAllChipToPool:function(){if(this.pool){var t=this.node.getChildren(),e=[];for(var i in t)e.push(t[i]);for(var n in e)this.pool.put(e[n])}},reset:function(){this.node.stopAllActions(!0),this.node.setPosition(this.node.x,0),this.BomLine.reset(),this.putAllChipToPool()}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../util/RandomUtil":"RandomUtil","../MiniGameConstant":"MiniGameConstant","./BomConstant":"BomConstant"}],BomSelectForm:[function(t,e,i){"use strict";cc._RF.push(e,"b7da1GSpkdFQKBbHOUx990I","BomSelectForm");var n=t("../../../helper/Message");cc.Class({extends:cc.Component,properties:{},init:function(t){for(var e in this.Bom=t,this.BomLine=t.BomLine,this.listSelectItem)this.listSelectItem[e].init(this,parseInt(e)+1)},onLoad:function(){},initData:function(){},select:function(t){this.listSelectItem[t-1].select()},unSelect:function(t){this.listSelectItem[t-1].unSelect()},onCloseClick:function(){this.node.active=!1},onIgnoreAllClick:function(){if(this.Bom.isSpinning()||this.Bom.isAutoSpin())this.Bom.controller.showToast(n.AUTO_SPIN_NOT_CHANGE_BET);else{for(var t in this.listSelectItem)this.listSelectItem[t].unSelect(),this.BomLine.unSelect(parseInt(t)+1);this.Bom.saveListLines()}},onSelectAllClick:function(){if(this.Bom.isSpinning()||this.Bom.isAutoSpin())this.Bom.controller.showToast(n.AUTO_SPIN_NOT_CHANGE_BET);else{for(var t in this.listSelectItem)this.listSelectItem[t].select(),this.BomLine.select(parseInt(t)+1);this.Bom.saveListLines()}},onSelectEvenClick:function(){if(this.Bom.isSpinning()||this.Bom.isAutoSpin())this.Bom.controller.showToast(n.AUTO_SPIN_NOT_CHANGE_BET);else{for(var t in this.listSelectItem)(parseInt(t)+1)%2==0?(this.listSelectItem[t].select(),this.BomLine.select(parseInt(t)+1)):(this.listSelectItem[t].unSelect(),this.BomLine.unSelect(parseInt(t)+1));this.Bom.saveListLines()}},onSelectOddClick:function(){if(this.Bom.isSpinning()||this.Bom.isAutoSpin())this.Bom.controller.showToast(n.AUTO_SPIN_NOT_CHANGE_BET);else{for(var t in this.listSelectItem)(parseInt(t)+1)%2==0?(this.listSelectItem[t].unSelect(),this.BomLine.unSelect(parseInt(t)+1)):(this.listSelectItem[t].select(),this.BomLine.select(parseInt(t)+1));this.Bom.saveListLines()}}}),cc._RF.pop()},{"../../../helper/Message":"Message"}],BomUI:[function(t,e,i){"use strict";cc._RF.push(e,"4e0afj2a3xFEa6BsWR11KzG","BomUI");var n=t("../../../util/FormatUtil"),o=t("../../../helper/Config");cc.Class({extends:cc.Component,properties:{bet1Label:cc.Label,bet2Label:cc.Label,bet3Label:cc.Label,betOnButton1Node:cc.Node,betOffButton1Node:cc.Node,betOnButton2Node:cc.Node,betOffButton2Node:cc.Node,betOnButton3Node:cc.Node,betOffButton3Node:cc.Node,jackpotPrefab:cc.Prefab,jackpotNode:cc.Node,notifySpinFreeNode:cc.Node,notifySpinFreeLabel:cc.Label,notifySpinFreeNode2:cc.Node,notifySpinFreeLabel2:cc.Label},onLoad:function(){},showJackPot:function(t,e){this.jackpotNode.removeAllChildren(!0);var i=cc.instantiate(this.jackpotPrefab);this.jackpotNode.addChild(i),i.getComponent("JackpotEffect").show(t,e),i.position=new cc.Vec2(0,0)},setBetByRoomType:function(t){t?this.setBetMoney():this.setBetGold()},showMiniGameSpinFree:function(t){this.notifySpinFreeLabel.string=t,this.notifySpinFreeNode.active=!0,this.notifySpinFreeLabel2.string=t,this.notifySpinFreeNode2.active=!0},hideMiniGameSpinFree:function(){this.notifySpinFreeNode.active=!1,this.notifySpinFreeNode2.active=!1},setBetMoney:function(){var t=o.BOM_LIST_BET_MONEY;this.setBetGoldByList(t[0],t[1],t[2])},setBetGold:function(){var t=o.BOM_LIST_BET_GOLD;this.setBetGoldByList(t[0],t[1],t[2])},setBetGoldByList:function(t,e,i){this.bet1Label.string=n.nFormatter(t),this.bet2Label.string=n.nFormatter(e),this.bet3Label.string=n.nFormatter(i)},enableBet1Button:function(){this.hideAllBetButtons(),this.betOnButton1Node.active=!0,this.betOffButton2Node.active=!0,this.betOffButton3Node.active=!0},enableBet2Button:function(){this.hideAllBetButtons(),this.betOffButton1Node.active=!0,this.betOnButton2Node.active=!0,this.betOffButton3Node.active=!0},enableBet3Button:function(){this.hideAllBetButtons(),this.betOffButton1Node.active=!0,this.betOffButton2Node.active=!0,this.betOnButton3Node.active=!0},hideAllBetButtons:function(){this.betOnButton1Node.active=!1,this.betOffButton1Node.active=!1,this.betOnButton2Node.active=!1,this.betOffButton2Node.active=!1,this.betOnButton3Node.active=!1,this.betOffButton3Node.active=!1}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../util/FormatUtil":"FormatUtil"}],Bom:[function(t,e,i){"use strict";cc._RF.push(e,"c9cd4UZsRZIsI/isHeRdkZA","Bom");var n=t("../../../base/BaseController"),o=t("./BomLine"),s=t("./BomUI"),a=t("./BomConstant"),r=t("./BomReel"),c=t("./BomReel2"),h=t("../MiniGameResult"),l=t("../item/JackpotItem"),u=t("../../../object/JackpotX"),d=t("../../../helper/Config"),m=t("../../../helper/Constant"),p=t("../../../helper/Message"),f=t("../../../object/RoomType"),_=t("../MiniGameConstant");cc.Class({extends:n,properties:{idLabel:cc.Label,moneyNode:cc.Node,goldNode:cc.Node,JackpotItem:l,JackpotX:u,autoSpinButtonNode:cc.Node,stopAutoSpinButtonNode:cc.Node,spinButtonNode:cc.Node,reels:[r],reels2:[c],BomLine:o,BomUI:s,MiniGameResult:h,notificationNode:cc.Node,notificationLabel:cc.Label,toastPrefab:cc.Prefab},init:function(t){this.controller=t},onLoad:function(){for(var t in this._super(),this.data=null,this.betOrder=1,this.intervalSpin=null,this.reels)this.reels[t].init(this);for(var e in this.reels2)this.reels2[e].init(this);this.BomLine.init(this),this.initTypeRoom(),this.setTypeRoom(this.isMoneyType),this.reset(),this.initData()},onEnable:function(){this.removeIntervalSpin(),this.initTempData(),this.sendRequest.sendNoPrefixToZone(a.ADD_EVENT)},onDisable:function(){this.destroyGame()},onDestroy:function(){this.removeIntervalSpin()},destroyGame:function(){this.reset(),this.sendRequest.sendNoPrefixToZone(a.REMOVE_EVENT)},initData:function(){this.initSaveData(),this.initTempData()},initTypeRoom:function(){this.isMoneyType=!0,this.getTempData()[a.MONEY_TYPE]===a.MONEY_TYPE_GOLD&&(this.isMoneyType=!1)},initTempData:function(){var t=this.getTempData(),e=this.getUser().bom_free,i=t[a.IS_AUTO_SPIN],n=t[a.BET_VALUE];switch(i&&this.onAutoSpinClick(),n){case a.BET_100:this.setBet1();break;case a.BET_1k:this.setBet2();break;case a.BET_10k:this.setBet3();break;default:this.setBet1()}!this.node.active&&i?(this.notificationNode.active=!0,this.notificationLabel.string=e&&e>0?e:"\u25ba"):this.notificationNode.active=!1},initSpinFree:function(){var t=this.getUser().bom_free,e=this.getTempData()[a.IS_AUTO_SPIN];t&&t>0?(this.notificationNode.active=!0,this.notificationLabel.string=t):e&&!this.node.active?(this.notificationNode.active=!0,this.notificationLabel.string="\u25ba"):this.notificationNode.active=!1},initSaveData:function(){var t=cc.sys.localStorage.getItem(a.POSITION);t&&(t=JSON.parse(t),this.positionX=t.x,this.positionY=t.y);var e=cc.sys.localStorage.getItem(a.LIST_LINES);for(var i in e=e?JSON.parse(e):[1])this.BomLine.select(parseInt(e[i]))},initMiniGameSpinFree:function(t){for(var e in t){var i=t[e].minigame_config_id,n=t[e].quantity;i===a.MINIGAME_CONFIG_ID&&(n>0?this.BomUI.showMiniGameSpinFree(n):this.BomUI.hideMiniGameSpinFree())}},handleRequest:function(t){var e=t.game_cmd,i=t.game_data,n=t.game_msg;switch(e){case a.REQUEST_INFO:this.handleInfo(i);break;case a.REQUEST_SPIN:this.handleSpin(i);break;case a.REQUEST_MESSAGE:this.handleMessage(n);break;case a.GET_TOP_2:this.controller.MiniGame.GameMiniRank.initDataTop(i)}},handleInfo:function(t){this.setSendSpin(!1),this.data=t,this.initJackpot()},handleMessage:function(t){this.setSendSpin(!1),this.removeIntervalSpin(),this.autoSpinButtonNode.active=!0,this.stopAutoSpinButtonNode.active=!1,this.spinButtonNode.active=!0,this.showMessage(t),this.onStopAutoSpinClick()},handleSpin:function(t){this.setSendSpin(!1);var e=t.result,i=t.slot_data,n=t.total_prize_value,o=t.win_type,s=t.money_type,a=t.spin_id,r=t.is_jackpot,c=s==f.MONEY_CODE;this.idLabel.string=String.format(p.MINIGAME_ID,a),this.spinReels(i,n,e,o,c,r)},spinReels:function(t,e,i,n,o,s){var a=t.slice(0,3),r=t.slice(3,6),c=t.slice(6,9),h=t.slice(9,12),l=t.slice(12,15);this.reels[0].spin(a,d.BOM_NUMBER_CHIP_SPIN),this.reels[1].spin(r,d.BOM_NUMBER_CHIP_SPIN+3),this.reels[2].spin(c,d.BOM_NUMBER_CHIP_SPIN+6),this.reels2[0].spin(h,d.BOM_NUMBER_CHIP_SPIN+9),this.reels2[1].spin(l,d.BOM_NUMBER_CHIP_SPIN+12,!0,e,i,n,o,s)},onAutoSpinClick:function(){this.autoSpinButtonNode.active=!1,this.stopAutoSpinButtonNode.active=!0,this.spinButtonNode.active=!1,this.getTempData()[a.IS_AUTO_SPIN]=!0,this.spin()},onStopAutoSpinClick:function(){this.autoSpinButtonNode.active=!0,this.stopAutoSpinButtonNode.active=!1,this.spinButtonNode.active=!0,this.getTempData()[a.IS_AUTO_SPIN]=!1},onSpinClick:function(){this.isSpinning()||this.spin()},spin:function(){if(!this.isSendSpin()){this.setSendSpin(!0);var t={money_type:f.MONEY_CODE,money_value:this.getCurrentBet()};this.sendRequest.sendNoPrefixToZone(a.SPIN,t),this.MiniGameResult.reset()}},onHelpClick:function(){this.controller.Tutorial.showDialog(),this.controller.Tutorial.showTutorialByGameName(m.BOM)},onHistoriesClick:function(){this.controller.MiniGame.GameMiniHistory.showBomHistories(),this.controller.MiniGame.GameMiniHistory.showDialog()},onRankClick:function(){this.controller.MiniGame.GameMiniRank.setMiniGameName(_.BOM),this.controller.MiniGame.GameMiniRank.showDialog()},onCloseClick:function(){this.setShowBom(!1)},onGoldClick:function(){this.isAutoSpin()?this.showMessage(p.AUTO_SPIN_NOT_CHANGE_MONEY_TYPE):this.setTypeRoom(!this.isMoneyType)},onMoneyClick:function(){this.isAutoSpin()?this.showMessage(p.AUTO_SPIN_NOT_CHANGE_MONEY_TYPE):this.setTypeRoom(!this.isMoneyType)},onBet1ButtonClick:function(){this.isAutoSpin()?this.showMessage(p.AUTO_SPIN_NOT_CHANGE_BET):this.setBet1()},setBet1:function(){this.betOrder=0,this.initJackpot(),this.BomUI.enableBet1Button(),this.getTempData()[a.BET_VALUE]=a.BET_100},onBet2ButtonClick:function(){this.isAutoSpin()?this.showMessage(p.AUTO_SPIN_NOT_CHANGE_BET):this.setBet2()},setBet2:function(){this.betOrder=1,this.initJackpot(),this.BomUI.enableBet2Button(),this.getTempData()[a.BET_VALUE]=a.BET_1k},onBet3ButtonClick:function(){this.isAutoSpin()?this.showMessage(p.AUTO_SPIN_NOT_CHANGE_BET):this.setBet3()},setBet3:function(){this.betOrder=2,this.initJackpot(),this.BomUI.enableBet3Button(),this.getTempData()[a.BET_VALUE]=a.BET_10k},onBomClick:function(){this.setShowBom(!this.isShow)},setShowBom:function(t){this.node.active=t,this.isShow=t;var e=this.getUser().Bom_free;cc.sys.localStorage.setItem(a.IS_SHOW,this.isShow),!t&&this.isAutoSpin()?(this.initIntervalSpin(),this.notificationNode.active=!0,this.notificationLabel.string=e&&e>0?e:"\u25ba"):this.notificationNode.active=!1},initIntervalSpin:function(){this.removeIntervalSpin(),this.intervalSpin=setInterval(function(){this.spin()}.bind(this),1e3*d.BOM_TIME_SPIN)},removeIntervalSpin:function(){clearInterval(this.intervalSpin)},initJackpot:function(){if(this.data){var t=this.data.gold,e=this.data.money;if(this.isMoneyType){this.JackpotItem.setMoney(e[this.betOrder]);var i=e[3]?e[3]:null;i&&this.JackpotX.showSlotX(i[this.betOrder])}else this.JackpotItem.setMoney(t[this.betOrder]),this.JackpotX.showSlotX(1)}},showMessage:function(t){var e=cc.instantiate(this.toastPrefab);e.setScale(d.MINIGAME_SCALE_TOAST),e.setPosition(d.MINIGAME_POSITION_TOAST_X,d.MINIGAME_POSITION_TOAST_Y),e.parent=this.node,e.getComponent("Toast").showToast(t)},setTypeRoom:function(t){this.isMoneyType=t,this.moneyNode.active=t,this.goldNode.active=!t,this.initJackpot(),this.BomUI.setBetByRoomType(this.isMoneyType);var e=this.isMoneyType?a.MONEY_TYPE_MONEY:a.MONEY_TYPE_GOLD;this.getTempData()[a.MONEY_TYPE]=e},getCurrentBet:function(){return(this.isMoneyType?d.BOM_LIST_BET_MONEY:d.BOM_LIST_BET_GOLD)[this.betOrder]},isSpinning:function(){return cc.director.getActionManager().getNumberOfRunningActionsInTarget(this.reels[0].node)>0},isAutoSpin:function(){return!this.autoSpinButtonNode.active},saveListLines:function(){var t=this.BomLine.getListLines();cc.sys.localStorage.setItem(a.LIST_LINES,JSON.stringify(t))},setSendSpin:function(t){this.is_send_spin=t},isSendSpin:function(){return this.is_send_spin},reset:function(){this.MiniGameResult.reset()}}),cc._RF.pop()},{"../../../base/BaseController":"BaseController","../../../helper/Config":"Config","../../../helper/Constant":"Constant","../../../helper/Message":"Message","../../../object/JackpotX":"JackpotX","../../../object/RoomType":"RoomType","../MiniGameConstant":"MiniGameConstant","../MiniGameResult":"MiniGameResult","../item/JackpotItem":"JackpotItem","./BomConstant":"BomConstant","./BomLine":"BomLine","./BomReel":"BomReel","./BomReel2":"BomReel2","./BomUI":"BomUI"}],BonusConfig:[function(t,e,i){"use strict";cc._RF.push(e,"e588d04pbRHv7X7aPQxWeg/","BonusConfig");e.exports={BONUS_LIST_MONEY:[1e4,5e4,1e5,5e5,1e6,1e7]},cc._RF.pop()},{}],BonusConstant:[function(t,e,i){"use strict";cc._RF.push(e,"6a331aJeHhOYJ/aCNMpfnt3","BonusConstant");e.exports={TAN_LOC_ADD_EVENT:"tan_loc.ADD_EVENT",TAN_LOC_REMOVE_EVENT:"tan_loc.REMOVE_EVENT",TAN_LOC_INFO:"tan_loc.INFO",TAN_LOC_TAN_LOC:"tan_loc.TAN_LOC",TAN_LOC_RUT_LOC:"tan_loc.RUT_LOC",HU_LOC_ADD_EVENT:"hu_loc.ADD_EVENT",HU_LOC_REMOVE_EVENT:"hu_loc.REMOVE_EVENT",HU_LOC_RUT_LOC:"hu_loc.RUT_LOC",INFO:"INFO",RUT_LOC:"RUT_LOC",PHAT_LOC:"PHAT_LOC",PLAYER_RUT_LOC:"PLAYER_RUT_LOC",MESSAGE:"MESSAGE",CHANGE_NUMBER_RUT_LOC:"CHANGE_NUMBER_RUT_LOC",TAN_LOC:"TAN_LOC",STATE_WAITTING:"WAITTING",STATE_REGISTER:"REGISTER",GET_TOP:"tan_loc.GET_TOP",GET_TOP_2:"GET_TOP"},cc._RF.pop()},{}],BonusEventMoneyItem:[function(t,e,i){"use strict";cc._RF.push(e,"f3d25+fx/ZITKjLKsFvvvgQ","BonusEventMoneyItem");var n=t("../../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{numberLabel:cc.Label},init:function(t,e){this.BonusMoney=t,this.value=e,this.numberLabel.string=n.nFormatter(e)},onLoad:function(){},onClick:function(){this.BonusMoney.addMoney(this.value)}}),cc._RF.pop()},{"../../../../util/FormatUtil":"FormatUtil"}],BonusEvent:[function(t,e,i){"use strict";cc._RF.push(e,"d6869EsZphN4JUdcvi2svUk","BonusEvent");var n=t("../../../base/BaseController"),o=(t("../../../helper/Config"),t("../MiniGameConstant")),s=t("./BonusConstant"),a=t("./BonusMoney"),r=t("./BonusMessage"),c=t("./HuLoc"),h=t("./TanLoc");cc.Class({extends:n,properties:{HuLoc:c,TanLoc:h,BonusMoney:a,BonusMessage:r},init:function(t){console.log("init Bonus Event"),this.controller=t,this.MiniGame=t.MiniGame,this.BonusMoney.init(this),this.HuLoc.init(this),this.TanLoc.init(this),this.BonusMessage.init(this)},onLoad:function(){this._super(),this.dialogFormMoney=this.BonusMoney.node.getComponent("DialogForm"),this.dialogFormMessage=this.BonusMessage.node.getComponent("DialogForm")},onEnable:function(){this.handleEventTanLoc&&(this.handleEventTanLoc=!1,this.isEventTanLoc?this.TanLoc.addEvent():this.TanLoc.removeEvent())},handleRequest:function(t){if(t.status)switch(t.data.game_name){case o.HU_LOC:this.HuLoc.handleRequest(t);break;case o.TAN_LOC:this.TanLoc.handleRequest(t)}},setShowTaiXiu:function(t){this.isEventTanLoc=t,this.sendRequest?this.isEventTanLoc?this.TanLoc.addEvent():this.TanLoc.removeEvent():this.handleEventTanLoc=!0},tanLocRutLoc:function(){console.log("tanLocRutLoc"),this.sendRequest.sendNoPrefixToZone(s.TAN_LOC_RUT_LOC)},tanLoctanLoc:function(t){console.log("tanLoctanLoc"),this.sendRequest.sendNoPrefixToZone(s.TAN_LOC_TAN_LOC,t)},huLocRutLoc:function(){console.log("huLocRutLoc"),this.sendRequest.sendNoPrefixToZone(s.HU_LOC_RUT_LOC,{})},onGetBonusClick:function(){},onTanLocClick:function(t){},showFormBonusMoney:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormMoney.showDialog(t)},showFormBonusMessage:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormMessage.showDialog(t)},showMessage:function(t){this.MiniGame.controller&&this.MiniGame.controller.showToast&&this.MiniGame.controller.showToast(t)}}),cc._RF.pop()},{"../../../base/BaseController":"BaseController","../../../helper/Config":"Config","../MiniGameConstant":"MiniGameConstant","./BonusConstant":"BonusConstant","./BonusMessage":"BonusMessage","./BonusMoney":"BonusMoney","./HuLoc":"HuLoc","./TanLoc":"TanLoc"}],BonusMessage:[function(t,e,i){"use strict";cc._RF.push(e,"10baaloUU5BobIKbr+Mrns5","BonusMessage"),cc.Class({extends:cc.Component,properties:{},init:function(t){this.BonusEvent=t},onLoad:function(){this.dialogForm=this.node.getComponent("DialogForm")},onSuccessClick:function(){this.BonusEvent.controller.GameInfo?(this.BonusEvent.controller.GameCenterUI.showInfoNode(),this.BonusEvent.controller.GameInfo.onInfoClick(),this.BonusEvent.controller.GameInfo.showSercurity(),this.node.active=!1):this.BonusEvent.controller.showToast("Vui l\xf2ng tr\u1edf l\u1ea1i m\xe0n h\xecnh Home \u0111\u1ec3 th\u1ef1c hi\u1ec7n h\xe0nh \u0111\u1ed9ng n\xe0y")},onBackClick:function(){this.dialogForm.hideDialog()}}),cc._RF.pop()},{}],BonusMoney:[function(t,e,i){"use strict";cc._RF.push(e,"16714E2WExLL6zOcbnoQsnq","BonusMoney");var n=t("../../../util/FormatUtil"),o=t("./item/BonusEventMoneyItem"),s=t("./BonusConfig");cc.Class({extends:cc.Component,properties:{totalMoneyLabel:cc.Label,listSelectItem:[o]},init:function(t){for(var e in this.BonusEvent=t,this.listSelectItem)this.listSelectItem[e].init(this,s.BONUS_LIST_MONEY[e])},onLoad:function(){this.dialogForm=this.node.getComponent("DialogForm")},onEnable:function(){this.totalMoneyLabel.string=0,this.totalMoney=0},addMoney:function(t){this.totalMoney+=t,this.totalMoneyLabel.string=n.numberWithCommas(this.totalMoney)},onConfirmClick:function(){var t={amount:this.totalMoney};this.BonusEvent.tanLoctanLoc(t),this.onCloseClick()},onCloseClick:function(){this.node.active=!1}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil","./BonusConfig":"BonusConfig","./item/BonusEventMoneyItem":"BonusEventMoneyItem"}],Bonus:[function(t,e,i){"use strict";cc._RF.push(e,"d53bd4IqhdOH5Pfp+u2XhQR","Bonus");var n=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{titleLabel:cc.Label,moneyNode:cc.Node,moneyLabel:cc.Label,goldNode:cc.Node,goldLabel:cc.Label},init:function(t){this.GameCenter=t},onLoad:function(){},onDestroy:function(){clearTimeout(this.timeoutStarParticle)},initData:function(){var t=this.GameCenter.getUser().bonus,e=t.money,i=t.gold;this.moneyNode.active=e>0,this.goldNode.active=i>0,e>0&&(this.node.active=!0,this.moneyLabel.string=n.numberWithCommas(e)),i>0&&(this.node.active=!0,this.goldLabel.string=n.numberWithCommas(i)),this.titleLabel.string=t.name.toUpperCase()},onConfirmClick:function(){this.GameCenter.Audio.playClick();var t=this.GameCenter.getUser().bonus;(t.money>0||t.gold>0)&&(this.node.active=!1),t.money=0,t.gold=0}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil"}],BrowserUtil:[function(t,e,i){"use strict";cc._RF.push(e,"03a19tqNJxC+7c3JPrmjmP3","BrowserUtil");var n={showCursorText:function(){this.isCursorAuto()||this.setCursor("text")},showCursorPointer:function(){this.isCursorAuto()||this.setCursor("pointer")},showCursorMove:function(){this.isCursorAuto()||this.setCursor("move")},showCursorAuto:function(){this.isCursorAuto()||this.setCursor("auto")},showCursorShoot:function(){cc.sys.isBrowser&&(document.getElementById("GameDiv").style.cursor="url('cursors/cursor-shot.png') 5 2, auto")},showCursorAutoForce:function(){cc.sys.isBrowser&&this.setCursor("auto")},isCursorAuto:function(){return!!cc.sys.isBrowser&&"auto"===document.getElementById("GameDiv").style.cursor},setCursor:function(t){cc.sys.isBrowser&&(document.body.style.cursor=t)},showTooltip:function(t){cc.sys.isBrowser&&(document.body.title=t)},focusGame:function(){cc.sys.isBrowser&&document.getElementsByTagName("canvas")[0].focus()},getHTMLElementByEditBox:function(t){},checkEditBoxFocus:function(t){},focusEditBox:function(t){},unFocusEditBox:function(t){},readOnlyEditBox:function(t){}};e.exports=n,cc._RF.pop()},{}],Button:[function(t,e,i){"use strict";cc._RF.push(e,"4d0b4loKx1BFrq+hIbYPxOP","Button"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this._initScale=this.node.scale},onDisable:function(){for(var t=this.node.getComponents(cc.Button),e=0;e<t.length;e++)t[e]._transitionFinished=!0,this._initScale&&(this.node.scale=this._initScale)}}),cc._RF.pop()},{}],BuyInForm:[function(t,e,i){"use strict";cc._RF.push(e,"129ecL1ZzhABL+4baDzczGe","BuyInForm");var n=t("../../util/FormatUtil"),o=t("../../object/RoomType"),s=t("../../helper/Constant");cc.Class({extends:cc.Component,properties:{minValue:0,maxValue:0,round:100,balanceSprite:cc.Sprite,moneySpriteFrame:cc.SpriteFrame,goldSpriteFrame:cc.SpriteFrame,balanceLabel:cc.Label,minLabel:cc.Label,maxLabel:cc.Label,autoBuyInToggle:cc.Toggle,balanceSlider:cc.Slider},init:function(t){this.controller=t,this.GameRoom=t.GameRoom},initDataInvite:function(t){this.dataInvite=t},onLoad:function(){this.dialogForm=this.node.getComponent("DialogForm")},onEnable:function(){this.setBalanceBuyProgress(),this.setMinValue(this.minValue),this.setMaxValue(this.maxValue)},setBalanceSpriteByRoomType:function(t){this.balanceSprite.spriteFrame=t==o.GOLD_CODE?this.moneySpriteFrame:this.goldSpriteFrame},setInvite:function(t){this.isInvite=t},setRound:function(t){this.round=t},getRound:function(){return this.round},setValue:function(t){var e=0;e=t<=this.minValue?0:t>=this.maxValue?1:(t-this.minValue)/(this.maxValue-this.minValue),this.balanceSlider.progress=e,this.setBalanceBuyProgress()},setMinValue:function(t){this.minValue=t,this.minLabel.string=n.numberWithCommas(t)},setMaxValue:function(t){this.maxValue=t,this.maxLabel.string=n.numberWithCommas(t)},setAutoBuyIn:function(t){this.autoBuyInToggle.isChecked=t},onAutoBuyinToggleClick:function(t){},onBalanceSlider:function(t){this.setBalanceBuyProgress()},onCancelClick:function(){this.controller.Audio.playClick(),this.dialogForm.hideDialog()},onConfirmClick:function(){if(this.controller.Audio.playClick(),this.isInvite){var t={room_name:this.dataInvite.room_name,balance:this.getBalanceSlider(),is_auto_buy_in:this.autoBuyInToggle.isChecked};this.dialogForm.hideDialog(),this.controller.sendRequest.sendNoPrefixToZone(s.REQUEST_ACCEPT_INVITE,t)}else{this.controller.showProcessingNode();var e=this.controller.getLastJoinedRoom().groupId,i=this.getBalanceSlider(),n=this.autoBuyInToggle.isChecked,o=this.GameRoom.getRoomType();this.controller.sfsManager.joinRoom(e,this.GameRoom.minBet,o,i,n)}},setBalanceBuyProgress:function(){var t=this.getBalanceSlider();this.balanceLabel.string=n.numberWithCommas(t)},getBalanceSlider:function(){var t=this.balanceSlider.progress*(this.maxValue-this.minValue)+this.minValue;return t=t>=this.maxValue?this.maxValue:t<=this.minLabel?this.minValue:parseInt(t/this.round)*this.round},isBuyIn:function(){return this.autoBuyInToggle.isChecked},showDialog:function(){this.dialogForm||(this.dialogForm=this.node.getComponent("DialogForm")),this.dialogForm.showDialog()},hideDialog:function(){this.dialogForm||(this.dialogForm=this.node.getComponent("DialogForm")),this.dialogForm.hideDialog()}}),cc._RF.pop()},{"../../helper/Constant":"Constant","../../object/RoomType":"RoomType","../../util/FormatUtil":"FormatUtil"}],Capcha:[function(t,e,i){"use strict";cc._RF.push(e,"bda77nV2SlBM6JyhlVGbMC0","Capcha"),e.exports=function(){for(var t="",e="",i="abcdefghijklmnpqrstuvwxyz123456789",n=0;n<3;n++)t+=i.charAt(Math.floor(Math.random()*i.length));for(var o=0;o<32;o++)e+=i.charAt(Math.floor(Math.random()*i.length));this.text=t,this.result=t,this.device_id=e},cc._RF.pop()},{}],CardController:[function(t,e,i){"use strict";cc._RF.push(e,"69c57HUsUVKCbgJO4A2zOZC","CardController"),cc.Class({extends:cc.Component,properties:{darkEffectNode:cc.Node,highLightNode:cc.Node,backgroundNode:cc.Node,foregroundNode:cc.Node,highLightSprite:cc.Sprite,highLight1SpriteFrame:cc.SpriteFrame,highLight2SpriteFrame:cc.SpriteFrame,highLight3SpriteFrame:cc.SpriteFrame,highLight4SpriteFrame:cc.SpriteFrame,cardSprite:cc.Sprite,cardSpriteFrames:[cc.SpriteFrame]},onLoad:function(){},init:function(t){this.trueValue=t.trueValue;var e=t.suit-1,i=t.point;14===i&&(i=1),15===i&&(i=2),this.cardSprite.spriteFrame=this.cardSpriteFrames[13*e+i-1]},reveal:function(t){this.backgroundNode.active=!t,this.foregroundNode.active=t},isReveal:function(){return this.foregroundNode.active},revealWithAnimationFlip:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.node.scaleX,o=this.node.scaleY;this.reveal(!t),i&&this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.scaleTo(e/2,0,o),cc.callFunc(function(){this.reveal(t)},this),cc.scaleTo(e/2,n,o)))},revealWithAnimationFlipMoveScale:function(t,e,i,n,o){this.node.scaleX;var s=this.node.scaleY;this.reveal(!t);var a=cc.spawn(cc.moveTo(e,i,n),cc.sequence(cc.scaleTo(e/4,0,(o+s)/2),cc.callFunc(function(){this.reveal(t)},this),cc.scaleTo(e/4,o,o)));this.node.runAction(a,this)},showForeground:function(){this.foregroundNode.active=!0},hideForeground:function(){this.foregroundNode.active=!1},showBackground:function(){this.backgroundNode.active=!0},hideBackground:function(){this.backgroundNode.active=!1},showHighLightBlue:function(){this.highLightSprite.spriteFrame=this.highLight4SpriteFrame,this.showHighLight()},showHighLight:function(){this.highLightNode.active=!0},hideHighLight:function(){this.highLightNode.active=!1},showDarkEffect:function(){this.darkEffectNode.active=!0,this.hideHighLight()},hideDarkEffect:function(){this.darkEffectNode.active=!1},getTrueValue:function(){return this.trueValue}}),cc._RF.pop()},{}],CardGameValueItem:[function(t,e,i){"use strict";cc._RF.push(e,"bb0fcIemBVM8Jc0HGC8Vg7G","CardGameValueItem");var n=t("../../util/FormatUtil"),o=t("../../helper/Message");cc.Class({extends:cc.Component,properties:{cardOnButtonNode:cc.Node,cardOffButtonNode:cc.Node,cardOnLabel:cc.Label,cardOffLabel:cc.Label},init:function(t,e){this.GameCenter=t,this.GameRecharge=t.GameRecharge,this.AwardCard=this.GameRecharge.AwardCard,this.data=e,this.vnd=parseInt(e.vnd),this.money=parseInt(e.money),this.cardOnLabel.string=String.format(o.CARD_VALUE,n.nFormatter(this.vnd)),this.cardOffLabel.string=String.format(o.CARD_VALUE,n.nFormatter(this.vnd))},onLoad:function(){},onClick:function(){this.AwardCard.clearCardSelected(),this.setOn(),this.AwardCard.initTotalMoney()},setOn:function(){this.cardOnButtonNode.active=!0,this.cardOffButtonNode.active=!1},setOff:function(){this.cardOnButtonNode.active=!1,this.cardOffButtonNode.active=!0},isSelected:function(){return this.cardOnButtonNode.active},getValue:function(){return this.vnd},getMoney:function(){return this.money}}),cc._RF.pop()},{"../../helper/Message":"Message","../../util/FormatUtil":"FormatUtil"}],CardUtil:[function(t,e,i){"use strict";cc._RF.push(e,"102e57qSrBCCLOd51UwED01","CardUtil");var n={sortAZ:function(t){for(var e=0,i=t.length-1;e<i;e++)for(var n=e+1,o=t.length;n<o;n++)if(t[e]>t[n]){var s=t[e];t[e]=t[n],t[n]=s}return t},sortList:function(t){for(var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[],n=[],o=0,s=(t=this.getValeCard2(t)).length;o<s;o++)e[parseInt(t[o]/100)]+=1;for(var a=1,r=e.length-1;a<r;a++)if(e[a-1]>0&&e[a]>0&&e[a+1]>0){i.push(a-1),i.push(a),e[a-1]-=1,e[a]-=1;for(var c=a+1;c<e.length&&e[c]>0;)i.push(c),e[c]-=1,c++;a-=1}for(var h=0,l=i.length;h<l;h++)if(0!==i[h])for(var u=!1,d=0,m=t.length;d<m;d++)u||i[h]===parseInt(t[d]/100)&&(n.push(t[d]),t[d]=0,u=!0);t=this.sortAZ(t);for(var p=0;p<t.length;p++)0!==t[p]&&n.push(t[p]);if(this.listSave2.length>0)for(var f=0,_=this.listSave2.length;f<_;f++)n.push(this.listSave2[f]);return n},getValeCard2:function(t){this.listSave2=[];for(var e=0,i=t.length;e<i;e++)t[e]>=1500&&(this.listSave2.push(t[e]),t.splice(e,1));return this.listSave2.length>0&&(this.listSave2=this.sortAZ(this.listSave2)),t},sorfCardPlayedInSam:function(t){return this.checkCardA_2(t)?this.sanhA_2(t):this.checkCard2_3(t)?this.sanh2_3(t):this.sortAZ(t)},checkCardA_2:function(t){var e=!1,i=!1;for(var n in t)t[n]>=1400&&t[n]<1500&&(e=!0),t[n]>=1500&&(i=!0);return e&&i},checkCard2_3:function(t){var e=!1,i=!1;for(var n in t)t[n]>=1500&&(e=!0),t[n]<1500&&(i=!0);return i&&e},sanhA_2:function(t){var e=[];for(var i in t)t[i]>=1400&&t[i]<1500&&(e[0]=t[i],t.splice(i,1)),t[i]>=1500&&(e[1]=t[i],t.splice(i,1));for(var n in t=this.sortAZ(t))e.push(t[n]);return e},sanh2_3:function(t){var e=[];for(var i in t)t[i]>=1500&&(e[1]=t[i],t.splice(i,1));for(var n in t=this.sortAZ(t))e.push(t[n]);return e},sortListSam:function(t){var e=this.checkCardQKASAm(t);t=this.removeListCard(t,e);for(var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=[],o=[],s=0,a=(t=this.convertValueCard(t)).length;s<a;s++)i[parseInt(t[s]/100)]+=1;for(var r=1,c=i.length-1;r<c;r++)if(i[r-1]>0&&i[r]>0&&i[r+1]>0){n.push(r-1),n.push(r),i[r-1]-=1,i[r]-=1;for(var h=r+1;h<i.length&&i[h]>0;)n.push(h),i[h]-=1,h++;r-=1}for(var l=0,u=n.length;l<u;l++)if(0!==n[l])for(var d=!1,m=0,p=t.length;m<p;m++)d||n[l]===parseInt(t[m]/100)&&(o.push(t[m]),t[m]=0,d=!0);for(var f=0,_=(o=this.convertBackValueCard(o)).length;f<_;f++)e.push(o[f]);t=this.convertBackValueCard(t);for(var S=this.checkNgang(t),g=0,N=S.length;g<N;g++)e.push(S[g]);t=this.removeListCard(t,S),t=this.sortAZ(t);for(var I=0;I<t.length;I++)0!==t[I]&&e.push(t[I]);return e},checkCardQKASAm:function(t){for(var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[],n=[],o=0,s=t.length;o<s;o++)e[parseInt(t[o]/100)]+=1;for(var a=14;e[a]>0&&e[13]>0&&e[12]>0;){var r=[];r.push(a),r.push(13),e[13]-=1,e[a]-=1;for(var c=12;c>0&&e[c]>0;)r.push(c),e[c]-=1,c--;for(var h=r.length-1;h>=0;h--)i.push(r[h])}for(var l=0,u=i.length;l<u;l++)if(0!==i[l])for(var d=!1,m=0,p=t.length;m<p;m++)d||i[l]===parseInt(t[m]/100)&&(n.push(t[m]),t[m]=0,d=!0);return n},removeListCard:function(t,e){for(var i=0,n=e.length;i<n;i++)for(var o=!1,s=0,a=t.length;s<a;s++)o||e[i]===t[s]&&(t.splice(s,1),o=!0);return t},checkNgang:function(t){for(var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[],n=[],o=0,s=t.length;o<s;o++)e[parseInt(t[o]/100)]+=1;for(var a=0,r=e.length;a<r;a++)if(e[a]>=3){for(var c=0;c<e[a];c++)i.push(a);e[a]=0}for(var h=0,l=e.length;h<l;h++)if(e[h]>=2){for(var u=0;u<e[h];u++)i.push(h);e[h]=0}for(var d=0,m=i.length;d<m;d++)if(0!==i[d])for(var p=!1,f=0,_=t.length;f<_;f++)p||i[d]===parseInt(t[f]/100)&&(n.push(t[f]),t[f]=0,p=!0);return n},convertValueCard:function(t){for(var e=0,i=t.length;e<i;e++)t[e]>=1400&&t[e]<1500&&(t[e]=100+t[e]%1400),t[e]>=1500&&(t[e]=200+t[e]%1500);return t},convertBackValueCard:function(t){for(var e=0,i=t.length;e<i;e++)t[e]>=100&&t[e]<200&&(t[e]=1400+t[e]%100),t[e]>=200&&t[e]<300&&(t[e]=1500+t[e]%200);return t}};e.exports=n,cc._RF.pop()},{}],Card:[function(t,e,i){"use strict";cc._RF.push(e,"1b969WHve5B1rO3zNNUlG1L","Card");var n=cc.Enum({Spade:1,Club:2,Heart:3,Diamon:4}),o="NAN,A,2,3,4,5,6,7,8,9,10,J,Q,K".split(",");function s(t,e){Object.defineProperties(this,{point:{value:t,writable:!1},suit:{value:e,writable:!1},id:{value:13*(e-1)+(t-1),writable:!1},pointName:{get:function(){return o[this.point]}},suitName:{get:function(){return n[this.suit]}},isBlackSuit:{get:function(){return this.suit===n.Spade||this.suit===n.Club}},isRedSuit:{get:function(){return this.suit===n.Heart||this.suit===n.Diamond}}})}s.prototype.toString=function(){return this.suitName+" "+this.pointName},e.exports=s,cc._RF.pop()},{}],ChangePasswordSuccess:[function(t,e,i){"use strict";cc._RF.push(e,"9bc5bjvHolAPL5/9X13V01S","ChangePasswordSuccess"),cc.Class({extends:cc.Component,init:function(t){this.GameCenter=t},properties:{},onLoad:function(){},onDestroy:function(){clearTimeout(this.hideTimeout)},onConfirmLogoutClick:function(){this.GameCenter.Audio.playClick(),this.GameCenter.showProcessingNode(),this.logout()},logout:function(){var t={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId()};this.GameCenter.api.logout(t,function(t){},function(t){}),this.GameCenter.clearAccount(),this.GameCenter.sfsManager.sfs.disconnect()}}),cc._RF.pop()},{}],ChangePassword:[function(t,e,i){"use strict";cc._RF.push(e,"5243d1HGEdHUoCE0XBKEnnB","ChangePassword");var n=t("../../../helper/Message"),o=t("../../../helper/Constant");cc.Class({extends:cc.Component,properties:{oldPasswordEditBox:cc.EditBox,newPasswordEditBox:cc.EditBox,reNewPasswordEditBox:cc.EditBox,otpEditBox:cc.EditBox,smsButtonNode:cc.Node,otpButtonNode:cc.Node},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI},onLoad:function(){this.editboxs=[this.oldPasswordEditBox,this.newPasswordEditBox,this.reNewPasswordEditBox,this.otpEditBox],this.dialogForm=this.node.getComponent("DialogForm")},onEnable:function(){this.clear()},onDisable:function(){},onOTPClick:function(){this.smsButtonNode.active=!0,this.otpButtonNode.active=!1},onSMSClick:function(){this.smsButtonNode.active=!1,this.otpButtonNode.active=!0},onGetOtpClick:function(){this.GameCenter.showProcessingNode(),this.GameCenter.sendRequest.sendToZone(o.REQUEST_GET_OTP)},onConfirmClick:function(){var t=this;this.GameCenter.Audio.playClick();var e=this.oldPasswordEditBox.string,i=this.newPasswordEditBox.string,o=this.reNewPasswordEditBox.string,s=this.otpEditBox.string;if(this.checkAllEditboxNotEmpty())if(i===o){var a={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId(),old_pass:e,new_pass:i,otp:s};this.GameCenter.api.changePassword(a,function(e){t.clear(),t.GameCenter.hideProcessingNode(),t.GameCenterUI.showChangePasswordSuccessFormNode()},function(e){t.GameCenter.hideProcessingNode(),t.GameCenter.showDialogMessage(n.CHANGE_PASSWORD_TITLE,e.msg)})}else this.GameCenter.showDialogMessage(n.CHANGE_PASSWORD_TITLE,n.CHANGE_PASSWORD_RE_PASSWORD_NOT_CORRECT);else this.GameCenter.showDialogMessage(n.CHANGE_PASSWORD_TITLE,n.MISSING_INFO)},checkAllEditboxNotEmpty:function(){for(var t in this.editboxs)if(""===this.editboxs[t].string)return!1;return!0},clear:function(){for(var t in this.editboxs)this.editboxs[t].string=""}}),cc._RF.pop()},{"../../../helper/Constant":"Constant","../../../helper/Message":"Message"}],ChatGameItem:[function(t,e,i){"use strict";cc._RF.push(e,"b2c12vqej9MEIaeclZpm/lN","ChatGameItem");var n=t("../../helper/Message"),o=t("../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{messageRichText:cc.RichText},onLoad:function(){},init:function(t,e){this.setMessage(t,e)},setMessage:function(t,e){e=o.formatMessage(e),this.messageRichText.string=String.format(n.CHAT_GAME_MESSAGE,t,e)}}),cc._RF.pop()},{"../../helper/Message":"Message","../../util/FormatUtil":"FormatUtil"}],ChatItem:[function(t,e,i){"use strict";cc._RF.push(e,"81321RgoCFF5Z7R7efL4I57","ChatItem");var n=t("../../helper/Message"),o=t("../../util/FormatUtil"),s=t("../../util/Util");cc.Class({extends:cc.Component,properties:{messageRichText:cc.RichText},onLoad:function(){},init:function(t){if(Array.isArray(t)){for(var e="",i=0;i<t.length;i++)e+=String.format(n.CHAT_MESSAGE,s.getServerID(t[i].server_id),t[i].nick_name,o.formatMessage(t[i].msg)||o.formatMessage(t[i].message)),i!==t.length-1&&(e+="\n");this.messageRichText.string=e}else this.messageRichText.string=String.format(n.CHAT_MESSAGE,s.getServerID(t.server_id),t.nick_name,o.formatMessage(t.msg)||o.formatMessage(t.message))},initFail:function(t){this.setMessageFail(t)},setMessageFail:function(t){this.messageRichText.string=String.format(n.CHAT_MESSAGE_FAIL,t)}}),cc._RF.pop()},{"../../helper/Message":"Message","../../util/FormatUtil":"FormatUtil","../../util/Util":"Util"}],Chat:[function(t,e,i){"use strict";cc._RF.push(e,"cd3acijzrZGzrkGqSRbu8qE","Chat");var n=t("../../../helper/Constant");cc.Class({extends:cc.Component,properties:{chatEditBox:cc.EditBox,chatItemPrefab:cc.Prefab,chatScrollView:cc.ScrollView},init:function(t){this.GameCenter=t},onLoad:function(){},start:function(){this.GameCenter.sendRequest.sendNoPrefixToZone("CHAT."+n.REQUEST_CHAT_GET_CHAT)},update:function(t){0===this.number&&this.chatScrollView.scrollToBottom(),this.number++},initChat:function(t){t&&(this.instanceChatItem(t),this.scrollToBottom())},addChatFail:function(t){this.instanceChatItem(t,!0),this.checkBottom()&&this.chatScrollView.scrollToBottom(.25)},addChat:function(t){this.instanceChatItem(t),this.checkBottom()&&this.chatScrollView.scrollToBottom(.25)},instanceChatItem:function(t,e){var i=cc.instantiate(this.chatItemPrefab);e?i.getComponent("ChatItem").initFail(t):i.getComponent("ChatItem").init(t),this.chatScrollView.content.addChild(i)},checkBottom:function(){var t=this.chatScrollView.getScrollOffset().y,e=this.chatScrollView.node.height,i=this.chatScrollView.content.height;return Math.abs(t+e-i)<=50},scrollToBottom:function(){this.number=0},onChatClick:function(){var t=this.chatEditBox.string;this.sendChat(t)},sendChat:function(t){if(""!==t.trim()){var e={msg:t};this.chatEditBox.string="",this.GameCenter.sendRequest.sendNoPrefixToZone("CHAT."+n.REQUEST_CHAT_SEND_CHAT,e)}}}),cc._RF.pop()},{"../../../helper/Constant":"Constant"}],Chip:[function(t,e,i){"use strict";cc._RF.push(e,"6e4b3qjhMxK8LB41nT7AiZz","Chip"),cc.Class({extends:cc.Component,properties:{chipSprite:cc.Sprite,chipSpriteFrames:[cc.SpriteFrame]},onLoad:function(){},init:function(t){this.chipSprite.spriteFrame=this.chipSpriteFrames[t]}}),cc._RF.pop()},{}],CompareType:[function(t,e,i){"use strict";cc._RF.push(e,"5a971MjFeBBPqi1AXeAqlO9","CompareType");var n=cc.Enum({KHONG_HOP_LE:1,LON_HON:2,BANG_NHAU:3,NHO_HON:4});e.exports=n,cc._RF.pop()},{}],Config:[function(t,e,i){"use strict";cc._RF.push(e,"9fba5O+YeZBBrO8olQOatoZ","Config");e.exports={CANVAS_WIDTH:1280,CANVAS_HEIGHT:720,GAME_WIDTH:1280,GAME_HEIGHT:720,TIME_SAVE_ACCOUNT:300,XHR_TIMEOUT:120,PROCESSING_TIME_OUT:120,TOAST_TIME_OUT:2,SPEED_MOVE_NEWS:125,DISTANCE_TWO_NEWS:75,NEWS_MAX:10,BET_FORM_SHOW_X:-145,BET_FORM_HIDE_X:0,BET_FORM_TIME_SHOW:.2,MAIL_PAGINATION:10,HISTORY_PAGINATION:10,MAX_LENGTH_CONTENT:30,BANNER_TIME_CHANGE:5,BANNER_TIME_FADE:1,TOGGLE_DISTANCE_X:17,TOGGLE_TIME_ANIMATION:.2,CHAT_GAME_TIME_OUT:5,CHANGE_BALANCE_TIME_OUT:5,GAME_BUTTON_HISTORY_CHAT_SHOW_Y:453.5,GAME_BUTTON_HISTORY_CHAT_HIDE_Y:26.5,WIN_EFFECT_TIME_OUT:5,SAFE_MAX_LENGTH:12,SLOT_NUMBER_ITEM_IN_REEL:3,SLOT_NUMBER_REELS:5,SLOT_NUMBER_TYPE_ITEM:11,SLOT_DISTANCE_TWO_ITEMS:156,SLOT_SPEED_SPIN:750,SLOT_DELAY_SPIN:2,SLOT_DELAY_FINISH_1:3.5,SLOT_DELAY_FINISH_2:7.5,SLOT_NUMBER_LINES:20,SLOT_BETS:[100,1e3,1e4],SLOT_NUMBER_AUTO_SPIN:[10,20,50,100,200,500,1e3,5e3],SLOT_BONUS_TIME_FLIP_CARD:.4,SLOT2_DISTANCE_TWO_ITEMS:150,SLOT2_NUMBER_TYPE_ITEM:7,SLOT2_NUMBER_ITEM_IN_REEL:3,SLOT2_NUMBER_REELS:5,SLOT2_BET_ALIBABA:100,SLOT2_BET_ALADIN:1e3,SLOT2_BET_SINBAD:1e4,SLOT2_NUMBER_AUTO_SPIN:[10,20,50,100,200,500,1e3,5e3],SLOT2_DELAY_FINISH_1:4,SLOT2_TIME_OPEN_BOX:.5,SLOT2_TIME_FIRST_OPEN_EGGE:1.5,SLOT2_TIME_OPEN_EGGE:.5,SLOT2_TIME_DELAY_OPEN_EGGE:.75,SLOT2_TIME_OPEN_ALL_EGGE:2,SLOT2_DELAY_FINISH_2:5,SLOT2_DELAY_FINISH_3:3.5,SLOT2_TIME_SPIN:3,SLOT3_DISTANCE_TWO_ITEMS:136,SLOT3_NUMBER_TYPE_ITEM:7,SLOT3_NUMBER_ITEM_IN_REEL:3,SLOT3_NUMBER_REELS:5,SLOT3_BET_ALIBABA:100,SLOT3_BET_ALADIN:1e3,SLOT3_BET_SINBAD:1e4,SLOT3_NUMBER_AUTO_SPIN:[10,20,50,100,200,500,1e3,5e3],SLOT3_DELAY_FINISH_1:3.5,SLOT3_TIME_OPEN_BOX:.5,SLOT3_TIME_FIRST_OPEN_EGGE:1.5,SLOT3_TIME_OPEN_EGGE:.5,SLOT3_TIME_DELAY_OPEN_EGGE:.75,SLOT3_TIME_OPEN_ALL_EGGE:2,SLOT3_DELAY_FINISH_2:5,SLOT3_DELAY_FINISH_3:3.5,SLOT3_TIME_SPIN:3,MINIGAME_TIME_SHOW:.3,MINIGAME_SCALE_TOAST:.8,MINIGAME_POSITION_TOAST_X:0,MINIGAME_POSITION_TOAST_Y:-50,TAI_XIU_TIME_POSITION_X_BIG:160,TAI_XIU_TIME_POSITION_Y_BIG:90,TAI_XIU_TIME_POSITION_X_SMALL:50,TAI_XIU_TIME_POSITION_Y_SMALL:30,TAI_XIU_MIN_BALANCE_CHAT:1e3,TAI_XIU_NUMBER_HISTORY:120,JACKPOT_TIME_SHOW:.2,JACKPOT_EFFECT_SHOW:5,JACKPOT_TIME_INCREASE:2.5,MINIPOKER_SCALE_CARD:.6,MINIPOKER_DISTANCE_TWO_CARD:100,MINIPOKER_SPEED_SPIN_CARD:2e3,MINIPOKER_SPEED_FAST_SPIN_CARD:3e3,MINIPOKER_DELAY_SPIN:2,MINIPOKER_NUMBER_CARDS_SPIN:15,MINIPOKER_TIME_SPIN:4,MINIPOKER_TIME_FAST_SPIN:1,MINIPOKER_LIST_BET_GOLD:[1e3,1e4,1e5],MINIPOKER_LIST_BET_MONEY:[100,1e3,1e4],MINIBACAY_SCALE_CARD:.7,MINIBACAY_DISTANCE_TWO_CARD:115,MINIBACAY_SPEED_SPIN_CARD:2e3,MINIBACAY_SPEED_FAST_SPIN_CARD:3e3,MINIBACAY_DELAY_SPIN:2,MINIBACAY_NUMBER_CARDS_SPIN:15,MINIBACAY_TIME_SPIN:4,MINIBACAY_TIME_FAST_SPIN:1,MINIBACAY_LIST_BET_GOLD:[1e3,1e4,1e5],MINIBACAY_LIST_BET_MONEY:[100,1e3,1e4],DIAMOND_TIME_SPIN:5,DIAMOND_NUMBER_REELS:3,DIAMOND_SPEED_SPIN_CARD:750,DIAMOND_SPEED_FAST_SPIN_CARD:1750,DIAMOND_LIST_BET_GOLD:[1e3,1e4,1e5],DIAMOND_LIST_BET_MONEY:[100,1e3,1e4],DIAMOND_NUMBER_CHIP_SPIN:15,DIAMOND_NUMBER_TYPE_CHIP:6,DIAMOND_SCALE_CHIP:1,DIAMOND_DISTANCE_TWO_CHIPS:115,DIAMOND_DELAY_SPIN:2,BOM_TIME_SPIN:5,BOM_NUMBER_REELS:3,BOM_SPEED_SPIN_CARD:1500,BOM_LIST_BET_GOLD:[1e3,1e4,1e5],BOM_LIST_BET_MONEY:[100,1e3,1e4],BOM_NUMBER_CHIP_SPIN:15,BOM_NUMBER_TYPE_CHIP:6,BOM_SCALE_CHIP:.9,BOM_DISTANCE_TWO_CHIPS:90,BOM_DISTANCE_TWO_CHIPS_2:90,BOM_DELAY_SPIN:1,WILD_TIME_SPIN:5,WILD_NUMBER_REELS:3,WILD_SPEED_SPIN_CARD:1500,WILD_LIST_BET_GOLD:[1e3,5e3,1e4],WILD_LIST_BET_MONEY:[1e3,5e3,1e4],WILD_NUMBER_CHIP_SPIN:20,WILD_NUMBER_TYPE_CHIP:6,WILD_SCALE_CHIP:.9,WILD_DISTANCE_TWO_CHIPS:115,WILD_DISTANCE_TWO_CHIPS_2:90,WILD_DELAY_SPIN:2,WILD_DELAY_SPIN_REEL_2:1.5,TRENDUOI_SCALE_CARD:1.25,TRENDUOI_DISTANCE_TWO_CARD:200,TRENDUOI_SPEED_SPIN_CARD:1e3,TRENDUOI_DELAY_SPIN:1,TRENDUOI_NUMBER_CARDS_SPIN:15,TRENDUOI_LIST_BET_GOLD:[1e4,5e4,1e5,5e5,1e6],TRENDUOI_LIST_BET_MONEY:[1e3,5e3,1e4,5e4,1e5,5e5],TAI_XIU_LIST_SELECT:[1e3,5e3,1e4,5e4,1e5,5e5,1e6,5e6],TAI_XIU_MAX_LENGTH:12,MINIGAME_LOTTERY_LIST_SELECT:[1e3,5e3,1e4,5e4,1e5,5e5,1e6,5e6],BAU_CUA_LIST_BET:[100,500,1e3,5e3,1e4,5e4,1e5,5e5,1e6],QUEST_TIME_SHOW_NOTIFICATION:10,TIME_WIN_TYPE_NORMAL:1.5,TIME_WIN_TYPE_BIGWIN:3,TIME_WIN_TYPE_JACKPOT:5,NUMBER_LOGIN:7,SECONDS_TIME_LOGIN:60,NUMBER_PAGE_EVENT:10,AREA_CODES:[{name:"\u0110\xe0i Loan - +886",code:"+886"},{name:"Vi\u1ec7t Nam - +84",code:"+84"},{name:"Nh\u1eadt B\u1ea3n - +81",code:"+81"}]},cc._RF.pop()},{}],ConfirmRemoveMail:[function(t,e,i){"use strict";cc._RF.push(e,"64f08KPEVZKZLUfcQdvtRw5","ConfirmRemoveMail"),cc.Class({extends:cc.Component,properties:{},init:function(t){this.GameCenter=t,this.InfoMail=t.GameInfo.InfoMail},onLoad:function(){this.dialogForm=this.node.getComponent("DialogForm")},setId:function(t,e){this.id=t,this.isReaded=e},onCancelClick:function(){this.GameCenter.Audio.playClick(),this.dialogForm.hideDialog()},onConfirmClick:function(){this.GameCenter.Audio.playClick(),this.removeMail()},removeMail:function(){var t={id:this.id,token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId()};this.GameCenter.api.removeMessage(t,function(t){},function(t){}),this.isReaded||this.GameCenter.Header.HeaderAccount.minusUnreadMessage(),this.InfoMail.removeMail(this.id),this.dialogForm.hideDialog()}}),cc._RF.pop()},{}],ConfirmSecurity:[function(t,e,i){"use strict";cc._RF.push(e,"f6baeAMzOFFPYhUxRIwH3Ot","ConfirmSecurity"),cc.Class({extends:cc.Component,properties:{},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI},onLoad:function(){this.dialogForm=this.node.getComponent("DialogForm")},onCancelClick:function(){this.GameCenter.Audio.playClick(),this.dialogForm.hideDialog()},onConfirmClick:function(){this.GameCenter.Audio.playClick(),this.GameCenterUI.showInfoNode(),this.GameCenter.GameInfo.showSercurity(),this.dialogForm.hideDialog(!1)}}),cc._RF.pop()},{}],Constant:[function(t,e,i){"use strict";cc._RF.push(e,"7231dbXIA5Kw457Ynrh/vxo","Constant");e.exports={STATUS_SUCCESS:1,STATUS_FAILURE:0,SECURITY_LOGIN:1,SECURITY_LOGIN_STATUS_CHOSE:1,SECURITY_LOGIN_STATUS_CANCEL:0,IS_SOUND:"is_sound",IS_SOUND_SLOT:"is_sound_slot",IS_MUSIC_SLOT:"is_music_slot",Z_INDEX:"z_index",TOKEN:"token",FACEBOOK:"facebook",TYPE:"type",TIME_LOGIN:"time_login",DEVICE_ID:"device_id",SERVER_ID_1:1,SERVER_ID_2:2,SERVER_ID_1_NAME:"[JP]  ",SERVER_ID_2_NAME:"[TW]  ",MONEY_NAME:"Vin",GOLD_NAME:"Xu",MONEY_CODE:"0",GOLD_CODE:"1",CONVERT_DIAMOND:"CONVERT_DIAMOND",SCENE_GAME_CENTER:"GameCenter",SCENE_GAME_TLMN:"TLMN",SCENE_GAME_POKER:"POKER",SCENE_GAME_BACAY:"BACAY",SCENE_GAME_XOCDIA:"XOCDIA",SCENE_GAME_LIENG:"LIENG",SCENE_GAME_MAUBINH:"MAUBINH",SCENE_GAME_SAM:"SAM",SCENE_GAME_PHOM:"PHOM",SCENE_GAME_XITO:"XITO",SCENE_GAME_SLOT:"SLOT",SCENE_GAME_SLOT_2:"SLOT3",SCENE_GAME_SLOT_3:"SLOT2",SCENE_GAME_SLOT_4:"SLOT4",LOBBY:"LOBBY",CHAT_WORLD:"CHAT_WORLD",BA_CAY:"BACAY",XOC_DIA:"XOCDIA",POKER:"POKER",TLMN:"TLMN",TLMNSOLO:"TLMNSOLO",LIENG:"LIENG",MAU_BINH:"MAUBINH",SAM:"SAM",SAMSOLO:"SAMSOLO",PHOM:"PHOM",CHAN:"CHAN",XITO:"XITO",TAI_XIU:"TAIXIU",MINI_POKER:"MINIPOKER",MINI_BACAY:"MINI3CAY",TREN_DUOI:"HILO",LUCK_WHEEL:"LUCK_WHEEL",DIAMOND:"DIAMOND",ZOOMBIES:"ZOOMBIES",ONE001:"ONE001",DRAGON:"DRAGON",CLASSIC1:"CLASSIC1",DIAMOND_2:"DIAMOND2",MINIGAME_LOTTERY:"MINIGAME_LOTTERY",BAU_CUA:"HOO_HEY_HOW",WILD:"WILD",BOM:"BOM",MIN_BET:"MIN_BET",ROOM_TYPE:"ROOM_TYPE",MATCH_GAME_ID:"MATCH_GAME_ID",GOLD:"gold",MONEY:"money",BALANCE:"balance",SAFE_AMOUNT:"safe_amount",VIP_POINT_VARIBLE:"vip_point",DIAMOND_EVENT:"diamond",DIAMOND_LEVEL_EVENT:"diamond_level",SHORT_NAME:"short_name",IS_BUY_IN:"is_buy_in",MIN_BUY:"min_buy",MAX_BUY:"max_buy",JOIN_ROOM_ERROR:"JOIN_ROOM_ERROR",REQUEST_JOIN_GAME:"REQUEST_JOIN_GAME",REQUEST_LEFT_ROOM:"REQUEST_LEFT_ROOM",REQUEST_JOIN_ROOM:"REQUEST_JOIN_ROOM",REQUEST_OUT_LOBBY_GAME:"REQUEST_OUT_LOBBY_GAME",REQUEST_UPDATE:"REQUEST_UPDATE",REQUEST_UPDATE_USER_VARIABLES:"UPDATE_USER_VARIABLES",REQUEST_PREVENT_DISCONNECT:"REQUEST_PREVENT_DISCONNECT",MINIGAME_REQUEST:"MINIGAME",REQUEST_INVITE:"REQUEST_INVITE",REQUEST_ACCEPT_INVITE:"REQUEST_ACCEPT_INVITE",REQUEST_CHAT_GET_CHAT:"GET_CHAT",REQUEST_CHAT_SEND_CHAT:"SEND_CHAT",REQUEST_SAFE_DEPOSIT:"SAFE_DEPOSIT",REQUEST_SAFE_WITHDRAW:"SAFE_WITHDRAW",REQUEST_AWARD_CARD:"AWARD",REQUEST_TRANSFER:"PLAYER_TRANSFER",REQUEST_RECHARGE_GOLD:"CONVERT_MONEY_TO_GOLD",REQUEST_PLAYER_RECEIVE_ALERT:"PLAYER_RECEIVE_ALERT",REQUEST_PLAYER_RECEIVE_NEW_MESSAGE:"PLAYER_RECEIVE_NEW_MESSAGE",REQUEST_ACHIVEMENTED_QUEST:"REQUEST_ACHIVEMENTED_QUEST",REQUEST_NOT_ENOUGH_BALANCE_STAY_ROOM:"NOT_ENOUGH_BALANCE_STAY_ROOM",REQUEST_PLUS_LUCKY_WHEEL_FREE:"PLUS_LUCKY_WHEEL_FREE",REQUEST_GET_DAILY_ACHIVEMENT:"GET_DAILY_ACHIVEMENT",REQUEST_MESSAGE:"MESSAGE",REQUEST_GET_OTP:"GET_OTP",UPDATE_MINIGAME_FREE:"UPDATE_MINIGAME_FREE",REQUEST_ACHIVEMENTED_VIP_POINT:"REQUEST_ACHIVEMENTED_VIP_POINT",GET_TOP:"GET_TOP",ROOM_INFO:"ROOM_INFO",NEWS:"NEWS",TAB_KEY:9,ENTER_KEY:13,ESC_KEY:27,VIP_POINT:["T\u1eadp S\u1ef1","Nh\u1eadp M\xf4n","T\xe2n Th\u1ee7","Danh Th\u1ee7","Cao Th\u1ee7","Si\xeau Cao Th\u1ee7","Ki\u1ec7n T\u01b0\u1edbng","\u0110\u1ea1i Ki\u1ec7n T\u01b0\u1edbng"],FACEBOOK_ID:"269983337196671",FACEBOOK_FANPAGE:"1914283525359180",FACEBOOK_GROUP:"292414458065247",LOGIN_FACEBOOK_TYPE:1,REGISTER_CODE_WEB:"WEB",REGISTER_CODE_APPLE_STORE:"APPLE",REGISTER_CODE_GOOGLE_STORE:"GOOGLE",REGISTER_CODE_APPLE_JAILBREAK:"APPLE_JB",MARKETING_CODE:"mkt_code",ACCOUNT:"account",ACCOUNT_QUICK:"account_quick",AUTO_LOGIN:"auto_login",ACCOUNT_TYPE:"account_type",ACCOUNT_TYPE_LOGIN:0,ACCOUNT_TYPE_LOGIN_FACEBOOK:1,ACCOUNT_TYPE_LOGIN_QUICK:2,HOST_GAME:"https://xu.vin/",HOST_LOGIN_FACEBOOK:"http://vinxufb.com?fb=1",KEY:"JeDrwhYsTzGPswr3kJEfw7PjXqRYsJMLt886FXjGXUG4jW7TBd9pHZmWy52Q"},cc._RF.pop()},{}],DialogForm:[function(t,e,i){"use strict";cc._RF.push(e,"1fb49tXzQxNvrkjaKEWrGv0","DialogForm"),cc.Class({extends:cc.Component,properties:{formNode:cc.Node},onLoad:function(){this.isHiding=!1,this.formAnimation=this.formNode.getComponent(cc.Animation)},onDestroy:function(){clearTimeout(this.hideTimeout)},showDialog:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.node.active=!0},hideDialog:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.node.active=!1},onCloseClick:function(){this.hideDialog()}}),cc._RF.pop()},{}],DialogMessage:[function(t,e,i){"use strict";cc._RF.push(e,"e016aEktsRFU6gOpCNwKkOg","DialogMessage");var n=t("../../helper/Message");cc.Class({extends:cc.Component,properties:{formNode:cc.Node,titleLabel:cc.Label,contentLabel:cc.Label},onLoad:function(){},onDestroy:function(){clearTimeout(this.hideTimeout)},setMessage:function(t,e){this.titleLabel.string=t.toUpperCase(),e===n.ACCOUNT_ONLINE&&(e=n.ACCOUNT_ONLINE_2),this.contentLabel.string=e},showDialog:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.node.active=!0},showMessage:function(t,e){this.setMessage(t,e),this.showDialog()},hideDialog:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.node.active=!1},onCloseClick:function(){this.hideDialog()}}),cc._RF.pop()},{"../../helper/Message":"Message"}],DiamondConstant:[function(t,e,i){"use strict";cc._RF.push(e,"02d18ohIQtBDLjjjcr0oCc4","DiamondConstant");e.exports={REQUEST_MESSAGE:"MESSAGE",REQUEST_INFO:"INFO",REQUEST_SPIN:"SPIN",ADD_EVENT:"diamond.ADD_EVENT",REMOVE_EVENT:"diamond.REMOVE_EVENT",SPIN:"diamond.SPIN",IS_SHOW:"diamond_is_show",POSITION:"diamond_position",LIST_LINES:"diamond_list",IS_AUTO_SPIN:"diamond_auto_spin",IS_SPIN_FAST:"diamond_spin_fast",BET_VALUE:"diamond_bet_value",BET_100:100,BET_1k:1e3,BET_10k:1e4,MONEY_TYPE:"diamond_money_type",MONEY_TYPE_GOLD:"GOLD",MONEY_TYPE_MONEY:"MONEY",GET_TOP_2:"GET_TOP",GET_TOP:"diamond.GET_TOP",MINIGAME_CONFIG_ID:13},cc._RF.pop()},{}],DiamondEventItem:[function(t,e,i){"use strict";cc._RF.push(e,"768a1m07adJVIig+3fnBMSt","DiamondEventItem");var n=t("../../../util/FormatUtil"),o=t("../../../helper/Constant");cc.Class({extends:cc.Component,properties:{diamondLabel:cc.Label,goldLabel:cc.Label,sprite1:cc.Sprite,sprite2:cc.Sprite,listSprite:[cc.SpriteFrame],onButtonNode:cc.Node,offButtonNode:cc.Node},init:function(t,e,i){if(this.GameCenter=t,e){this.data=e,this.diamondLabel.string=n.nFormatter(e.diamond),this.goldLabel.string=n.nFormatter(e.fee_gold),this.sprite1.spriteFrame=this.listSprite[i-1],this.sprite2.spriteFrame=this.listSprite[i];var o=this.GameCenter.getDiamondLevel();0===o?(this.onButtonNode.active=!0,this.offButtonNode.active=!1):o>=i?(this.onButtonNode.active=!1,this.offButtonNode.active=!0):(this.onButtonNode.active=!0,this.offButtonNode.active=!1)}},onClick:function(){this.GameCenter.sendRequest.sendToZone(o.CONVERT_DIAMOND)}}),cc._RF.pop()},{"../../../helper/Constant":"Constant","../../../util/FormatUtil":"FormatUtil"}],DiamondHistories:[function(t,e,i){"use strict";cc._RF.push(e,"f09d10/I91AtonX3K8O8qz1","DiamondHistories");var n=t("../../../../helper/Message");cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,moneyButtonNode:cc.Node,goldButtonNode:cc.Node,historyDiamondItemPrefab:cc.Prefab,historyScrollView:cc.ScrollView},init:function(t){this.controller=t},onLoad:function(){},onEnable:function(){this.data=null,this.onMoneyClick()},onDisable:function(){this.removeXhr()},onMoneyClick:function(){this.goldButtonNode.active=!0,this.moneyButtonNode.active=!1,this.loadData()},onGoldClick:function(){this.goldButtonNode.active=!1,this.moneyButtonNode.active=!0,this.loadData()},loadData:function(){var t=this;if(this.showLoadingNode(),this.historyScrollView.content.removeAllChildren(!0),this.data)this.initData();else{var e={token:this.controller.getToken(),user_id:this.controller.getUserId()};this.controller.api.getHistoryDiamond(e,function(e){t.data=e.data,t.initData()},function(e){t.showListNode(),t.controller.showDialogMessage(n.HISTORY_TITLE,e.msg)})}},initData:function(){if(this.showListNode(),this.data){var t=this.isMoneyType()?this.data[0]:this.data[1];for(var e in t){var i=cc.instantiate(this.historyDiamondItemPrefab);i.parent=this.historyScrollView.content,i.getComponent("DiamondHistoryItem").init(t[e],e)}}},getType:function(){return this.moneyOnButtonNode.active?0:1},isMoneyType:function(){return this.goldButtonNode.active},showLoadingNode:function(){this.loadingNode.active=!0,this.historyScrollView.node.active=!1},showListNode:function(){this.loadingNode.active=!1,this.historyScrollView.node.active=!0},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{"../../../../helper/Message":"Message"}],DiamondHistoryItem:[function(t,e,i){"use strict";cc._RF.push(e,"26e46qI5d1CQ5bbvTx/vW9W","DiamondHistoryItem");var n=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,idLabel:cc.Label,timeLabel:cc.Label,betLabel:cc.Label,resultLabel:cc.Label,getLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e){this.data=t,t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.idLabel.string=t.spin_id,this.timeLabel.string=n.getStringDateByTimeStamp(t.created_at),this.betLabel.string=n.numberWithCommas(t.total_bet_value),this.resultLabel.string=this.getResult(t.result),this.getLabel.string=n.numberWithCommas(t.total_prize_value);var i=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=i},onLoad:function(){},getResult:function(t){try{t=JSON.parse(t);var e=0;if(t)for(var i in t)e++;return e+" d\xf2ng"}catch(t){return"0 d\xf2ng"}}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil"}],DiamondItem:[function(t,e,i){"use strict";cc._RF.push(e,"4ade3TcWKZBWYIbccTy01ld","DiamondItem"),cc.Class({extends:cc.Component,properties:{diamondSprite:cc.Sprite,itemsSpriteFrame:[cc.SpriteFrame]},onLoad:function(){},init:function(t){switch(this.diamondSprite.node.active=!0,t){case"A":t=5;break;case"B":t=4;break;case"C":t=3;break;case"D":t=2;break;case"E":t=1;break;case"W":t=0}this.diamondSprite.spriteFrame=this.itemsSpriteFrame[t]},reset:function(){this.diamondSprite.node.active=!1}}),cc._RF.pop()},{}],DiamondLine:[function(t,e,i){"use strict";cc._RF.push(e,"1e028BOpcVKzKfEjLPODe8t","DiamondLine");var n=t("../item/DiamondNumberLineItem");cc.Class({extends:cc.Component,properties:{listNumberLineItem:[n],listLine:[cc.Node]},init:function(t){for(var e in this.Diamond=t,this.DiamondSelectForm=t.DiamondSelectForm,this.listNumberLineItem)this.listNumberLineItem[e].init(this)},onLoad:function(){},showLines:function(t){if(this.reset(),t)for(var e in this.listLine)for(var i in t)if(e==t[i].line-1){this.listLine[e].active=!0;break}},showLine:function(t){for(var e in this.listLine)this.listLine[e].active=parseInt(t)-1==e},initNumberLine:function(){var t=0;for(var e in this.listNumberLineItem)this.listNumberLineItem[e].isSelected&&t++;this.Diamond.numberLineLabel.string=t+" D\xd2NG"},getLineData:function(){var t=[];for(var e in this.listNumberLineItem)this.listNumberLineItem[e].isSelected&&t.push(parseInt(e)+1);return t},select:function(t){this.listNumberLineItem[t-1].select()},unSelect:function(t){this.listNumberLineItem[t-1].unSelect()},getListLines:function(){var t=[];for(var e in this.listNumberLineItem)this.listNumberLineItem[e].isSelected&&t.push(parseInt(e)+1);return t},reset:function(){for(var t in this.listLine)this.listLine[t].active=!1}}),cc._RF.pop()},{"../item/DiamondNumberLineItem":"DiamondNumberLineItem"}],DiamondNumberLineItem:[function(t,e,i){"use strict";cc._RF.push(e,"5bf970XvBpId6EelGMtFE1b","DiamondNumberLineItem");var n=t("../../../helper/Message");cc.Class({extends:cc.Component,properties:{numberLine:0,bgSprite:cc.Sprite,bgDefaultSpriteFrame:cc.SpriteFrame,bgSelectedSpriteFrame:cc.SpriteFrame,bgHoverSpriteFrame:cc.SpriteFrame},init:function(t){this.DiamondLine=t,this.Diamond=t.Diamond,this.DiamondSelectForm=t.DiamondSelectForm,this.line=this.numberLine,this.isSelected=!1},onLoad:function(){},onClick:function(){this.Diamond.isSpinning()||this.Diamond.isAutoSpin()?this.Diamond.controller.showToast(n.AUTO_SPIN_NOT_CHANGE_BET):(this.isSelected=!this.isSelected,this.isSelected?this.DiamondSelectForm.select(this.line):this.DiamondSelectForm.unSelect(this.line),this.Diamond.saveListLines())},select:function(){this.isSelected=!0,this.bgSprite.spriteFrame=this.bgSelectedSpriteFrame,this.DiamondLine.initNumberLine()},unSelect:function(){this.isSelected=!1,this.bgSprite.spriteFrame=this.bgDefaultSpriteFrame,this.DiamondLine.initNumberLine()}}),cc._RF.pop()},{"../../../helper/Message":"Message"}],DiamondReel:[function(t,e,i){"use strict";cc._RF.push(e,"cf0a6E8GtVNW4S69nHAeKvs","DiamondReel");var n=t("../../../util/RandomUtil"),o=t("../../../helper/Config"),s=t("../MiniGameConstant");cc.Class({extends:cc.Component,properties:{diamondItemPrefab:cc.Prefab},init:function(t){this.Diamond=t,this.DiamondUI=t.DiamondUI,this.DiamondLine=t.DiamondLine,this.MiniGameResult=t.MiniGameResult},onLoad:function(){this.chips=[],this.pool=new cc.NodePool;for(var t=0;t<20;t++){var e=cc.instantiate(this.diamondItemPrefab);this.pool.put(e)}this.randomChips()},spin:function(t,e,i,n,a,r,c){this.reset(),this.setChips(this.chips),this.chips=t;for(var h=1;h<e;h++){var l=this.getRandomChip();h===e-1&&(l=t[0]),h===e-2&&(l=t[1]),h===e-3&&(l=t[2]);var u=this.instanceChip(l);u.setPosition(0,(h+1)*o.DIAMOND_DISTANCE_TWO_CHIPS),u.parent=this.node}var d=(e-1)*o.DIAMOND_DISTANCE_TWO_CHIPS,m=d/(this.Diamond.isSpinFast()?o.DIAMOND_SPEED_FAST_SPIN_CARD:o.DIAMOND_SPEED_SPIN_CARD),p=cc.moveTo(m,this.node.x,-d).easing(cc.easeInOut(3)),f=cc.callFunc(function(){this.setChips(t),i&&this.Diamond.node.active&&(r===s.WIN_TYPE_JACKPOT?this.DiamondUI.showJackPot(n,c):a&&this.MiniGameResult.show(n),this.DiamondLine.showLines(a))},this),_=this.Diamond.isSpinFast()?cc.delayTime(0):cc.delayTime(o.DIAMOND_DELAY_SPIN),S=cc.callFunc(function(){i&&this.Diamond.node.active&&this.Diamond.isAutoSpin()&&this.Diamond.spin()},this);this.node.runAction(cc.sequence(p,f,_,S)),r!==s.WIN_TYPE_JACKPOT||this.Diamond.node.active||(this.Diamond.node.active=!0,this.DiamondUI.showJackPot(n,c))},randomChips:function(){for(var t=[],e=0;e<o.DIAMOND_NUMBER_REELS;e++){var i=this.getRandomChip();t.push(i)}this.reset(),this.setChips(t)},getRandomChip:function(){return n.getRandomInt(0,o.DIAMOND_NUMBER_TYPE_CHIP-1)},setChips:function(t){if(t){this.putAllChipToPool(),this.node.setPosition(this.node.x,0),this.chips=t;for(var e=0;e<t.length;e++){var i=this.instanceChip(t[e]);i.setPosition(0,(1-e)*o.DIAMOND_DISTANCE_TWO_CHIPS),i.parent=this.node}}},instanceChip:function(t){var e=void 0;return this.pool&&(e=this.pool.get()),e||(e=cc.instantiate(this.diamondItemPrefab)),e.getComponent("DiamondItem").init(t),e.setScale(o.DIAMOND_SCALE_CHIP),e},putAllChipToPool:function(){if(this.pool){var t=this.node.getChildren(),e=[];for(var i in t)e.push(t[i]);for(var n in e)this.pool.put(e[n])}},reset:function(){this.node.stopAllActions(!0),this.node.setPosition(this.node.x,0),this.putAllChipToPool(),this.DiamondLine.reset()}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../util/RandomUtil":"RandomUtil","../MiniGameConstant":"MiniGameConstant"}],DiamondSelectForm:[function(t,e,i){"use strict";cc._RF.push(e,"8eaa0pD7pFAkY7F2dN0xp9O","DiamondSelectForm");var n=t("../item/DiamondSelectItem"),o=t("../../../helper/Message");cc.Class({extends:cc.Component,properties:{listSelectItem:[n]},init:function(t){for(var e in this.Diamond=t,this.DiamondLine=t.DiamondLine,this.listSelectItem)this.listSelectItem[e].init(this,parseInt(e)+1)},onLoad:function(){},initData:function(){},select:function(t){this.listSelectItem[t-1].select()},unSelect:function(t){this.listSelectItem[t-1].unSelect()},onCloseClick:function(){this.node.active=!1},onIgnoreAllClick:function(){if(this.Diamond.isSpinning()||this.Diamond.isAutoSpin())this.Diamond.controller.showToast(o.AUTO_SPIN_NOT_CHANGE_BET);else{for(var t in this.listSelectItem)this.listSelectItem[t].unSelect(),this.DiamondLine.unSelect(parseInt(t)+1);this.Diamond.saveListLines()}},onSelectAllClick:function(){if(this.Diamond.isSpinning()||this.Diamond.isAutoSpin())this.Diamond.controller.showToast(o.AUTO_SPIN_NOT_CHANGE_BET);else{for(var t in this.listSelectItem)this.listSelectItem[t].select(),this.DiamondLine.select(parseInt(t)+1);this.Diamond.saveListLines()}},onSelectEvenClick:function(){if(this.Diamond.isSpinning()||this.Diamond.isAutoSpin())this.Diamond.controller.showToast(o.AUTO_SPIN_NOT_CHANGE_BET);else{for(var t in this.listSelectItem)(parseInt(t)+1)%2==0?(this.listSelectItem[t].select(),this.DiamondLine.select(parseInt(t)+1)):(this.listSelectItem[t].unSelect(),this.DiamondLine.unSelect(parseInt(t)+1));this.Diamond.saveListLines()}},onSelectOddClick:function(){if(this.Diamond.isSpinning()||this.Diamond.isAutoSpin())this.Diamond.controller.showToast(o.AUTO_SPIN_NOT_CHANGE_BET);else{for(var t in this.listSelectItem)(parseInt(t)+1)%2==0?(this.listSelectItem[t].unSelect(),this.DiamondLine.unSelect(parseInt(t)+1)):(this.listSelectItem[t].select(),this.DiamondLine.select(parseInt(t)+1));this.Diamond.saveListLines()}}}),cc._RF.pop()},{"../../../helper/Message":"Message","../item/DiamondSelectItem":"DiamondSelectItem"}],DiamondSelectItem:[function(t,e,i){"use strict";cc._RF.push(e,"a986fg5SLJLNa04CDwno5n4","DiamondSelectItem");var n=t("../../../helper/Message");cc.Class({extends:cc.Component,properties:{diamondSprite:cc.Sprite,diamondOnSpriteFrame:cc.SpriteFrame,diamondOffSpriteFrame:cc.SpriteFrame},init:function(t,e){this.DiamondSelectForm=t,this.Diamond=t.Diamond,this.DiamondLine=t.DiamondLine,this.line=e,this.isSelected=!1},onLoad:function(){var t=this;this.onMouseEnter=function(){t.diamondSprite.spriteFrame=t.diamondOnSpriteFrame},this.onMouseLeave=function(){t.diamondSprite.spriteFrame=t.isSelected?t.diamondOnSpriteFrame:t.diamondOffSpriteFrame},cc.sys.isBrowser&&(this.node.on(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this.node),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this.node))},onClick:function(){this.Diamond.isSpinning()||this.Diamond.isAutoSpin()?this.Diamond.controller.showToast(n.AUTO_SPIN_NOT_CHANGE_BET):(this.isSelected=!this.isSelected,this.isSelected?(this.DiamondLine.select(this.line),this.select()):(this.DiamondLine.unSelect(this.line),this.unSelect()),this.Diamond.saveListLines())},select:function(){this.isSelected=!0,this.diamondSprite.spriteFrame=this.diamondOnSpriteFrame,this.DiamondLine.initNumberLine()},unSelect:function(){this.isSelected=!1,this.diamondSprite.spriteFrame=this.diamondOffSpriteFrame,this.DiamondLine.initNumberLine()}}),cc._RF.pop()},{"../../../helper/Message":"Message"}],DiamondUI:[function(t,e,i){"use strict";cc._RF.push(e,"cc08255pmhA0Z/ihjvIj/y9","DiamondUI");var n=t("../../../util/FormatUtil"),o=t("../../../helper/Config");cc.Class({extends:cc.Component,properties:{bet1OnLabel:cc.Label,bet1OffLabel:cc.Label,bet2OnLabel:cc.Label,bet2OffLabel:cc.Label,bet3OnLabel:cc.Label,bet3OffLabel:cc.Label,betOnButton1Node:cc.Node,betOffButton1Node:cc.Node,betOnButton2Node:cc.Node,betOffButton2Node:cc.Node,betOnButton3Node:cc.Node,betOffButton3Node:cc.Node,jackpotPrefab:cc.Prefab,jackpotNode:cc.Node,notifySpinFreeNode:cc.Node,notifySpinFreeLabel:cc.Label,notifySpinFreeNode2:cc.Node,notifySpinFreeLabel2:cc.Label},onLoad:function(){},showJackPot:function(t,e){this.jackpotNode.removeAllChildren(!0);var i=cc.instantiate(this.jackpotPrefab);this.jackpotNode.addChild(i),i.getComponent("JackpotEffect").show(t,e),i.position=new cc.Vec2(0,0)},setBetByRoomType:function(t){t?this.setBetMoney():this.setBetGold()},setBetMoney:function(){var t=o.DIAMOND_LIST_BET_MONEY;this.setBetGoldByList(t[0],t[1],t[2])},showMiniGameSpinFree:function(t){this.notifySpinFreeLabel.string=t,this.notifySpinFreeNode.active=!0,this.notifySpinFreeLabel2.string=t,this.notifySpinFreeNode2.active=!0},hideMiniGameSpinFree:function(){this.notifySpinFreeNode.active=!1,this.notifySpinFreeNode2.active=!1},setBetGold:function(){var t=o.DIAMOND_LIST_BET_GOLD;this.setBetGoldByList(t[0],t[1],t[2])},setBetGoldByList:function(t,e,i){this.bet1OnLabel.string=n.nFormatter(t),this.bet1OffLabel.string=n.nFormatter(t),this.bet2OnLabel.string=n.nFormatter(e),this.bet2OffLabel.string=n.nFormatter(e),this.bet3OnLabel.string=n.nFormatter(i),this.bet3OffLabel.string=n.nFormatter(i)},enableBet1Button:function(){this.hideAllBetButtons(),this.betOnButton1Node.active=!0,this.betOffButton2Node.active=!0,this.betOffButton3Node.active=!0},enableBet2Button:function(){this.hideAllBetButtons(),this.betOffButton1Node.active=!0,this.betOnButton2Node.active=!0,this.betOffButton3Node.active=!0},enableBet3Button:function(){this.hideAllBetButtons(),this.betOffButton1Node.active=!0,this.betOffButton2Node.active=!0,this.betOnButton3Node.active=!0},hideAllBetButtons:function(){this.betOnButton1Node.active=!1,this.betOffButton1Node.active=!1,this.betOnButton2Node.active=!1,this.betOffButton2Node.active=!1,this.betOnButton3Node.active=!1,this.betOffButton3Node.active=!1}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../util/FormatUtil":"FormatUtil"}],Diamond:[function(t,e,i){"use strict";cc._RF.push(e,"df956LzxDZEgKZY4Vv9ynB8","Diamond");var n=t("../../../base/BaseController"),o=t("./DiamondLine"),s=t("./DiamondSelectForm"),a=t("./DiamondUI"),r=t("./DiamondConstant"),c=t("./DiamondReel"),h=t("../MiniGameResult"),l=t("../item/JackpotItem"),u=t("../../../object/JackpotX"),d=t("../../../helper/Config"),m=t("../../../helper/Constant"),p=t("../../../helper/Message"),f=t("../../../object/RoomType"),_=t("../MiniGameConstant");cc.Class({extends:n,properties:{idLabel:cc.Label,moneyNode:cc.Node,goldNode:cc.Node,JackpotItem:l,JackpotX:u,autoSpinToggle:cc.Toggle,spinFastToggle:cc.Toggle,numberLineLabel:cc.Label,stopSpinButtonNode:cc.Node,spinButtonNode:cc.Node,diamonFormNode:cc.Node,reels:[c],DiamondLine:o,DiamondSelectForm:s,DiamondUI:a,MiniGameResult:h,notificationNode:cc.Node,notificationLabel:cc.Label,toastPrefab:cc.Prefab},init:function(t){this.controller=t},onLoad:function(){for(var t in this._super(),this.data=null,this.isMoneyType=!0,this.betOrder=0,this.intervalSpin=null,this.reels)this.reels[t].init(this);this.DiamondLine.init(this),this.DiamondSelectForm.init(this),this.initTypeRoom(),this.setTypeRoom(this.isMoneyType),this.reset(),this.initData()},onEnable:function(){this.removeIntervalSpin(),this.initTempData(),this.sendRequest.sendNoPrefixToZone(r.ADD_EVENT)},onDisable:function(){this.destroyGame()},onDestroy:function(){this.removeIntervalSpin()},destroyGame:function(){this.reset(),this.sendRequest.sendNoPrefixToZone(r.REMOVE_EVENT)},initData:function(){this.initSaveData(),this.initTempData()},initTypeRoom:function(){this.isMoneyType=!0,this.getTempData()[r.MONEY_TYPE]===r.MONEY_TYPE_GOLD&&(this.isMoneyType=!1)},initTempData:function(){var t=this.getTempData(),e=this.getUser().diamond_free,i=t[r.IS_AUTO_SPIN],n=t[r.IS_SPIN_FAST],o=t[r.BET_VALUE];switch(n&&this.spinFastToggle.check(),i&&(this.autoSpinToggle.check(),this.spin()),o){case r.BET_100:this.setBet1();break;case r.BET_1k:this.setBet2();break;case r.BET_10k:this.setBet3()}!this.node.active&&i?(this.notificationNode.active=!0,this.notificationLabel.string=e&&e>0?e:"\u25ba"):this.notificationNode.active=!1},initSaveData:function(){var t=cc.sys.localStorage.getItem(r.POSITION);t&&(t=JSON.parse(t),this.positionX=t.x,this.positionY=t.y);var e=cc.sys.localStorage.getItem(r.LIST_LINES);for(var i in e=e?JSON.parse(e):[1])this.DiamondLine.select(parseInt(e[i])),this.DiamondSelectForm.select(parseInt(e[i]))},initMiniGameSpinFree:function(t){for(var e in t){var i=t[e].minigame_config_id,n=t[e].quantity;i===r.MINIGAME_CONFIG_ID&&(n>0?this.DiamondUI.showMiniGameSpinFree(n):this.DiamondUI.hideMiniGameSpinFree())}},initSpinFree:function(){var t=this.getUser().diamond_free,e=this.getTempData()[r.IS_AUTO_SPIN];t&&t>0?(this.notificationNode.active=!0,this.notificationLabel.string=t):e&&!this.node.active&&(this.notificationNode.active=!0,this.notificationLabel.string="\u25ba")},handleRequest:function(t){var e=t.game_cmd,i=t.game_data,n=t.game_msg;switch(e){case r.GET_TOP_2:this.controller.MiniGame.GameMiniRank.initDataTop(i);break;case r.REQUEST_INFO:this.handleInfo(i);break;case r.REQUEST_SPIN:this.handleSpin(i);break;case r.REQUEST_MESSAGE:this.handleMessage(n)}},handleInfo:function(t){this.setSendSpin(!1),this.data=t,this.initJackpot()},handleMessage:function(t){this.setSendSpin(!1),this.removeIntervalSpin(),this.stopSpinButtonNode.active=!1,this.spinButtonNode.active=!0,this.showMessage(t),this.onStopAutoSpinClick()},handleSpin:function(t){this.setSendSpin(!1);var e=t.result,i=t.slot_data,n=t.total_prize_value,o=t.win_type,s=t.money_type,a=t.spin_id,r=s==f.MONEY_CODE;this.idLabel.string=String.format(p.MINIGAME_ID,a),this.spinReels(i,n,e,o,r)},spinReels:function(t,e,i,n,o){for(var s=[],a=[],r=[],c=0;c<t.length;c++)switch(c%d.DIAMOND_NUMBER_REELS){case 0:s.push(t[c]);break;case 1:a.push(t[c]);break;case 2:r.push(t[c])}this.reels[0].spin(s,d.DIAMOND_NUMBER_CHIP_SPIN),this.reels[1].spin(a,d.DIAMOND_NUMBER_CHIP_SPIN+3),this.reels[2].spin(r,d.DIAMOND_NUMBER_CHIP_SPIN+6,!0,e,i,n,o)},onSpinClick:function(){this.isSpinning()?this.showMessage(p.SPIN_TOO_FAST):this.spin()},spin:function(){if(!this.isSendSpin()){this.setSendSpin(!0);var t=this.DiamondLine.getLineData();if(t.length>0){var e={money_type:this.isMoneyType?f.MONEY_CODE:f.GOLD_CODE,money_value:this.getCurrentBet(),line_data:t};this.sendRequest.sendNoPrefixToZone(r.SPIN,e),this.MiniGameResult.reset()}else this.showMessage(p.DIAMOND_NO_LINE_SELECTED)}},onHelpClick:function(){this.controller.Tutorial.showDialog(),this.controller.Tutorial.showTutorialByGameName(m.DIAMOND)},onHistoriesClick:function(){this.controller.MiniGame.GameMiniHistory.showDiamondHistories(),this.controller.MiniGame.GameMiniHistory.showDialog()},onRankClick:function(){this.controller.MiniGame.GameMiniRank.setMiniGameName(_.DIAMOND),this.controller.MiniGame.GameMiniRank.showDialog(),this.isMoneyType?this.controller.MiniGame.GameMiniRank.onMoneyClick():this.controller.MiniGame.GameMiniRank.onGoldClick()},onCloseClick:function(){this.setShowDiamond(!1)},onGoldClick:function(){this.isAutoSpin()?this.showMessage(p.AUTO_SPIN_NOT_CHANGE_MONEY_TYPE):this.setTypeRoom(!this.isMoneyType)},onMoneyClick:function(){this.isAutoSpin()?this.showMessage(p.AUTO_SPIN_NOT_CHANGE_MONEY_TYPE):this.setTypeRoom(!this.isMoneyType)},onBet1ButtonClick:function(){this.isAutoSpin()?this.showMessage(p.AUTO_SPIN_NOT_CHANGE_BET):this.setBet1()},setBet1:function(){this.betOrder=0,this.initJackpot(),this.DiamondUI.enableBet1Button(),this.getTempData()[r.BET_VALUE]=r.BET_100},onBet2ButtonClick:function(){this.isAutoSpin()?this.showMessage(p.AUTO_SPIN_NOT_CHANGE_BET):this.setBet2()},setBet2:function(){this.betOrder=1,this.initJackpot(),this.DiamondUI.enableBet2Button(),this.getTempData()[r.BET_VALUE]=r.BET_1k},onBet3ButtonClick:function(){this.isAutoSpin()?this.showMessage(p.AUTO_SPIN_NOT_CHANGE_BET):this.setBet3()},setBet3:function(){this.betOrder=2,this.initJackpot(),this.DiamondUI.enableBet3Button(),this.getTempData()[r.BET_VALUE]=r.BET_10k},onDiamondClick:function(){this.setShowDiamond(!this.isShow)},onShowDiamonFormClick:function(){this.diamonFormNode.active=!0},onAutoSpinToggle:function(){var t=this.isAutoSpin();this.getTempData()[r.IS_AUTO_SPIN]=t},onSpinFastToggle:function(){var t=this.isSpinFast();this.getTempData()[r.IS_SPIN_FAST]=t},setShowDiamond:function(t){this.node.active=t,this.isShow=t;var e=this.getUser().diamond_free;this.getTempData()[r.IS_SHOW]=t,!t&&this.isAutoSpin()?(this.initIntervalSpin(),this.notificationNode.active=!0,this.notificationLabel.string=e&&e>0?e:"\u25ba"):this.notificationNode.active=!1},initIntervalSpin:function(){this.removeIntervalSpin(),this.intervalSpin=setInterval(function(){this.spin()}.bind(this),1e3*d.DIAMOND_TIME_SPIN)},removeIntervalSpin:function(){clearInterval(this.intervalSpin)},initJackpot:function(){if(this.data){var t=this.data.gold,e=this.data.money;if(this.isMoneyType){this.JackpotItem.setMoney(e[this.betOrder]);var i=e[3]?e[3]:null;i&&this.JackpotX.showSlotX(i[this.betOrder])}else this.JackpotItem.setMoney(t[this.betOrder]),this.JackpotX.showSlotX(1)}},showMessage:function(t){var e=cc.instantiate(this.toastPrefab);e.setScale(d.MINIGAME_SCALE_TOAST),e.setPosition(d.MINIGAME_POSITION_TOAST_X,d.MINIGAME_POSITION_TOAST_Y),e.parent=this.node,e.getComponent("Toast").showToast(t)},setTypeRoom:function(t){this.isMoneyType=t,this.moneyNode.active=t,this.goldNode.active=!t,this.initJackpot(),this.DiamondUI.setBetByRoomType(this.isMoneyType);var e=this.isMoneyType?r.MONEY_TYPE_MONEY:r.MONEY_TYPE_GOLD;this.getTempData()[r.MONEY_TYPE]=e},getCurrentBet:function(){return(this.isMoneyType?d.DIAMOND_LIST_BET_MONEY:d.DIAMOND_LIST_BET_GOLD)[this.betOrder]},isSpinning:function(){return cc.director.getActionManager().getNumberOfRunningActionsInTarget(this.reels[0].node)>0},isAutoSpin:function(){return this.autoSpinToggle.isChecked},isSpinFast:function(){return this.spinFastToggle.isChecked},setSendSpin:function(t){this.is_send_spin=t},isSendSpin:function(){return this.is_send_spin},saveListLines:function(){var t=this.DiamondLine.getListLines();cc.sys.localStorage.setItem(r.LIST_LINES,JSON.stringify(t))},reset:function(){this.MiniGameResult.reset()}}),cc._RF.pop()},{"../../../base/BaseController":"BaseController","../../../helper/Config":"Config","../../../helper/Constant":"Constant","../../../helper/Message":"Message","../../../object/JackpotX":"JackpotX","../../../object/RoomType":"RoomType","../MiniGameConstant":"MiniGameConstant","../MiniGameResult":"MiniGameResult","../item/JackpotItem":"JackpotItem","./DiamondConstant":"DiamondConstant","./DiamondLine":"DiamondLine","./DiamondReel":"DiamondReel","./DiamondSelectForm":"DiamondSelectForm","./DiamondUI":"DiamondUI"}],Draggable:[function(t,e,i){"use strict";cc._RF.push(e,"7e94bTTLUFImKh2NYqZqplA","Draggable");var n=t("../../base/BaseController"),o=t("../../helper/Constant"),s=t("../../helper/Config"),a=t("../../util/NodeUtil");cc.Class({extends:n,properties:{isChangeZIndex:!0,clickEvents:{default:[],type:cc.Component.EventHandler}},onLoad:function(){this._super(),this.node.on(cc.Node.EventType.TOUCH_START,function(t){this.startPosition=this.node.getPosition()},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){var e=t.touch.getDelta(),i=this.node.x+e.x,n=this.node.y+e.y,o=s.CANVAS_WIDTH/2,a=-s.CANVAS_WIDTH/2,r=s.GAME_HEIGHT/2,c=-(s.CANVAS_HEIGHT-s.GAME_HEIGHT/2);i>o?i=o:i<a&&(i=a),n>r?n=r:n<c&&(n=c),this.node.x=i,this.node.y=n},this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){var e=this.node.getPosition();a.getDistanceTwoNode(this.startPosition,e)<10&&cc.Component.EventHandler.emitEvents(this.clickEvents,t)},this),this.node.on(cc.Node.EventType.MOUSE_ENTER,function(t){cc.sys.isBrowser&&(this.addZIndex(),t.stopPropagation())},this)},onEnable:function(){this.addZIndex()},addZIndex:function(){if(this.isChangeZIndex){var t=this.getTempData()[o.Z_INDEX];if(t){if(this.node.zIndex===t)return}else t=0;++t,this.node.zIndex=t,this.getTempData()[o.Z_INDEX]=t}}}),cc._RF.pop()},{"../../base/BaseController":"BaseController","../../helper/Config":"Config","../../helper/Constant":"Constant","../../util/NodeUtil":"NodeUtil"}],DropDownList2:[function(t,e,i){"use strict";cc._RF.push(e,"955e9sXPgVOIqJqS/wqiFyr","DropDownList2");var n=t("../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{valueLabel:cc.Label,expandNode:cc.Node,contentNode:cc.Node,dropboxItemPrefab:cc.Prefab},onLoad:function(){},selectByValue:function(t){this.selectedItem&&this.selectedItem.getComponent("DropDownListItem").hideSelectedNode();var e=this.contentNode.getChildren();for(var i in e){var o=e[i].getComponent("DropDownListItem");o.getValue()==t?(o.showSelectedNode(),this.value=t,this.data=o.getData(),this.selectedItem=o,this.valueLabel.string="number"==typeof t?n.numberWithCommas(t):t,this.callback&&this.callback(this)):o.hideSelectedNode()}},onItemClick:function(t){this.selectedItem&&this.selectedItem.getComponent("DropDownListItem").hideSelectedNode();var e=t.target,i=e.getComponent("DropDownListItem");i.showSelectedNode();var o=i.getValue();this.selectedItem=e,this.value=o,this.valueLabel.string="number"==typeof o?n.numberWithCommas(o):o,this.callback&&this.callback(this)},onDropDownListClick:function(){this.expandNode.active?(this.expandNode.active=!1,this.expandNode.zIndex=0):(this.expandNode.active=!0,this.expandNode.zIndex=1)},addItem:function(t,e){var i=cc.instantiate(this.dropboxItemPrefab),o=i.getComponent("DropDownListItem");o.init(t,e),i.on(cc.Node.EventType.TOUCH_END,this.onItemClick.bind(this),this.newItem),this.contentNode.addChild(i),this.selectedItem||(this.value=t,this.data=e,this.selectedItem=i,o.showSelectedNode(),this.valueLabel.string="number"==typeof t?n.numberWithCommas(t):t)},setCallback:function(t,e){this.callback=t.bind(e),this.controller=e},getValue:function(){return this.value},getData:function(){return this.data},getSelectedItem:function(){return this.selectedItem.getComponent("DropDownListItem")},removeAllItem:function(){this.contentNode.removeAllChildren(!0),this.value="",this.valueLabel.string=""}}),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil"}],DropDownListItem:[function(t,e,i){"use strict";cc._RF.push(e,"0fe8cQ3a+tJ0ZDY9i+J3jrv","DropDownListItem");var n=t("../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{valueLabel:cc.Label,selectedNode:cc.Node},onLoad:function(){},init:function(t,e){this.value=t,this.data=e,this.valueLabel.string="number"==typeof t?n.numberWithCommas(t):t},getValue:function(){return this.value},getData:function(){return this.data},showSelectedNode:function(){this.selectedNode.active=!0},hideSelectedNode:function(){this.selectedNode.active=!1}}),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil"}],DropDownList:[function(t,e,i){"use strict";cc._RF.push(e,"bc845h2c69CK4RFOqkVuN9v","DropDownList");var n=t("../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{valueLabel:cc.Label,expandNode:cc.Node,dropboxItemPrefab:cc.Prefab},onLoad:function(){},onDisable:function(){this.expandNode.active=!1,this.expandNode.zIndex=0},selectByValue:function(t){this.selectedItem&&this.selectedItem.getComponent("DropDownListItem").hideSelectedNode();var e=this.expandNode.getChildren();for(var i in e){var o=e[i].getComponent("DropDownListItem");o.getValue()==t?(o.showSelectedNode(),this.value=t,this.data=o.getData(),this.selectedItem=o,this.valueLabel.string="number"==typeof t?n.numberWithCommas(t):t,this.callback&&this.callback(this)):o.hideSelectedNode()}},onItemClick:function(t){this.hideAllItem();var e=t.target,i=e.getComponent("DropDownListItem");i.showSelectedNode();var o=i.getValue(),s=i.getData();this.selectedItem=e,this.value=o,this.data=s,this.valueLabel.string="number"==typeof o?n.numberWithCommas(o):o,this.callback&&this.callback(this)},onDropDownListClick:function(){this.expandNode.active?(this.expandNode.active=!1,this.expandNode.zIndex=0):(this.expandNode.active=!0,this.expandNode.zIndex=1)},addItem:function(t,e){var i=cc.instantiate(this.dropboxItemPrefab),o=i.getComponent("DropDownListItem");return o.init(t,e),i.on(cc.Node.EventType.TOUCH_END,this.onItemClick.bind(this),this.newItem),this.expandNode.addChild(i),this.selectedItem||(this.value=t,this.data=e,this.selectedItem=i,o.showSelectedNode(),this.valueLabel.string="number"==typeof t?n.numberWithCommas(t):t),o},setCallback:function(t,e){this.callback=t.bind(e),this.controller=e},getValue:function(){return this.value},getData:function(){return this.data},getSelectedItem:function(){return this.selectedItem.getComponent("DropDownListItem")},hideAllItem:function(){var t=this.expandNode.getChildren();for(var e in t)t[e].getComponent("DropDownListItem").hideSelectedNode()},removeAllItem:function(){this.expandNode.removeAllChildren(!0),this.value="",this.valueLabel.string="",this.selectedItem&&this.selectedItem.getComponent("DropDownListItem").hideSelectedNode(),this.selectedItem=null}}),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil"}],EmotionItem:[function(t,e,i){"use strict";cc._RF.push(e,"4528eITagFEXImkqcCUC+8U","EmotionItem"),cc.Class({extends:cc.Component,properties:{},init:function(t){this.GameCommon=t},onLoad:function(){var t=this.node.children[0];t&&(this.textureName=t.getComponent(cc.Sprite).spriteFrame._name)},onClick:function(){this.GameCommon.sendChat(this.textureName),this.GameCommon.hideQuickChatNode()}}),cc._RF.pop()},{}],EventCenter:[function(t,e,i){"use strict";cc._RF.push(e,"a563ckKFBpNOpT/yN5B+nY3","EventCenter");var n=t("../../../../base/BaseController");cc.Class({extends:n,properties:{},init:function(t){this.controller=t,this.MiniGame=t.MiniGame},onLoad:function(){this._super()},onCircleButtonClick:function(){this.MiniGame.Event.showDialog()}}),cc._RF.pop()},{"../../../../base/BaseController":"BaseController"}],EventDiamond:[function(t,e,i){"use strict";cc._RF.push(e,"6e45evYXgxLsbBkLtaFbPrP","EventDiamond"),cc.Class({extends:cc.Component,properties:{},init:function(t){this.controller=t},onLoad:function(){}}),cc._RF.pop()},{}],EventHuLocHistory:[function(t,e,i){"use strict";cc._RF.push(e,"b2772V7/05HoJeDNnHTjQud","EventHuLocHistory");var n=t("../../../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{huLocRankItemPrefab:cc.Prefab,rankListScrollView:cc.ScrollView,loadingNode:cc.Node},init:function(t){this.controller=t},onLoad:function(){},onEnable:function(){},onDisable:function(){},initData:function(t){if(this.loadingNode.active=!1,t=t.slice(),this.rankListScrollView.content.removeAllChildren(!0),t)for(var e in t=n.deDuplicate(t),t=n.sortDataTimeByTime2(t)){var i=cc.instantiate(this.huLocRankItemPrefab);i.parent=this.rankListScrollView.content,i.getComponent("TanLocHistoryItem").init(t[e],e)}}}),cc._RF.pop()},{"../../../../../util/FormatUtil":"FormatUtil"}],EventHuLocRank:[function(t,e,i){"use strict";cc._RF.push(e,"b5948irHgBBnavr9KSCs2Wa","EventHuLocRank");var n=t("../../../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{huLocRankItemPrefab:cc.Prefab,rankListScrollView:cc.ScrollView,loadingNode:cc.Node},init:function(t){this.controller=t},onLoad:function(){},onEnable:function(){},onDisable:function(){},getData:function(t){return t=t.slice(),t=n.sortDataByAmount1(t)},initData:function(t){if(this.loadingNode.active=!1,t=this.getData(t),this.rankListScrollView.content.removeAllChildren(!0),t)for(var e in t=n.deDuplicate(t),t=n.sortDataTimeByTime2(t)){var i=cc.instantiate(this.huLocRankItemPrefab);i.parent=this.rankListScrollView.content,i.getComponent("TanLocRankItem").init(t[e],e)}}}),cc._RF.pop()},{"../../../../../util/FormatUtil":"FormatUtil"}],EventHuLoc:[function(t,e,i){"use strict";cc._RF.push(e,"d4c4bvCMBhDHpoD70UEYvHL","EventHuLoc");var n=t("./hu-loc/EventHuLocRank"),o=t("./hu-loc/EventHuLocHistory");cc.Class({extends:cc.Component,properties:{rankButtonOnNode:cc.Node,rankButtonOffNode:cc.Node,ruleButtonOnNode:cc.Node,ruleButtonOffNode:cc.Node,historyButtonOnNode:cc.Node,historyButtonOffNode:cc.Node,rankContentNode:cc.Node,ruleContentNode:cc.Node,historyContentNode:cc.Node,EventHuLocRank:n,EventHuLocHistory:o},init:function(t){this.controller=t,this.EventHuLocRank.init(t),this.EventHuLocHistory.init(t)},onLoad:function(){this.onRankClick()},onEnable:function(){this.loadData()},onDisable:function(){this.removeXhr()},loadData:function(){var t=this;if(!this.xhr){var e={token:this.controller.getToken(),user_id:this.controller.getUserId()};this.xhr=this.controller.api.logHuLoc(e,function(e){t.data=e.data,t.EventHuLocRank.initData(t.data),t.EventHuLocHistory.initData(t.data)},function(e){t.xhr=null})}},onRuleClick:function(){this.controller.Audio.playClick(),this.initBeforeClick(),this.ruleButtonOnNode.active=!0,this.ruleButtonOffNode.active=!1,this.ruleContentNode.active=!0},onRankClick:function(){this.controller.Audio.playClick(),this.initBeforeClick(),this.rankButtonOnNode.active=!0,this.rankButtonOffNode.active=!1,this.rankContentNode.active=!0},onHistoryClick:function(){this.controller.Audio.playClick(),this.initBeforeClick(),this.historyButtonOnNode.active=!0,this.historyButtonOffNode.active=!1,this.historyContentNode.active=!0},initBeforeClick:function(){this.hideAllOnButtons(),this.hideAllContents(),this.showAllOffButtons()},showAllOffButtons:function(){this.rankButtonOffNode.active=!0,this.ruleButtonOffNode.active=!0,this.historyButtonOffNode.active=!0},hideAllOnButtons:function(){this.rankButtonOnNode.active=!1,this.ruleButtonOnNode.active=!1,this.historyButtonOnNode.active=!1},hideAllContents:function(){this.rankContentNode.active=!1,this.ruleContentNode.active=!1,this.historyContentNode.active=!1},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{"./hu-loc/EventHuLocHistory":"EventHuLocHistory","./hu-loc/EventHuLocRank":"EventHuLocRank"}],EventLuckyWheel:[function(t,e,i){"use strict";cc._RF.push(e,"b60055Mr1FGKq0bz+TDcHEz","EventLuckyWheel"),cc.Class({extends:cc.Component,properties:{},init:function(t){this.controller=t},onLoad:function(){}}),cc._RF.pop()},{}],EventMiniPoker:[function(t,e,i){"use strict";cc._RF.push(e,"cbd78ImwfVLFJItmOeypjwR","EventMiniPoker"),cc.Class({extends:cc.Component,properties:{},init:function(t){this.controller=t},onLoad:function(){}}),cc._RF.pop()},{}],EventRutLocRank:[function(t,e,i){"use strict";cc._RF.push(e,"bb8fftY3CpDJ7jrdTFTuZ6V","EventRutLocRank");var n=t("../../../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{tanLocItemPrefab:cc.Prefab,tanLocListScrollView:cc.ScrollView,loadingNode:cc.Node},init:function(t){this.controller=t},onLoad:function(){},onEnable:function(){},onDisable:function(){},getData:function(t){for(var e=[],i=0,n=(t=t.slice()).length;i<n;i++)t[i].amount>0&&e.push(t[i]);return e},initData:function(t){this.loadingNode.active=!1;var e=this.getData(t);if(this.tanLocListScrollView.content.removeAllChildren(!0),e)for(var i in e=n.deDuplicate(e),e=n.sortDataByAmount2(e)){var o=cc.instantiate(this.tanLocItemPrefab);o.parent=this.tanLocListScrollView.content,o.getComponent("TanLocRankItem").init(e[i],i)}}}),cc._RF.pop()},{"../../../../../util/FormatUtil":"FormatUtil"}],EventSlot2:[function(t,e,i){"use strict";cc._RF.push(e,"f32320sPEZKQ4XfXz8+lgq9","EventSlot2"),cc.Class({extends:cc.Component,properties:{},init:function(t){this.controller=t},onLoad:function(){}}),cc._RF.pop()},{}],EventSlot4:[function(t,e,i){"use strict";cc._RF.push(e,"619a9EwuzxPwLpu13yTh1Yh","EventSlot4"),cc.Class({extends:cc.Component,properties:{},init:function(t){this.controller=t},onLoad:function(){}}),cc._RF.pop()},{}],EventTaiXiuItem:[function(t,e,i){"use strict";cc._RF.push(e,"404d5Z7snFD8KTCia/tu1Zs","EventTaiXiuItem");var n=t("../../../../../util/FormatUtil"),o=t("../../../../../util/Util");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,bg1SpriteFrame:cc.SpriteFrame,bg2SpriteFrame:cc.SpriteFrame,sttLabel:cc.Label,prefixNickNameLabel:cc.Label,nickNameLabel:cc.Label,amountLabel:cc.Label,prizeLabel:cc.Label},onLoad:function(){},init:function(t,e,i){this.data=t,this.isWin=e,this.bgSprite.spriteFrame=i%2==0?this.bg1SpriteFrame:this.bg2SpriteFrame,this.sttLabel.string=i+1,this.prefixNickNameLabel.string=o.getServerID(t.server_id),this.nickNameLabel.string=t.nick_name,this.amountLabel.string=n.numberWithCommas(Math.abs(t.amount)),this.prizeLabel.string=n.numberWithCommas(this.getPrizeByTop(i+1)),this.prefixNickNameLabel.node.color=new cc.Color(255,173,0,255),this.nickNameLabel.node.color=new cc.Color(255,244,141,255)},getPrizeByTop:function(t){return this.isWin?1===t?5e5:2===t?3e5:3===t?2e5:t<=10?1e5:0:1===t?3e5:2===t?2e5:t<=10?1e5:0}}),cc._RF.pop()},{"../../../../../util/FormatUtil":"FormatUtil","../../../../../util/Util":"Util"}],EventTaiXiuRank:[function(t,e,i){"use strict";cc._RF.push(e,"82f82rEHqNG/YtBiH+PFQMc","EventTaiXiuRank"),cc.Class({extends:cc.Component,properties:{winButtonOnNode:cc.Node,winButtonOffNode:cc.Node,loseButtonOnNode:cc.Node,loseButtonOffNode:cc.Node,dateNode:cc.Node,dateLabel:cc.Label,nextButtonNode:cc.Node,previousButtonNode:cc.Node,taiXiuEventItemPrefab:cc.Prefab,taiXiuListScrollView:cc.ScrollView,loadingNode:cc.Node},init:function(t){this.controller=t},onLoad:function(){},onEnable:function(){this.data=null,this.listDate=null,this.currentDate=null,this.onWinClick()},onDisable:function(){this.removeXhr()},initData:function(){if(this.showListNode(),this.taiXiuListScrollView.content.removeAllChildren(!0),this.data){var t=new Set;for(var e in this.data)t.add(this.data[e].created_at);this.listDate=[];var i=!0,n=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){var r=s.value;this.listDate.push(r)}}catch(t){n=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}this.listDate.reverse(),this.currentDate||(this.currentDate=this.listDate[this.listDate.length-1]),this.dateLabel.string=this.getDateByTimeStamp(this.currentDate),this.initShowNextPreviousButton();var c=this.getDataByDate(this.currentDate,this.isWin());c=c.reverse();for(var h=0;h<c.length;h++){var l=cc.instantiate(this.taiXiuEventItemPrefab);l.getComponent("EventTaiXiuItem").init(c[h],this.isWin(),h),l.parent=this.taiXiuListScrollView.content}}},getDateByTimeStamp:function(t){var e=new Date(t);return e.setDate(e.getDate()-1),e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()},getDataByDate:function(t,e){var i=[];if(e=!0===e?1:0,this.data)for(var n in this.data)this.data[n].created_at===t&&this.data[n].is_win===e&&i.push(this.data[n]);return i},initShowNextPreviousButton:function(){this.previousButtonNode.active=this.listDate[0]!==this.currentDate,this.nextButtonNode.active=this.listDate[this.listDate.length-1]!==this.currentDate},loadData:function(){var t=this;if(this.showLoadingNode(),this.taiXiuListScrollView.content.removeAllChildren(!0),this.data)this.initData();else if(!this.xhr){var e={token:this.controller.getToken(),user_id:this.controller.getUserId()};this.xhr=this.controller.api.getTopTaiXiu(e,function(e){t.data=e.data,t.listDate=null,t.currentDate=null,t.initData(),t.xhr=null},function(e){t.showListNode(),t.controller.showDialogMessage("S\u1ef1 Ki\u1ec7n",e.msg),t.xhr=null})}},onWinClick:function(){this.winButtonOnNode.active=!0,this.winButtonOffNode.active=!1,this.loseButtonOnNode.active=!1,this.loseButtonOffNode.active=!0,this.loadData()},onLoseClick:function(){this.winButtonOnNode.active=!1,this.winButtonOffNode.active=!0,this.loseButtonOnNode.active=!0,this.loseButtonOffNode.active=!1,this.loadData()},onNextClick:function(){if(this.listDate&&this.currentDate&&this.listDate.length>1)for(var t=0;t<this.listDate.length;t++)if(this.listDate[t]===this.currentDate){this.currentDate=this.listDate[t+1],this.initData();break}},onPreviousClick:function(){if(this.listDate&&this.currentDate&&this.listDate.length>1)for(var t=0;t<this.listDate.length;t++)if(this.listDate[t]===this.currentDate){this.currentDate=this.listDate[t-1],this.initData();break}},isWin:function(){return!0===this.winButtonOnNode.active},showLoadingNode:function(){this.loadingNode.active=!0,this.taiXiuListScrollView.node.active=!1},showListNode:function(){this.loadingNode.active=!1,this.taiXiuListScrollView.node.active=!0},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{}],EventTaiXiuRule:[function(t,e,i){"use strict";cc._RF.push(e,"a685aIcmtZLe5UCdqfP+54K","EventTaiXiuRule"),cc.Class({extends:cc.Component,properties:{},init:function(t){this.controller=t},onLoad:function(){}}),cc._RF.pop()},{}],EventTaiXiu:[function(t,e,i){"use strict";cc._RF.push(e,"d424fed7CFIDohOF4xhYh1d","EventTaiXiu");var n=t("./tai-xiu/EventTaiXiuRank"),o=t("./tai-xiu/EventTaiXiuRule");cc.Class({extends:cc.Component,properties:{rankButtonOnNode:cc.Node,rankButtonOffNode:cc.Node,ruleButtonOnNode:cc.Node,ruleButtonOffNode:cc.Node,rankContentNode:cc.Node,ruleContentNode:cc.Node,EventTaiXiuRank:n,EventTaiXiuRule:o},init:function(t){this.controller=t,this.EventTaiXiuRank.init(t),this.EventTaiXiuRule.init(t)},onLoad:function(){},onEnable:function(){},initData:function(t){},onRuleClick:function(){this.controller.Audio.playClick(),this.initBeforeClick(),this.ruleButtonOnNode.active=!0,this.ruleButtonOffNode.active=!1,this.ruleContentNode.active=!0},onRankClick:function(){this.controller.Audio.playClick(),this.initBeforeClick(),this.rankButtonOnNode.active=!0,this.rankButtonOffNode.active=!1,this.rankContentNode.active=!0},initBeforeClick:function(){this.hideAllOnButtons(),this.hideAllContents(),this.showAllOffButtons()},showAllOffButtons:function(){this.rankButtonOffNode.active=!0,this.ruleButtonOffNode.active=!0},hideAllOnButtons:function(){this.rankButtonOnNode.active=!1,this.ruleButtonOnNode.active=!1},hideAllContents:function(){this.rankContentNode.active=!1,this.ruleContentNode.active=!1}}),cc._RF.pop()},{"./tai-xiu/EventTaiXiuRank":"EventTaiXiuRank","./tai-xiu/EventTaiXiuRule":"EventTaiXiuRule"}],EventTanLocRank:[function(t,e,i){"use strict";cc._RF.push(e,"91be1SLpAJJz4wJilFCJ3Gp","EventTanLocRank");var n=t("../../../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{tanLocItemPrefab:cc.Prefab,tanLocListScrollView:cc.ScrollView,loadingNode:cc.Node},init:function(t){this.controller=t},onLoad:function(){},onEnable:function(){},onDisable:function(){},getData:function(t){for(var e=[],i=0,n=(t=t.slice()).length;i<n;i++)t[i].amount<0&&e.push(t[i]);return e},initData:function(t){this.loadingNode.active=!1,this.tanLocListScrollView.content.removeAllChildren(!0);var e=this.getData(t);if(e)for(var i in e=n.deDuplicate(e),e=n.sortDataByAmount1(e)){var o=cc.instantiate(this.tanLocItemPrefab);o.parent=this.tanLocListScrollView.content,o.getComponent("TanLocRankItem").init(e[i],i)}}}),cc._RF.pop()},{"../../../../../util/FormatUtil":"FormatUtil"}],EventTanLoc:[function(t,e,i){"use strict";cc._RF.push(e,"38a36xwusdJFqiF+D+8KELX","EventTanLoc");var n=t("./tan-loc/EventRutLocRank"),o=t("./tan-loc/EventTanLocRank");cc.Class({extends:cc.Component,properties:{rankRutLocButtonOnNode:cc.Node,rankRutLocButtonOffNode:cc.Node,ruleButtonOnNode:cc.Node,ruleButtonOffNode:cc.Node,rankTanLocButtonOnNode:cc.Node,rankTanLocButtonOffNode:cc.Node,rankRutLocContentNode:cc.Node,ruleContentNode:cc.Node,rankTanLocContentNode:cc.Node,EventTanLocRank:o,EventRutLocRank:n},init:function(t){this.controller=t,this.EventTanLocRank.init(t),this.EventRutLocRank.init(t)},onLoad:function(){},onEnable:function(){this.onRankTanLocClick(),this.loadData()},onDisable:function(){this.removeXhr()},loadData:function(){var t=this;if(!this.xhr){var e={token:this.controller.getToken(),user_id:this.controller.getUserId()};this.xhr=this.controller.api.logTanLoc(e,function(e){t.data=e.data,t.EventTanLocRank.initData(t.data),t.EventRutLocRank.initData(t.data)},function(e){t.xhr=null})}},onRuleClick:function(){this.controller.Audio.playClick(),this.initBeforeClick(),this.ruleButtonOnNode.active=!0,this.ruleButtonOffNode.active=!1,this.ruleContentNode.active=!0},onRankRutLocClick:function(){this.controller.Audio.playClick(),this.initBeforeClick(),this.rankRutLocButtonOnNode.active=!0,this.rankRutLocButtonOffNode.active=!1,this.rankRutLocContentNode.active=!0},onRankTanLocClick:function(){this.controller.Audio.playClick(),this.initBeforeClick(),this.rankTanLocButtonOnNode.active=!0,this.rankTanLocButtonOffNode.active=!1,this.rankTanLocContentNode.active=!0},initBeforeClick:function(){this.hideAllOnButtons(),this.hideAllContents(),this.showAllOffButtons()},showAllOffButtons:function(){this.rankRutLocButtonOffNode.active=!0,this.ruleButtonOffNode.active=!0,this.rankTanLocButtonOffNode.active=!0},hideAllOnButtons:function(){this.rankRutLocButtonOnNode.active=!1,this.ruleButtonOnNode.active=!1,this.rankTanLocButtonOnNode.active=!1},hideAllContents:function(){this.rankRutLocContentNode.active=!1,this.ruleContentNode.active=!1,this.rankTanLocContentNode.active=!1},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{"./tan-loc/EventRutLocRank":"EventRutLocRank","./tan-loc/EventTanLocRank":"EventTanLocRank"}],EventTopItem:[function(t,e,i){"use strict";cc._RF.push(e,"089a33D3zlFkLsAbFLTnxr7","EventTopItem");var n=t("../../../../../util/FormatUtil"),o=t("../../../../../util/Util");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,bg1SpriteFrame:cc.SpriteFrame,bg2SpriteFrame:cc.SpriteFrame,sttLabel:cc.Label,prefixNickNameLabel:cc.Label,nickNameLabel:cc.Label,scoreLabel:cc.Label,prizeLabel:cc.Label,prizeItem1Node:cc.Node,prizeItem2Node:cc.Node,prizeItem3Node:cc.Node,amountLabel:cc.Label},onLoad:function(){},init:function(t,e){this.data=t,this.bgSprite.spriteFrame=e%2==0?this.bg1SpriteFrame:this.bg2SpriteFrame,this.sttLabel.string=e+1,this.prefixNickNameLabel.string=o.getServerID(t.server_id),this.nickNameLabel.string=t.nickname||t.nick_name,this.scoreLabel.string=n.numberWithCommas(t.total_vp),this.initPrizeByTop(e+1),this.prizeLabel.string=n.numberWithCommas(this.getPrizeByTop(e+1)),this.amountLabel.string=n.numberWithCommas(this.getPrizeByTop(e+1)),this.prefixNickNameLabel.node.color=new cc.Color(255,173,0,255),this.nickNameLabel.node.color=new cc.Color(255,244,141,255)},initPrizeByTop:function(t){this.prizeLabel.node.active=!1,this.prizeItem1Node.active=!1,this.prizeItem2Node.active=!1,this.prizeItem3Node.active=!1,1===t?this.prizeItem1Node.active=!0:2===t?this.prizeItem2Node.active=!0:3===t?this.prizeItem3Node.active=!0:this.prizeLabel.node.active=!0},getPrizeByTop:function(t){return 1===t?7e7:2===t?4e7:3===t?2e7:t<=5?1e7:t<=10?5e6:t<=20?1e6:t<=50?5e5:0}}),cc._RF.pop()},{"../../../../../util/FormatUtil":"FormatUtil","../../../../../util/Util":"Util"}],EventTopRank:[function(t,e,i){"use strict";cc._RF.push(e,"d2fb9WHAXhHoqbRddK6B849","EventTopRank");var n=t("../../../../../helper/Constant"),o=t("../../../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{scoreLabel:cc.Label,topLabel:cc.Label,eventTopItemPrefab:cc.Prefab,eventTopScrollScrollView:cc.ScrollView,loadingNode:cc.Node},init:function(t){this.controller=t},onLoad:function(){},onEnable:function(){this.scoreLabel.string="\u0110i\u1ec3m Vip c\u1ee7a b\u1ea1n: "+o.numberWithCommas(this.controller.getUser().vp),this.topLabel.string="H\u1ea1ng c\u1ee7a b\u1ea1n: "+o.numberWithCommas(this.controller.getUser().vp_user),this.loadData()},onDisable:function(){this.removeXhr()},loadData:function(){var t=this;this.showLoadingNode(),this.eventTopScrollScrollView.content.removeAllChildren(!0);var e={token:this.controller.getToken(),user_id:this.controller.getUserId(),money_type:n.MONEY_CODE};this.xhr=this.controller.api.getEventTop(e,function(e){t.showListNode(),t.initData(e.data),t.xhr=null},function(e){t.showListNode(),t.controller.showDialogMessage("S\u1ef1 Ki\u1ec7n",e.msg),t.xhr=null})},initData:function(t){for(var e=0;e<t.length;e++){var i=cc.instantiate(this.eventTopItemPrefab);i.getComponent("EventTopItem").init(t[e],e),i.parent=this.eventTopScrollScrollView.content}},showListNode:function(){this.loadingNode.active=!1,this.eventTopScrollScrollView.node.active=!0},showLoadingNode:function(){this.loadingNode.active=!0,this.eventTopScrollScrollView.node.active=!1},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{"../../../../../helper/Constant":"Constant","../../../../../util/FormatUtil":"FormatUtil"}],EventTopRule:[function(t,e,i){"use strict";cc._RF.push(e,"72ba77//XtLbLL3v/ui1vIb","EventTopRule"),cc.Class({extends:cc.Component,properties:{},init:function(t){this.controller=t},onLoad:function(){}}),cc._RF.pop()},{}],EventTop:[function(t,e,i){"use strict";cc._RF.push(e,"4042dkLAyZDq7U3G0i/h70l","EventTop");var n=t("./top/EventTopRank"),o=t("./top/EventTopRule");cc.Class({extends:cc.Component,properties:{headerFormNode:cc.Node,headerTopNode:cc.Node,rankButtonOnNode:cc.Node,rankButtonOffNode:cc.Node,ruleButtonOnNode:cc.Node,ruleButtonOffNode:cc.Node,rankContentNode:cc.Node,ruleContentNode:cc.Node,EventTopRank:n,EventTopRule:o},init:function(t){this.controller=t,this.EventTopRank.init(t),this.EventTopRule.init(t)},onLoad:function(){},onEnable:function(){this.headerFormNode.active=!1,this.headerTopNode.active=!0},onDisable:function(){this.headerFormNode.active=!0,this.headerTopNode.active=!1},onRuleClick:function(){this.controller.Audio.playClick(),this.initBeforeClick(),this.ruleButtonOnNode.active=!0,this.ruleButtonOffNode.active=!1,this.ruleContentNode.active=!0},onRankClick:function(){this.controller.Audio.playClick(),this.initBeforeClick(),this.rankButtonOnNode.active=!0,this.rankButtonOffNode.active=!1,this.rankContentNode.active=!0},initBeforeClick:function(){this.hideAllOnButtons(),this.hideAllContents(),this.showAllOffButtons()},showAllOffButtons:function(){this.rankButtonOffNode.active=!0,this.ruleButtonOffNode.active=!0},hideAllOnButtons:function(){this.rankButtonOnNode.active=!1,this.ruleButtonOnNode.active=!1},hideAllContents:function(){this.rankContentNode.active=!1,this.ruleContentNode.active=!1}}),cc._RF.pop()},{"./top/EventTopRank":"EventTopRank","./top/EventTopRule":"EventTopRule"}],Event:[function(t,e,i){"use strict";cc._RF.push(e,"81e02SeD3hDpKyTC1IsJrp8","Event");var n=t("./event/EventTop"),o=t("./event/EventTaiXiu"),s=t("./event/EventLuckyWheel"),a=t("./event/EventDiamond"),r=t("./event/EventMiniPoker"),c=t("./event/EventSlot2"),h=t("./event/EventSlot4"),l=t("./event/EventHuLoc"),u=t("./event/EventTanLoc");cc.Class({extends:cc.Component,properties:{topOnButtonNode:cc.Node,topOffButtonNode:cc.Node,taiXiuOnButtonNode:cc.Node,taiXiuOffButtonNode:cc.Node,rutLocOnButtonNode:cc.Node,rutLocOffButtonNode:cc.Node,tanLocOnButtonNode:cc.Node,tanLocOffButtonNode:cc.Node,luckyWheelOnButtonNode:cc.Node,luckyWheelOffButtonNode:cc.Node,diamondOnButtonNode:cc.Node,diamondOffButtonNode:cc.Node,miniPokerOnButtonNode:cc.Node,miniPokerOffButtonNode:cc.Node,slot2OnButtonNode:cc.Node,slot2OffButtonNode:cc.Node,slot4OnButtonNode:cc.Node,slot4OffButtonNode:cc.Node,topContentNode:cc.Node,taiXiuContentNode:cc.Node,rutLocContentNode:cc.Node,tanLocContentNode:cc.Node,luckyWheelContentNode:cc.Node,diamondContentNode:cc.Node,miniPokerContentNode:cc.Node,slot2ContentNode:cc.Node,slot4ContentNode:cc.Node,EventTop:n,EventTaiXiu:o,EventLuckyWheel:s,EventDiamond:a,EventMiniPoker:r,EventSlot2:c,EventSlot4:h,EventHuLoc:l,EventTanLoc:u},init:function(t){this.controller=t,this.EventTop.init(t),this.EventTaiXiu.init(t),this.EventLuckyWheel.init(t),this.EventDiamond.init(t),this.EventMiniPoker.init(t),this.EventSlot2.init(t),this.EventSlot4.init(t),this.EventHuLoc.init(t),this.EventTanLoc.init(t)},onLoad:function(){},showDialog:function(){this.dialogForm||(this.dialogForm=this.node.getComponent("DialogForm")),this.dialogForm.showDialog()},hideDialog:function(){this.dialogForm||(this.dialogForm=this.node.getComponent("DialogForm")),this.dialogForm.hideDialog()},onCloseCLick:function(){this.node.active=!1},onTopClick:function(){this.controller.Audio.playClick(),this.initBeforeClick(),this.topOnButtonNode.active=!0,this.topOffButtonNode.active=!1,this.topContentNode.active=!0},onTaiXiuClick:function(){this.controller.Audio.playClick(),this.initBeforeClick(),this.taiXiuOnButtonNode.active=!0,this.taiXiuOffButtonNode.active=!1,this.taiXiuContentNode.active=!0},onRutLocClick:function(){this.controller.Audio.playClick(),this.initBeforeClick(),this.rutLocOnButtonNode.active=!0,this.rutLocOffButtonNode.active=!1,this.rutLocContentNode.active=!0},onTanLocClick:function(){this.controller.Audio.playClick(),this.initBeforeClick(),this.tanLocOnButtonNode.active=!0,this.tanLocOffButtonNode.active=!1,this.tanLocContentNode.active=!0},onLuckyWheelClick:function(){this.controller.Audio.playClick(),this.initBeforeClick(),this.luckyWheelOnButtonNode.active=!0,this.luckyWheelOffButtonNode.active=!1,this.luckyWheelContentNode.active=!0},onDiamondClick:function(){this.controller.Audio.playClick(),this.initBeforeClick(),this.diamondOnButtonNode.active=!0,this.diamondOffButtonNode.active=!1,this.diamondContentNode.active=!0},onMiniPokerClick:function(){this.controller.Audio.playClick(),this.initBeforeClick(),this.miniPokerOnButtonNode.active=!0,this.miniPokerOffButtonNode.active=!1,this.miniPokerContentNode.active=!0},onSlot2Click:function(){this.controller.Audio.playClick(),this.initBeforeClick(),this.slot2OnButtonNode.active=!0,this.slot2OffButtonNode.active=!1,this.slot2ContentNode.active=!0},onSlot4Click:function(){this.controller.Audio.playClick(),this.initBeforeClick(),this.slot4OnButtonNode.active=!0,this.slot4OffButtonNode.active=!1,this.slot4ContentNode.active=!0},initBeforeClick:function(){this.hideAllOnButtons(),this.hideAllContents(),this.showAllOffButtons()},showAllOffButtons:function(){this.topOffButtonNode.active=!0,this.taiXiuOffButtonNode.active=!0,this.luckyWheelOffButtonNode.active=!0,this.diamondOffButtonNode.active=!0,this.miniPokerOffButtonNode.active=!0,this.slot2OffButtonNode.active=!0,this.slot4OffButtonNode.active=!0,this.rutLocOffButtonNode.active=!0,this.tanLocOffButtonNode.active=!0},hideAllOnButtons:function(){this.topOnButtonNode.active=!1,this.taiXiuOnButtonNode.active=!1,this.luckyWheelOnButtonNode.active=!1,this.diamondOnButtonNode.active=!1,this.miniPokerOnButtonNode.active=!1,this.slot2OnButtonNode.active=!1,this.slot4OnButtonNode.active=!1,this.rutLocOnButtonNode.active=!1,this.tanLocOnButtonNode.active=!1},hideAllContents:function(){this.topContentNode.active=!1,this.taiXiuContentNode.active=!1,this.luckyWheelContentNode.active=!1,this.diamondContentNode.active=!1,this.miniPokerContentNode.active=!1,this.slot2ContentNode.active=!1,this.slot4ContentNode.active=!1,this.rutLocContentNode.active=!1,this.tanLocContentNode.active=!1}}),cc._RF.pop()},{"./event/EventDiamond":"EventDiamond","./event/EventHuLoc":"EventHuLoc","./event/EventLuckyWheel":"EventLuckyWheel","./event/EventMiniPoker":"EventMiniPoker","./event/EventSlot2":"EventSlot2","./event/EventSlot4":"EventSlot4","./event/EventTaiXiu":"EventTaiXiu","./event/EventTanLoc":"EventTanLoc","./event/EventTop":"EventTop"}],Footer:[function(t,e,i){"use strict";cc._RF.push(e,"1c1d3qhsbZLebvozOiXhxjS","Footer");var n=t("../../../helper/Constant"),o=t("../../../helper/Message"),s=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI},onLoad:function(){},onAgentClick:function(){this.GameCenter.isConnected()?(this.GameCenter.Audio.playClick(),this.GameCenterUI.showAgentFormNode()):this.GameCenterUI.showLoginFormNode()},onTransferClick:function(){this.GameCenter.isConnected()?(this.GameCenterUI.showRechargeNode(),this.GameCenter.GameRecharge.onTransferClick()):this.GameCenterUI.showLoginFormNode()},onEventClick:function(){this.GameCenter.isConnected()?this.GameCenter.MiniGame.Event.showDialog():this.GameCenterUI.showLoginFormNode()},onTutorialClick:function(){this.GameCenter.Audio.playClick(),this.GameCenter.isConnected()?this.GameCenterUI.showTutorialFormNode():this.GameCenterUI.showLoginFormNode()},onFriendClick:function(){(this.GameCenter.Audio.playClick(),this.GameCenter.isConnected())?""===this.GameCenter.getUser().invite_code?this.GameCenter.showDialogMessage(o.FRIEND_TITLE,o.FRIEND_NOT_ACTIVE):this.GameCenterUI.showFriendFormNode():this.GameCenterUI.showLoginFormNode()},onGroupClick:function(){this.GameCenter.Audio.playClick();var t=this.GameCenter.getGeneralConfig();t&&(this.GameCenter.isAndroid()?(cc.sys.openURL("fb://page/"+n.FACEBOOK_GROUP),cc.sys.openURL(t.GROUP)):this.GameCenter.isIOS()?(cc.sys.openURL("fb://profile/"+n.FACEBOOK_GROUP),cc.sys.openURL(t.GROUP)):cc.sys.openURL(t.GROUP))},onFanpageClick:function(){this.GameCenter.Audio.playClick();var t=this.GameCenter.getGeneralConfig();if(t){var e=s.getListNumber(t.FANPAGE);e&&e[0]?this.GameCenter.isIOS()?(cc.sys.openURL("fb://profile/"+e[0]),cc.sys.openURL(t.FANPAGE)):this.GameCenter.isAndroid()&&(cc.sys.openURL("intent://#Intent;package=com.facebook.katana;scheme=fb://profile/+"+e[0]+";end"),cc.sys.openURL(t.FANPAGE)):cc.sys.openURL(t.FANPAGE)}},onShopClick:function(){this.GameCenter.isConnected()?(this.GameCenterUI.showRechargeNode(),this.GameCenter.GameRecharge.onAwardClick()):this.GameCenterUI.showLoginFormNode()}}),cc._RF.pop()},{"../../../helper/Constant":"Constant","../../../helper/Message":"Message","../../../util/FormatUtil":"FormatUtil"}],ForgetPassword:[function(t,e,i){"use strict";cc._RF.push(e,"bcf15BwyLFOkJwzibdqpSQ+","ForgetPassword");var n=t("../../../helper/Config"),o=t("../../../helper/Message"),s=t("../../../ui/drop-down-list/DropDownList");cc.Class({extends:cc.Component,properties:{usernameEditBox:cc.EditBox,otpEditBox:cc.EditBox,passwordEditBox:cc.EditBox,rePasswordEditBox:cc.EditBox,usernameStep1EditBox:cc.EditBox,phoneStep1EditBox:cc.EditBox,areaCodeDropDownList:s},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI},onLoad:function(){this.editboxs=[this.usernameEditBox,this.otpEditBox,this.passwordEditBox,this.rePasswordEditBox]},onEnable:function(){this.clear(),this.initData()},initData:function(){this.areaCodeDropDownList.removeAllItem();for(var t=0;t<n.AREA_CODES.length;t++){var e=n.AREA_CODES[t].name;this.areaCodeDropDownList.addItem(e,n.AREA_CODES[t])}},onConfirmClick:function(){var t=this;this.GameCenter.Audio.playClick();var e=this.usernameEditBox.string,i=this.otpEditBox.string,n=this.passwordEditBox.string,s=this.rePasswordEditBox.string;if(this.checkAllEditboxNotEmpty())if(n===s){var a={otp:i,username:e,password:n};this.GameCenter.showProcessingNode(),this.GameCenter.api.verifyPassword(a,function(e){t.clear(),t.GameCenter.hideProcessingNode(),t.GameCenter.showDialogMessage(o.FORGET_PASSWORD_TITLE,e.msg)},function(e){t.GameCenter.hideProcessingNode(),t.GameCenter.showDialogMessage(o.FORGET_PASSWORD_TITLE,e.msg)})}else this.GameCenter.showDialogMessage(o.FORGET_PASSWORD_TITLE,o.FORGET_PASSWORD_RE_PASSWORD_NOT_CORRECT);else this.GameCenter.showDialogMessage(o.FORGET_PASSWORD_TITLE,o.MISSING_INFO)},checkAllEditboxNotEmpty:function(){for(var t in this.editboxs)if(""===this.editboxs[t].string)return!1;return!0},onConfirmStep1Click:function(){var t=this;this.GameCenter.Audio.playClick();var e=this.usernameStep1EditBox.string,i=this.phoneStep1EditBox.string;if(""!==e&&""!==i){var n=this.areaCodeDropDownList.getData().code;0===n.indexOf("+")&&(n=n.substr(1)),0===i.indexOf("0")&&(i=i.substr(1));var s={username:e,phone:n+i};this.GameCenter.showProcessingNode(),this.GameCenter.api.sendOtpForgetPassword(s,function(e){t.clear(),t.GameCenter.hideProcessingNode(),t.GameCenter.showDialogMessage(o.FORGET_PASSWORD_TITLE,e.msg)},function(e){t.GameCenter.hideProcessingNode(),t.GameCenter.showDialogMessage(o.FORGET_PASSWORD_TITLE,e.msg)})}else this.GameCenter.showDialogMessage(o.FORGET_PASSWORD_TITLE,o.MISSING_INFO)},clear:function(){for(var t in this.editboxs)this.editboxs[t].string="";this.usernameStep1EditBox.string="",this.phoneStep1EditBox.string=""}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../helper/Message":"Message","../../../ui/drop-down-list/DropDownList":"DropDownList"}],FormatUtil:[function(t,e,i){"use strict";cc._RF.push(e,"12a51JyA55E46B4eLpSVhsR","FormatUtil");var n=t("../helper/Message"),o={nFormatter:function(t,e){for(var i=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"G"},{value:1e6,symbol:"M"},{value:1e3,symbol:"k"}],n=/\.0+$|(\.[0-9]*[1-9])0+$/,o=0;o<i.length;o++)if(t>=i[o].value)return(t/i[o].value).toFixed(e).replace(n,"$1")+i[o].symbol;return t.toFixed(e).replace(n,"$1")},numberWithCommas:function(t){if(t){var e=(t=parseInt(t)).toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),e.join(".")}return"0"},validateEmail:function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},validateUrlImage:function(t){var e=t.split("/").pop(),i=t.split(".").pop();return e.indexOf(".")>-1&&("png"===i||"jpg"===i)},checkPhoneValid:function(t){return/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im.test(t)},checkDOBValid:function(t,e,i){var n=i+"/"+e+"/"+t,o=Date.parse(n);return!isNaN(o)},getOnlyNumberInString:function(t){var e=t.match(/\d+/g);return e?e.join(""):""},deDuplicate:function(t){return t.filter(function(t,e,i){return i.indexOf(t)===e})},numberToTime:function(t){t<0&&(t=0),t=parseInt(t);var e=parseInt(t/60),i=t%60;return e<10&&(e="0"+e),i<10&&(i="0"+i),e+":"+i},getStringDateByTimeStamp:function(t){var e=new Date(1e3*t),i=e.getHours(),n=e.getMinutes(),o=e.getDate(),s=e.getMonth()+1,a=e.getFullYear();return i<10&&(i="0"+i),n<10&&(n="0"+n),o<10&&(o="0"+o),s<10&&(s="0"+s),i+":"+n+" "+o+"/"+s+"/"+a},getDateByTimeStamp:function(t){var e=new Date(1e3*t);return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()},getStringHourByTimeStamp:function(t){var e=new Date(1e3*t),i=e.getHours(),n=e.getMinutes(),o=e.getSeconds();return i<10&&(i="0"+i),n<10&&(n="0"+n),o<10&&(o="0"+o),i+":"+n+":"+o},getStringOnlyDateByTimeStamp:function(t){var e=new Date(1e3*t),i=e.getDate(),n=e.getMonth()+1,o=e.getFullYear();return i<10&&(i="0"+i),n<10&&(n="0"+n),i+"/"+n+"/"+o},getParamsInUrl:function(t,e){if(cc.sys.isBrowser){e||(e=location.href),t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null==i?null:i[1]}return""},formatMessage:function(t){if(t){t=this.formatTypeMessage(t);for(var e=n.MESSAGE_FORBIDDEN,i=t.split(" "),o="",s=new RegExp("  ","g"),a=0,r=i.length;a<r;a++)for(var c=i[a].toLowerCase(),h=0,l=e.length;h<l;h++)if(-1!==c.indexOf(e[h])){i[a]="***";break}for(var u in i)o+=" "+i[u];return(o=o.replace(s," ")).trim()}return""},formatTypeMessage:function(t){var e=new RegExp("<","g"),i=new RegExp(">","g");return t=(t=t.replace(e,"")).replace(i,"")},sortDataTimeByTime:function(t){return t.sort(function(t,e){return e.created_at-t.created_at}),t},sortDataTimeByTime2:function(t){return t.sort(function(t,e){return e.time-t.time}),t},sortDataByAmount1:function(t){return t.sort(function(t,e){return e.amount-t.amount}),t},sortDataByAmount2:function(t){return t.sort(function(t,e){return t.amount-e.amount}),t},filterSameItem:function(t){for(var e=0;e<t.length-1;e++)for(var i=e+1;i<t.length;i++)t[e].nick_name===t[i].nick_name&&(t.splice(i,1),e=0,i=0);return t},filterSameItemSlot:function(t){for(var e=0;e<t.length-1;e++)for(var i=e+1;i<t.length;i++)t[e].nick_name===t[i].nick_name&&t[e].total_prize_amount===t[i].total_prize_amount&&(t.splice(i,1),e=0,i=0);return t},getListNumber:function(t){if(t){return t.match(/[-]{0,1}[\d]*[\.]*[\,]{0,1}[\d]+/g)}return t}};e.exports=o,cc._RF.pop()},{"../helper/Message":"Message"}],FriendAward:[function(t,e,i){"use strict";cc._RF.push(e,"0ce04pqldRLnqGLje6zQ6Oi","FriendAward");var n=t("../../../../helper/Message"),o=t("../../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{scoreLabel:cc.Label,scoreEditBox:cc.EditBox,moneyLabel:cc.Label},init:function(t){this.GameCenter=t,this.Friend=t.Friend},onEnable:function(){this.initData()},initData:function(){this.scoreLabel.string=o.numberWithCommas(this.GameCenter.getUser().score_received),this.scoreEditBox.string="",this.moneyLabel.string="0"},onScoreChange:function(){var t=parseInt(this.scoreEditBox.string);this.moneyLabel.string=o.numberWithCommas(1e3*t)},onConfirmClick:function(){if(""!==this.scoreEditBox){var t=parseInt(this.scoreEditBox.string),e=this,i={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId(),amount:t};this.GameCenter.showProcessingNode(),this.GameCenter.api.convertFriend(i,function(i){e.scoreEditBox.string="",e.moneyLabel.string="0",e.GameCenter.getUser().score_received-=t,e.scoreLabel.string=o.numberWithCommas(e.GameCenter.getUser().score_received),e.GameCenter.showDialogMessage(n.FRIEND_TITLE,i.msg),e.GameCenter.hideProcessingNode()},function(t){e.GameCenter.showDialogMessage(n.FRIEND_TITLE,t.msg),e.GameCenter.hideProcessingNode()})}else this.GameCenter.showDialogMessage(n.FRIEND_TITLE,n.MISSING_INFO)},onBackClick:function(){this.Friend.showCenterNode()}}),cc._RF.pop()},{"../../../../helper/Message":"Message","../../../../util/FormatUtil":"FormatUtil"}],FriendCenter:[function(t,e,i){"use strict";cc._RF.push(e,"04aa3GsAbZOa5I826Me8NOJ","FriendCenter");var n=t("../../../../helper/Message"),o=t("../../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{codeLabel:cc.Label,codeEditBox:cc.EditBox,nickNameLabel:cc.Label,notInviteNode:cc.Node,inviteNode:cc.Node,scoreLabel:cc.Label,totalScoreLabel:cc.Label},init:function(t){this.GameCenter=t,this.Friend=t.Friend},onEnable:function(){this.initData()},onDisable:function(){this.removeXhr()},initData:function(){var t=this,e=this.GameCenter.getUser();this.codeLabel.string=e.invite_code.toUpperCase(),this.codeEditBox.string="",e.friend_nickname?(this.nickNameLabel.string=e.friend_nickname,this.notInviteNode.active=!1,this.inviteNode.active=!0):(this.notInviteNode.active=!0,this.inviteNode.active=!1),this.scoreLabel.string=0,this.totalScoreLabel.string=0;var i={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId()};this.xhr=this.GameCenter.api.infoFriend(i,function(i){e.score_received=i.data.score_received,e.total_score=i.data.total_score,t.scoreLabel.string=o.numberWithCommas(e.score_received),t.totalScoreLabel.string=o.numberWithCommas(e.total_score)},function(e){t.GameCenter.showDialogMessage(n.FRIEND_TITLE,e.msg)})},onTopClick:function(){this.Friend.showTopNode()},onListClick:function(){this.Friend.showListNode()},onAwardClick:function(){this.Friend.showAwardNode()},onConfirmClick:function(){var t=this,e=this.codeEditBox.string;if(""!==e){var i={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId(),invite_code:e};this.GameCenter.showProcessingNode(),this.GameCenter.api.updateFriend(i,function(e){t.GameCenter.getUser().friend_nickname=e.data.friend_nickname,t.nickNameLabel.string=e.data.friend_nickname,t.notInviteNode.active=!1,t.inviteNode.active=!0,t.GameCenter.hideProcessingNode(),t.GameCenter.showDialogMessage(n.FRIEND_TITLE,e.msg)},function(e){t.GameCenter.hideProcessingNode(),t.GameCenter.showDialogMessage(n.FRIEND_TITLE,e.msg)})}else this.GameCenter.showDialogMessage(n.FRIEND_TITLE,n.MISSING_INFO)},onCopyClick:function(){var t=this.GameCenter.getUser().invite_code;jsb&&jsb.copyTextToClipboard(t)},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{"../../../../helper/Message":"Message","../../../../util/FormatUtil":"FormatUtil"}],FriendItem:[function(t,e,i){"use strict";cc._RF.push(e,"dda73yzHMBPWKdIB9pTT1M0","FriendItem");var n=t("../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,idLabel:cc.Label,nickNameLabel:cc.Label,scoreLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e){this.data=t,this.idLabel.string=e+1,this.nickNameLabel.string=t.nick_name,this.scoreLabel.string=n.numberWithCommas(t.score_sent);var i=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=i}}),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil"}],FriendList:[function(t,e,i){"use strict";cc._RF.push(e,"498e1bdF8xD95HH1ejlBF7b","FriendList"),cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,contentNode:cc.Node,friendItemPrefab:cc.Prefab,listNode:cc.Node},init:function(t){this.GameCenter=t,this.Friend=t.Friend},onEnable:function(){this.initData()},onDisable:function(){this.removeXhr()},initData:function(){var t=this;this.loadingNode.active=!0,this.contentNode.active=!1,this.listNode.removeAllChildren(!0);var e={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId()};this.xhr=this.GameCenter.api.historyFriend(e,function(e){t.loadingNode.active=!1,t.contentNode.active=!0,t.initList(e.data)},function(e){t.GameCenter.showDialogMessage(Message.FRIEND_TITLE,e.msg)})},initList:function(t){for(var e=0;e<t.length;e++){var i=cc.instantiate(this.friendItemPrefab);i.getComponent("FriendItem").init(t[e],e),i.parent=this.listNode}},onBackClick:function(){this.Friend.showCenterNode()},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{}],FriendTopItem:[function(t,e,i){"use strict";cc._RF.push(e,"69133aFgvhE0r7AfWmtKJz4","FriendTopItem");var n=t("../../util/FormatUtil"),o=t("../../util/Util");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,idLabel:cc.Label,prefixNickNameLabel:cc.Label,nickNameLabel:cc.Label,scoreLabel:cc.Label,prizeLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e){this.data=t,this.idLabel.string=e+1,this.prefixNickNameLabel.string=o.getServerID(t.server_id),this.nickNameLabel.string=t.nick_name,this.scoreLabel.string=n.numberWithCommas(t.total_score),this.prizeLabel.string="0";var i=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=i,this.prefixNickNameLabel.node.color=new cc.Color(255,173,0,255),this.nickNameLabel.node.color=new cc.Color(255,244,141,255)}}),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil","../../util/Util":"Util"}],FriendTop:[function(t,e,i){"use strict";cc._RF.push(e,"05b47qoKsNB2rSq3R6AeZuA","FriendTop");var n=t("../../../../helper/Message");t("../../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,contentNode:cc.Node,friendTopItemPrefab:cc.Prefab,listNode:cc.Node},init:function(t){this.GameCenter=t,this.Friend=t.Friend},onEnable:function(){this.initData()},onDisable:function(){this.removeXhr()},initData:function(){var t=this;this.loadingNode.active=!0,this.contentNode.active=!1,this.listNode.removeAllChildren(!0);var e={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId()};this.xhr=this.GameCenter.api.topFriend(e,function(e){t.loadingNode.active=!1,t.contentNode.active=!0,t.initList(e.data)},function(e){t.GameCenter.showDialogMessage(n.FRIEND_TITLE,e.msg)})},initList:function(t){for(var e=0;e<t.length;e++){var i=cc.instantiate(this.friendTopItemPrefab);i.getComponent("FriendTopItem").init(t[e],e),i.parent=this.listNode}},onBackClick:function(){this.Friend.showCenterNode()},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{"../../../../helper/Message":"Message","../../../../util/FormatUtil":"FormatUtil"}],Friend:[function(t,e,i){"use strict";cc._RF.push(e,"966aeQ7jKlGh50J7UzDHGhD","Friend");var n=t("./friend/FriendAward"),o=t("./friend/FriendCenter"),s=t("./friend/FriendList"),a=t("./friend/FriendTop");cc.Class({extends:cc.Component,properties:{FriendAward:n,FriendCenter:o,FriendList:s,FriendTop:a},init:function(t){this.GameCenter=t,this.FriendAward.init(t),this.FriendCenter.init(t),this.FriendList.init(t),this.FriendTop.init(t)},onLoad:function(){},onEnable:function(){this.showCenterNode()},showCenterNode:function(){this.hideAll(),this.FriendCenter.node.active=!0},showAwardNode:function(){this.hideAll(),this.FriendAward.node.active=!0},showListNode:function(){this.hideAll(),this.FriendList.node.active=!0},showTopNode:function(){this.hideAll(),this.FriendTop.node.active=!0},hideAll:function(){this.FriendAward.node.active=!1,this.FriendCenter.node.active=!1,this.FriendList.node.active=!1,this.FriendTop.node.active=!1}}),cc._RF.pop()},{"./friend/FriendAward":"FriendAward","./friend/FriendCenter":"FriendCenter","./friend/FriendList":"FriendList","./friend/FriendTop":"FriendTop"}],GameCenterHandlerRequest:[function(t,e,i){"use strict";cc._RF.push(e,"138a7lXGsNPDYFwryKLbn2G","GameCenterHandlerRequest");var n=t("../../helper/Constant"),o=(t("../../helper/Message"),t("../../prefab/mini-game/MiniGameConstant"),{init:function(t){this.GameCenter=t,this.GameRoom=t.GameRoom},onUserVariablesUpdate:function(t){var e=t.user,i=t.changedVars;if(e.isItMe)for(var o in i)switch(i[o]){case n.MONEY:case n.GOLD:this.GameCenter.updateMoneyGold();break;case n.SAFE_AMOUNT:this.GameCenter.updateSafeAmount();break;case n.VIP_POINT_VARIBLE:this.GameCenter.GameInfo.InfoAccount.VipAccount.initInfo(),this.GameCenter.Header.HeaderAccount.initVip()}},onResponse:function(t){var e=t.params;e.data;switch(t.cmd){case n.NEWS:this.GameCenter.handlerNews(e);break;case n.ROOM_INFO:this.GameCenter.clearTempRequests(),this.GameCenter.sfsManager.onResponse(t);break;case n.JOIN_ROOM_ERROR:this.GameCenter.hideProcessingNode(),this.GameCenter.handleJoinRoomError(t.params);break;case n.MINIGAME_REQUEST:e.data.game_name;this.GameCenter.MiniGame&&this.GameCenter.MiniGame.handleRequest(e),this.GameCenter.GameList.handleRequest(e);break;case n.REQUEST_AWARD_CARD:this.GameCenter.handleAward(e);break;case n.REQUEST_RECHARGE_GOLD:this.GameCenter.handleRechargeGold(e);break;case n.REQUEST_TRANSFER:this.GameCenter.handleTransfer(e);break;case n.REQUEST_SAFE_DEPOSIT:this.GameCenter.handleSafeDeposit(e);break;case n.REQUEST_SAFE_WITHDRAW:this.GameCenter.handleSafeWithDraw(e);break;case n.REQUEST_PLAYER_RECEIVE_ALERT:this.GameCenter.handleAlert(e);break;case n.REQUEST_PLAYER_RECEIVE_NEW_MESSAGE:this.GameCenter.handleNewMessage(e);break;case n.REQUEST_ACHIVEMENTED_QUEST:this.GameCenter.handleAchivementedQuest(e);break;case n.REQUEST_NOT_ENOUGH_BALANCE_STAY_ROOM:this.GameCenter.handleNotEnoughBalanceStayRoom(e);break;case n.REQUEST_PLUS_LUCKY_WHEEL_FREE:this.GameCenter.handlePlusLuckyWheelFree(e);break;case n.REQUEST_MESSAGE:this.GameCenter.handleMessage(e);break;case n.REQUEST_GET_OTP:this.GameCenter.handleGetOtp(e);break;case n.UPDATE_MINIGAME_FREE:this.GameCenter.MiniGame&&this.GameCenter.MiniGame.initNumberSpinFreeGame(e);break;case n.REQUEST_ACHIVEMENTED_VIP_POINT:this.GameCenter.handleAlert(e);break;case n.CONVERT_DIAMOND:this.GameCenter.handleMessage(e);break;case n.GET_TOP:this.GameCenter.MiniGame&&this.GameCenter.MiniGame.handleRequest(e)}}});e.exports=o,cc._RF.pop()},{"../../helper/Constant":"Constant","../../helper/Message":"Message","../../prefab/mini-game/MiniGameConstant":"MiniGameConstant"}],GameCenterUI:[function(t,e,i){"use strict";cc._RF.push(e,"1c4b7UK3kxP/KftF2Bz0W6b","GameCenterUI"),cc.Class({extends:cc.Component,properties:{headerLoginNode:cc.Node,headerAccountNode:cc.Node,shopButtonNode:cc.Node,gameNode:cc.Node,gameListNode:cc.Node,infoNode:cc.Node,rechargeNode:cc.Node,loginFormNode:cc.Node,registerFormNode:cc.Node,forgetPasswordFormNode:cc.Node,otpLoginFormNode:cc.Node,updateNicknameFormNode:cc.Node,updateAvatarFormNode:cc.Node,giftCodeFormNode:cc.Node,changePasswordFormNode:cc.Node,changePasswordSuccessFormNode:cc.Node,otpFirstAccountFormNode:cc.Node,confirmSecurityFormNode:cc.Node,confirmRemoveMailFormNode:cc.Node,agentFormNode:cc.Node,friendFormNode:cc.Node,settingFormNode:cc.Node,turorialFormNode:cc.Node,logOutFormNode:cc.Node,dialogMessageFormNode:cc.Node,processingNode:cc.Node},onLoad:function(){this.dialogFormLogin=this.loginFormNode.getComponent("DialogForm"),this.dialogFormRegister=this.registerFormNode.getComponent("DialogForm"),this.dialogFormForgetPassword=this.forgetPasswordFormNode.getComponent("DialogForm"),this.dialogFormOTPLogin=this.otpLoginFormNode.getComponent("DialogForm"),this.dialogFormUpdateNickname=this.updateNicknameFormNode.getComponent("DialogForm"),this.dialogFormUpdateAvatar=this.updateAvatarFormNode.getComponent("DialogForm"),this.dialogFormGiftCode=this.giftCodeFormNode.getComponent("DialogForm"),this.dialogFormChangePassword=this.changePasswordFormNode.getComponent("DialogForm"),this.dialogFormChangePasswordSuccess=this.changePasswordSuccessFormNode.getComponent("DialogForm"),this.dialogFormOtpFirstAccount=this.otpFirstAccountFormNode.getComponent("DialogForm"),this.dialogFormConfirmSecurity=this.confirmSecurityFormNode.getComponent("DialogForm"),this.dialogFormConfirmRemoveMail=this.confirmRemoveMailFormNode.getComponent("DialogForm"),this.dialogFormAgent=this.agentFormNode.getComponent("DialogForm"),this.dialogFormFriend=this.friendFormNode.getComponent("DialogForm"),this.dialogFormSetting=this.settingFormNode.getComponent("DialogForm"),this.dialogFormLogOut=this.logOutFormNode.getComponent("DialogForm"),this.dialogMessageForm=this.dialogMessageFormNode.getComponent("DialogMessage")},showGameNode:function(){this.hideAllNodes(),this.gameNode.active=!0},showInfoNode:function(){this.hideAllNodes(),this.infoNode.active=!0},showRechargeNode:function(){this.hideAllNodes(),this.rechargeNode.active=!0},showShopNode:function(){this.hideAllNodes(),this.rechargeNode.active=!0},hideAllNodes:function(){this.gameNode.active=!1,this.infoNode.active=!1,this.rechargeNode.active=!1},showHeaderLoginNode:function(){this.headerLoginNode.active=!0,this.headerAccountNode.active=!1},showHeaderAccountNode:function(){this.headerLoginNode.active=!1,this.headerAccountNode.active=!0},showShopButton:function(){this.shopButtonNode.active=!0},hideShopButton:function(){this.shopButtonNode.active=!1},showLoginFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormLogin.showDialog(t)},hideLoginFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormLogin.hideDialog(t)},showRegisterFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormRegister.showDialog(t)},hideRegisterFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormRegister.hideDialog(t)},showForgetPasswordFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormForgetPassword.showDialog(t)},hideForgetPasswordFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormForgetPassword.hideDialog(t)},showOTPLoginFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormOTPLogin.showDialog(t)},hideOTPLoginFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormOTPLogin.hideDialog(t)},showUpdateNicknameFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormUpdateNickname.showDialog(t)},hideUpdateNicknameFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormUpdateNickname.hideDialog(t)},showUpdateAvatarFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormUpdateAvatar.showDialog(t)},hideUpdateAvatarFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormUpdateAvatar.hideDialog(t)},showGiftCodeFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormGiftCode.showDialog(t)},hideGiftCodeFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormGiftCode.hideDialog(t)},showChangePasswordFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormChangePassword.showDialog(t)},hideChangePasswordFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormChangePassword.hideDialog(t)},showChangePasswordSuccessFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormChangePasswordSuccess.showDialog(t)},hideChangePasswordSuccessFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormChangePasswordSuccess.hideDialog(t)},showOtpFirstAccountFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormOtpFirstAccount.showDialog(t)},hideOtpFirstAccountFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormOtpFirstAccount.hideDialog(t)},showSecurityFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormConfirmSecurity.showDialog(t)},hideSecurityFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormConfirmSecurity.hideDialog(t)},showConfirmRemoveMailFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormConfirmRemoveMail.showDialog(t)},hideConfirmRemoveMailFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormConfirmRemoveMail.hideDialog(t)},showAgentFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormAgent.showDialog(t)},hideAgentFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormAgent.hideDialog(t)},showFriendFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormFriend.showDialog(t)},hideFriendFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormFriend.hideDialog(t)},showSettingFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormSetting.showDialog(t)},hideSettingFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormSetting.hideDialog(t)},showTutorialFormNode:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.turorialFormNode.active=!0},hideTutorialFormNode:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.turorialFormNode.active=!1},showLogOutFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormLogOut.showDialog(t)},hideLogOutFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormLogOut.hideDialog(t)},showJoinRoomErrorNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormJoinRoomError.showDialog(t)},hideJoinRoomErrorNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormJoinRoomError.hideDialog(t)},showDialogMessage:function(t,e){this.dialogMessageForm.setMessage(t,e),this.dialogMessageForm.showDialog()},hideDialogMessage:function(){this.dialogMessageForm.hideDialog()},showProcessingNode:function(){this.processingNode.active=!0},hideProcessingNode:function(){this.processingNode.active=!1}}),cc._RF.pop()},{}],GameCenter:[function(t,e,i){"use strict";cc._RF.push(e,"a3fb8oESmxESq2/i4Mee/Zd","GameCenter");var n=t("../../base/BaseScene"),o=t("../../helper/Constant"),s=t("../../helper/Message"),a=t("./GameCenterHandlerRequest"),r=t("./GameCenterUI"),c=t("./GameInfo"),h=t("./GameRecharge"),l=t("./GameList"),u=t("./header/Header"),d=t("./footer/Footer"),m=t("./form/Login"),p=t("./form/Register"),f=t("./form/ForgetPassword"),_=t("./form/OTPLogin"),S=t("./form/UpdateNickname"),g=t("./form/Bonus"),N=t("./form/UpdateAvatar"),I=t("./form/GiftCode"),C=t("./form/ChangePassword"),E=t("./form/ChangePasswordSuccess"),T=t("./form/OtpFirstAccount"),v=t("./form/ConfirmSecurity"),L=t("./form/ConfirmRemoveMail"),R=t("./form/Agent"),b=t("./form/Friend"),M=t("./other/SmallBanner"),B=t("../../prefab/form/LogOut"),y=t("../../prefab/form/Setting"),O=t("../../prefab/form/Tutorial"),A=t("../../prefab/News"),G=t("../../prefab/Toast"),k=t("../../ui/dialog/DialogMessage"),P=t("../../ui/Processing"),D=t("../../object/Audio");cc.Class({extends:n,properties:{questNotificationItemPrefab:cc.Prefab,GameCenterUI:r,GameInfo:c,GameRecharge:h,GameList:l,Header:u,Footer:d,Login:m,Register:p,ForgetPassword:f,OTPLogin:_,UpdateNickname:S,Bonus:g,UpdateAvatar:N,GiftCode:I,ChangePassword:C,ChangePasswordSuccess:E,OtpFirstAccount:T,ConfirmSecurity:v,ConfirmRemoveMail:L,Agent:R,Friend:b,Setting:y,LogOut:B,Tutorial:O,SmallBanner:M,News:A,Toast:G,DialogMessage:k,Processing:P,Audio:D},onLoad:function(){this._super(),this.setSceneName(o.SCENE_GAME_CENTER),this.sfsManager.setController(this),this.isAddEvent=!1,this.GameInfo.init(this),this.GameRecharge.init(this),this.GameList.init(this),this.Header.init(this),this.Footer.init(this),this.Login.init(this),this.Register.init(this),this.ForgetPassword.init(this),this.OTPLogin.init(this),this.UpdateNickname.init(this),this.Bonus.init(this),this.UpdateAvatar.init(this),this.GiftCode.init(this),this.ChangePassword.init(this),this.ChangePasswordSuccess.init(this),this.OtpFirstAccount.init(this),this.ConfirmSecurity.init(this),this.ConfirmRemoveMail.init(this),this.Agent.init(this),this.Friend.init(this),this.Setting.init(this),this.LogOut.init(this),this.SmallBanner.init(this),this.Tutorial.init(this),this.GameCenterHandlerRequest=a,this.GameCenterHandlerRequest.init(this),this.onResponseBind=this.GameCenterHandlerRequest.onResponse.bind(this.GameCenterHandlerRequest),this.onUserVariablesUpdateBind=this.GameCenterHandlerRequest.onUserVariablesUpdate.bind(this.GameCenterHandlerRequest),this.addEventResponse(),this.initAccountNode(),this.checkLoginFacebookViaURL()},onDestroy:function(){this.removeEventResponse()},initLoginSuccess:function(){this.hideProcessingNode(),this.initBaseController(),this.Bonus.initData(),this.GameCenterUI.showHeaderAccountNode(),this.GameCenterUI.hideLoginFormNode(),this.GameCenterUI.hideRegisterFormNode(),this.GameCenterUI.hideOTPLoginFormNode(),this.GameCenterUI.hideUpdateNicknameFormNode(),this.sfsManager.removeEventResponse(),this.addEventResponse(),this.initMiniGame()},updateMoneyGold:function(){this.Header.HeaderAccount.updateMoneyGold(),this.GameRecharge.updateMoneyGold()},updateSafeAmount:function(){this.GameRecharge.Safe.initMoney()},initDataAndConnectSFS:function(t){this.initData(t),this.checkNicknameAndConnectSFS()},initData:function(t){this.setUser(t.user),this.setConfig(t.config),this.setListAgent(t.list_agent),this.setGuide(t.guide),this.setPolicy(t.policy),this.setFreeChip(t.free_chip),this.setLuckyWheel(t.lucky_wheel),this.setSecurityGame(t.security_game)},initAccountNode:function(){this.sfs&&this.sfs.isConnected()&&this.GameCenterUI.showHeaderAccountNode()},connectSFS:function(){this.sfsManager.init(),this.sfsManager.connect(this)},checkNicknameAndConnectSFS:function(){var t=this.getUser().nick_name,e=this.getUser().username;t&&t!==e?this.connectSFS():(this.hideProcessingNode(),this.GameCenterUI.hideLoginFormNode(),this.GameCenterUI.showUpdateNicknameFormNode())},initShowOtp:function(){var t=this.getUser();t.is_new&&(this.GameCenterUI.showOtpFirstAccountFormNode(!1),t.is_new=!1)},initTempRequests:function(){var t=this.getTempRequests();for(var e in t)this.GameCenterHandlerRequest.onResponse(t[e]);this.clearTempRequests()},addEventResponse:function(){this.sfs&&this.sfs.isConnected()&&!this.isAddEvent&&(this.sfs.addEventListener(this.SFS2X.SFSEvent.EXTENSION_RESPONSE,this.onResponseBind),this.sfs.addEventListener(this.SFS2X.SFSEvent.USER_VARIABLES_UPDATE,this.onUserVariablesUpdateBind),this.isAddEvent=!0)},removeEventResponse:function(){this.sfs&&this.sfs.isConnected()&&(this.sfs.removeEventListener(this.SFS2X.SFSEvent.EXTENSION_RESPONSE,this.onResponseBind),this.sfs.removeEventListener(this.SFS2X.SFSEvent.USER_VARIABLES_UPDATE,this.onUserVariablesUpdateBind),this.isAddEvent=!1)},loginFacebook:function(){if(cc.sys.isBrowser){if(window.location.host==o.HOST_GAME){this.showProcessingNode();var t=this.getUrlLoginFacebook();window.location.href=t}else if(window.FB){var e=this;e.showProcessingNode(),!window.isInitFB&&window.FB&&FB.init({appId:"269983337196671",autoLogAppEvents:!0,xfbml:!0,cookie:!0,version:"v3.0"}),FB.login(function(t){if(t.authResponse){var i=t.authResponse.userID,n=o.LOGIN_FACEBOOK_TYPE,s=t.authResponse.accessToken;e.loginSocial(i,"",n,s)}else e.setAutoLogin(!1),e.hideProcessingNode()})}}else{if(this.initFacebook(),!this.checkPlugin())return;if(sdkbox.PluginFacebook.isLoggedIn())return void this.loginFacebookMobile();sdkbox.PluginFacebook.login()}},initFacebook:function(){if(this.checkPlugin()){this.showProcessingNode();var t=this;sdkbox.PluginFacebook.init(),sdkbox.PluginFacebook.setListener({onLogin:function(e,i){e?(console.log("Login facebook success"),console.log(i),t.loginFacebookMobile()):(console.log("Login facebook failed"),console.log(i),t.hideProcessingNode())}})}},checkPlugin:function(){return"undefined"==typeof sdkbox?(console.log("sdkbox is undefined"),!1):void 0!==sdkbox.PluginFacebook||(console.log("sdkbox.PluginFacebook is undefined"),!1)},loginFacebookMobile:function(){this.isLoginFacebook=!0;var t=sdkbox.PluginFacebook.getUserID(),e=o.LOGIN_FACEBOOK_TYPE,i=sdkbox.PluginFacebook.getAccessToken();this.showProcessingNode(),this.loginSocial(t,"",e,i)},loginSocial:function(t,e,i,n,a){var r=this,c={social_id:t,email:e,social_type:i,access_token:n,register_code:this.getRegisterCode(),mkt_code:this.getMarketingCode()};this.getDeviceID()&&(c.device_id=this.getDeviceID()),a&&(c.otp=a);this.api.registerSocial(c,function(s){0===s.data.login_status?(r.OTPLogin.setLoginFacebook(t,e,i,n),r.OTPLogin.clear(),r.hideProcessingNode(),r.GameCenterUI.showOTPLoginFormNode()):(r.setAutoLogin(!0),r.setAccountType(o.ACCOUNT_TYPE_LOGIN_FACEBOOK),r.initDataAndConnectSFS(s.data))},function(t){r.setAutoLogin(!1),r.hideProcessingNode(),r.showDialogMessage(s.LOGIN_TITLE,t.msg)})},handlerNews:function(t){this.News.addNews(t)},handleAward:function(t){this.hideProcessingNode(),this.showDialogMessage(s.AWARD_TITLE,t.msg),t.status&&this.GameRecharge.AwardCard.clear()},handleRechargeGold:function(t){this.hideProcessingNode(),this.showDialogMessage(s.RECHARGE_GOLD_TITLE,t.msg),this.GameRecharge.RechargeGold.clear()},handleTransfer:function(t){this.hideProcessingNode(),this.showDialogMessage(s.TRANSFER_TITLE,t.msg),t.status&&this.GameRecharge.Transfer.TransferContent.clear()},handleSafeDeposit:function(t){this.hideProcessingNode(),this.showDialogMessage(s.SAFE_TITLE,t.msg),t.status&&this.GameRecharge.Safe.clear()},handleSafeWithDraw:function(t){this.hideProcessingNode(),this.showDialogMessage(s.SAFE_TITLE,t.msg),this.GameRecharge.Safe.clear(),this.GameRecharge.Safe.initWithDrawSuccess()},handleAcceptInvite:function(t){this.showDialogMessage(s.INTIVE_TITLE,t.msg)},handleAchivementedQuest:function(t){this.showNotificationMessage(t.msg)},handleMessage:function(t){this.hideProcessingNode(),this.showToast(t.msg)},handleGetOtp:function(t){this.hideProcessingNode(),this.showDialogMessage(s.NOTIFICATION_TITLE,t.msg)},handlePlusLuckyWheelFree:function(t){this.showNotificationMessage(t.msg)},handleAlert:function(t){this.showNotificationMessage(t.msg)},handleNewMessage:function(t){this.Header.HeaderAccount.plusUnreadMessage(),this.showNotificationMessage(s.MAIL_NOTIFICATION)},showNotificationMessage:function(t){var e=cc.instantiate(this.questNotificationItemPrefab);e.getComponent("QuestNotificationItem").setMessage(t),e.parent=this.node},showToast:function(t){this.Toast.showToast(t)},showDialogMessage:function(t,e){this.GameCenterUI.showDialogMessage(t,e)},clearTimeoutProcessingNode:function(){this.Processing.clearTimeout()},hideDialogMessage:function(){this.GameCenterUI.hideDialogMessage()},showProcessingNode:function(){this.GameCenterUI.showProcessingNode()},hideProcessingNode:function(){this.GameCenterUI.hideProcessingNode()},checkLoginFacebookViaURL:function(){if(!this.isConnected()){var t=window.location.href,e=new URL(t),i=e.searchParams.get("id"),n=o.LOGIN_FACEBOOK_TYPE,s=e.searchParams.get("access_token"),a=e.searchParams.get("email");window.history.pushState({},null,"/"),i&&s&&this.loginSocial(i,a,n,s)}},getUrlLoginFacebook:function(){return window.location.host==o.HOST_GAME?o.HOST_LOGIN_FACEBOOK:window.location.href}}),cc._RF.pop()},{"../../base/BaseScene":"BaseScene","../../helper/Constant":"Constant","../../helper/Message":"Message","../../object/Audio":"Audio","../../prefab/News":"News","../../prefab/Toast":"Toast","../../prefab/form/LogOut":"LogOut","../../prefab/form/Setting":"Setting","../../prefab/form/Tutorial":"Tutorial","../../ui/Processing":"Processing","../../ui/dialog/DialogMessage":"DialogMessage","./GameCenterHandlerRequest":"GameCenterHandlerRequest","./GameCenterUI":"GameCenterUI","./GameInfo":"GameInfo","./GameList":"GameList","./GameRecharge":"GameRecharge","./footer/Footer":"Footer","./form/Agent":"Agent","./form/Bonus":"Bonus","./form/ChangePassword":"ChangePassword","./form/ChangePasswordSuccess":"ChangePasswordSuccess","./form/ConfirmRemoveMail":"ConfirmRemoveMail","./form/ConfirmSecurity":"ConfirmSecurity","./form/ForgetPassword":"ForgetPassword","./form/Friend":"Friend","./form/GiftCode":"GiftCode","./form/Login":"Login","./form/OTPLogin":"OTPLogin","./form/OtpFirstAccount":"OtpFirstAccount","./form/Register":"Register","./form/UpdateAvatar":"UpdateAvatar","./form/UpdateNickname":"UpdateNickname","./header/Header":"Header","./other/SmallBanner":"SmallBanner"}],GameInfo:[function(t,e,i){"use strict";cc._RF.push(e,"e0f250560lCdYJ0h4pe9lDk","GameInfo");var n=t("./info/InfoAccount"),o=t("./info/InfoHistory"),s=t("./info/InfoSercurity"),a=t("./info/InfoMail");cc.Class({extends:cc.Component,properties:{headerNode:cc.Node,accountOnButtonNode:cc.Node,accountOffButtonNode:cc.Node,historyOnButtonNode:cc.Node,historyOffButtonNode:cc.Node,sercurityOnButtonNode:cc.Node,sercurityOffButtonNode:cc.Node,mailOnButtonNode:cc.Node,mailOffButtonNode:cc.Node,accountContentNode:cc.Node,historyContenNode:cc.Node,sercurityContenNode:cc.Node,mailContenNode:cc.Node,InfoAccount:n,InfoHistory:o,InfoSercurity:s,InfoMail:a},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI,this.InfoAccount.init(t),this.InfoHistory.init(t),this.InfoSercurity.init(t),this.InfoMail.init(t)},onLoad:function(){},onEnable:function(){this.headerNode.active=!0},onDisable:function(){this.hideAllContents()},onInfoClick:function(){this.GameCenter.Audio.playClick(),this.showInfo()},showInfo:function(){this.initBeforeClick(),this.accountOnButtonNode.active=!0,this.accountOffButtonNode.active=!1,this.accountContentNode.active=!0},onHistoryClick:function(){this.GameCenter.Audio.playClick(),this.showHistory()},showHistory:function(){this.initBeforeClick(),this.historyOnButtonNode.active=!0,this.historyOffButtonNode.active=!1,this.historyContenNode.active=!0},onSercurityClick:function(){this.GameCenter.Audio.playClick(),this.showSercurity()},showSercurity:function(){this.initBeforeClick(),this.sercurityOnButtonNode.active=!0,this.sercurityOffButtonNode.active=!1,this.sercurityContenNode.active=!0},onMailClick:function(){this.GameCenter.Audio.playClick(),this.showMail()},showMail:function(){this.initBeforeClick(),this.mailOnButtonNode.active=!0,this.mailOffButtonNode.active=!1,this.mailContenNode.active=!0},initBeforeClick:function(){this.hideAllOnButtons(),this.hideAllContents(),this.showAllOffButtons()},showAllOffButtons:function(){this.accountOffButtonNode.active=!0,this.historyOffButtonNode.active=!0,this.sercurityOffButtonNode.active=!0,this.mailOffButtonNode.active=!0},hideAllOnButtons:function(){this.accountOnButtonNode.active=!1,this.historyOnButtonNode.active=!1,this.sercurityOnButtonNode.active=!1,this.mailOnButtonNode.active=!1},hideAllContents:function(){this.accountContentNode.active=!1,this.historyContenNode.active=!1,this.sercurityContenNode.active=!1,this.mailContenNode.active=!1},onBackClick:function(){this.GameCenter.Audio.playClick(),this.GameCenterUI.showGameNode()}}),cc._RF.pop()},{"./info/InfoAccount":"InfoAccount","./info/InfoHistory":"InfoHistory","./info/InfoMail":"InfoMail","./info/InfoSercurity":"InfoSercurity"}],GameListAll:[function(t,e,i){"use strict";cc._RF.push(e,"23292wEFsdAb4hvilhK6vSw","GameListAll");var n=t("../../../prefab/item/SlotGameIconItem");cc.Class({extends:cc.Component,properties:{slot2SlotGameIcon:n,slot3SlotGameIcon:n,slot4SlotGameIcon:n,miniPokerSlotGameIcon:n,bomSlotGameIcon:n,diamondSlotGameIcon:n,miniBaCaySlotGameIcon:n,trenDuoiSlotGameIcon:n,wildSlotGameIcon:n,slot2EventNode:cc.Node,slot3EventNode:cc.Node,slot4EventNode:cc.Node,miniPokerEventNode:cc.Node,bomEventNode:cc.Node,diamondEventNode:cc.Node,miniBaCayEventNode:cc.Node,trenDuoiEventNode:cc.Node,wildEventNode:cc.Node,gamePageView:cc.PageView},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI},onLoad:function(){},initData:function(t){if(this.data=t,t){var e=t.one001,i=t.dragon,n=t.classic1,o=t.mini_poker,s=t.bom,a=t.diamond;t.mini_3cay,t.hilo,t.wild;this.slot2SlotGameIcon.initData(e),this.slot3SlotGameIcon.initData(i),this.slot4SlotGameIcon.initData(n),this.miniPokerSlotGameIcon.initData(o),this.bomSlotGameIcon.initData(s),this.diamondSlotGameIcon.initData(a)}this.initEventNode()},initEventNode:function(){if(this.data){var t=this.data.mini_poker?this.data.mini_poker[3]:null,e=this.data.mini_3cay?this.data.mini_3cay[3]:null,i=this.data.diamond?this.data.diamond[3]:null,n=this.data.hilo?this.data.hilo[6]:null,o=this.data.bom?this.data.bom[3]:null,s=this.data.wild?this.data.wild[3]:null,a=this.data.one001?this.data.one001[3]:null,r=this.data.dragon?this.data.dragon[3]:null,c=this.data.classic1?this.data.classic1[3]:null;this.miniPokerEventNode.active=t[0]>1||t[1]>1||t[2]>1,this.miniBaCayEventNode.active=e[0]>1||e[1]>1||e[2]>1,this.diamondEventNode.active=i[0]>1||i[1]>1||i[2]>1,this.trenDuoiEventNode.active=n[0]>1||n[1]>1||n[2]>1,this.bomEventNode.active=o[0]>1||o[1]>1||o[2]>1,this.wildEventNode.active=s[0]>1||s[1]>1||s[2]>1,this.slot2EventNode.active=a[0]>1||a[1]>1||a[2]>1,this.slot3EventNode.active=r[0]>1||r[1]>1||r[2]>1,this.slot4EventNode.active=c[0]>1||c[1]>1||c[2]>1}},onPreviousPageClick:function(){this.GameCenter.Audio.playClick();var t=this.gamePageView.getCurrentPageIndex(),e=this.gamePageView.getPages().length;--t<0&&(t=e-1),this.gamePageView.setCurrentPageIndex(t)},onNextPageClick:function(){this.GameCenter.Audio.playClick();var t=this.gamePageView.getCurrentPageIndex();++t>=this.gamePageView.getPages().length&&(t=0),this.gamePageView.setCurrentPageIndex(t)}}),cc._RF.pop()},{"../../../prefab/item/SlotGameIconItem":"SlotGameIconItem"}],GameListBetting:[function(t,e,i){"use strict";cc._RF.push(e,"14464QY8pdHVLdz8XJVSJfg","GameListBetting");var n=t("../../../prefab/item/SlotGameIconItem");cc.Class({extends:cc.Component,properties:{slotSlotGameIcon:n,slot2SlotGameIcon:n,slot3SlotGameIcon:n},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI},onLoad:function(){},initData:function(t){if(this.data=t,t){t.zoombies;var e=t.dragon,i=t.one001,n=t.classic1;this.slotSlotGameIcon.initData(n),this.slot2SlotGameIcon.initData(e),this.slot3SlotGameIcon.initData(i)}}}),cc._RF.pop()},{"../../../prefab/item/SlotGameIconItem":"SlotGameIconItem"}],GameListCardGame:[function(t,e,i){"use strict";cc._RF.push(e,"b4105ld/vFO7KiqCNXyj7uw","GameListCardGame"),cc.Class({extends:cc.Component,properties:{gamePageView:cc.PageView},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI},onLoad:function(){},onPreviousPageClick:function(){this.GameCenter.Audio.playClick();var t=this.gamePageView.getCurrentPageIndex(),e=this.gamePageView.getPages().length;--t<0&&(t=e-1),this.gamePageView.setCurrentPageIndex(t)},onNextPageClick:function(){this.GameCenter.Audio.playClick();var t=this.gamePageView.getCurrentPageIndex();++t>=this.gamePageView.getPages().length&&(t=0),this.gamePageView.setCurrentPageIndex(t)}}),cc._RF.pop()},{}],GameList:[function(t,e,i){"use strict";cc._RF.push(e,"c1502eOkw9HHpKymD0FHhsY","GameList");var n=t("../../helper/Constant"),o=t("../../prefab/mini-game/MiniGameConstant"),s=t("./other/GameListAll");cc.Class({extends:cc.Component,properties:{GameListAll:s},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI,this.GameListAll.init(t)},onLoad:function(){},onBackClick:function(){this.GameCenter.Audio.playClick(),this.GameCenterUI.showLogOutFormNode()},handleRequest:function(t){if(t.status){var e=t.data.game_name,i=t.data;switch(e){case o.JACKPOT:this.GameListAll.initData(i.game_data)}}},onBannerClick:function(){this.GameCenter.Audio.playClick(),this.GameCenter.isConnected()&&this.GameCenterUI.showBannerFormNode()},onSlotClick:function(){this.GameCenter.Audio.playClick(),this.GameCenter.isConnected()?this.joinGameLobby(n.ZOOMBIES):this.GameCenterUI.showLoginFormNode()},onSlot2Click:function(){this.GameCenter.Audio.playClick(),this.GameCenter.isConnected()?this.joinGameLobby(n.ONE001):this.GameCenterUI.showLoginFormNode()},onSlot3Click:function(){this.GameCenter.Audio.playClick(),this.GameCenter.isConnected()?this.joinGameLobby(n.DRAGON):this.GameCenterUI.showLoginFormNode()},onSlot4Click:function(){this.GameCenter.Audio.playClick(),this.GameCenter.isConnected()?this.joinGameLobby(n.CLASSIC1):this.GameCenterUI.showLoginFormNode()},onVQMMClick:function(){this.GameCenter.isConnected()?(this.GameCenter.Audio.playClick(),this.GameCenter.MiniGame.MiniGameCircle.onLuckyWheelClick()):this.GameCenterUI.showLoginFormNode()},onTaiXiuClick:function(){this.GameCenter.isConnected()?(this.GameCenter.Audio.playClick(),this.GameCenter.MiniGame.TaiXiu.onTaiXiuClick()):this.GameCenterUI.showLoginFormNode()},onMiniPokerClick:function(){this.GameCenter.isConnected()?(this.GameCenter.Audio.playClick(),this.GameCenter.MiniGame.MiniPoker.onMiniPokerClick()):this.GameCenterUI.showLoginFormNode()},onMiniBaCayClick:function(){this.GameCenter.isConnected()?(this.GameCenter.Audio.playClick(),this.GameCenter.MiniGame.MiniBaCay.onMiniBaCayClick()):this.GameCenterUI.showLoginFormNode()},onDiamondClick:function(){this.GameCenter.isConnected()?(this.GameCenter.Audio.playClick(),this.GameCenter.MiniGame.Diamond.onDiamondClick()):this.GameCenterUI.showLoginFormNode()},onTrenDuoiClick:function(){this.GameCenter.isConnected()?(this.GameCenter.Audio.playClick(),this.GameCenter.MiniGame.TrenDuoi.onTrenDuoiClick()):this.GameCenterUI.showLoginFormNode()},onMiniGameLotteryClick:function(){this.GameCenter.isConnected()?(this.GameCenter.Audio.playClick(),this.GameCenter.MiniGame.MiniGameLottery.onMiniGameLotteryClick()):this.GameCenterUI.showLoginFormNode()},onBauCuaClick:function(){this.GameCenter.isConnected()?(this.GameCenter.Audio.playClick(),this.GameCenter.MiniGame.BauCua.onBauCuaClick()):this.GameCenterUI.showLoginFormNode()},onLuckyWheelClick:function(){this.GameCenter.isConnected()?(this.GameCenter.Audio.playClick(),this.GameCenter.MiniGame.LuckyWheel.node.active=!this.GameCenter.MiniGame.LuckyWheel.node.active):this.GameCenterUI.showLoginFormNode()},onBomClick:function(){this.GameCenter.isConnected()?(this.GameCenter.Audio.playClick(),this.GameCenter.MiniGame.Bom.onBomClick()):this.GameCenterUI.showLoginFormNode()},onWildClick:function(){this.GameCenter.isConnected()?(this.GameCenter.Audio.playClick(),this.GameCenter.MiniGame.Wild.onWildClick()):this.GameCenterUI.showLoginFormNode()},joinGameLobby:function(t){if(this.GameCenter.isConnected()){this.GameCenter.showProcessingNode();var e={game_name:t};this.GameCenter.sendRequest.sendNoPrefixToZone(n.REQUEST_JOIN_GAME,e)}else this.GameCenterUI.showLoginFormNode()}}),cc._RF.pop()},{"../../helper/Constant":"Constant","../../prefab/mini-game/MiniGameConstant":"MiniGameConstant","./other/GameListAll":"GameListAll"}],GameMiniHistory:[function(t,e,i){"use strict";cc._RF.push(e,"dc617DzYgFK35kPreEHoX31","GameMiniHistory");var n=t("./history/MiniBaCayHistories"),o=t("./history/MiniPokerHistories"),s=t("./history/TaiXiuHistories"),a=t("./history/DiamondHistories"),r=t("./history/TrenDuoiHistories"),c=t("./history/MiniGameLotteryHistories"),h=t("./history/BauCuaHistories"),l=t("./history/BomHistories"),u=t("./history/WildHistories"),d=t("./history/TanLocHistories");cc.Class({extends:cc.Component,properties:{MiniBaCayHistories:n,MiniPokerHistories:o,TaiXiuHistories:s,DiamondHistories:a,TrenDuoiHistories:r,MiniGameLotteryHistories:c,BauCuaHistories:h,BomHistories:l,WildHistories:u,TanLocHistories:d},init:function(t){this.controller=t,this.MiniBaCayHistories.init(t),this.MiniPokerHistories.init(t),this.TaiXiuHistories.init(t),this.DiamondHistories.init(t),this.TrenDuoiHistories.init(t),this.MiniGameLotteryHistories.init(t),this.BauCuaHistories.init(t),this.BomHistories.init(t),this.WildHistories.init(t),this.TanLocHistories.init(t)},onLoad:function(){this.dialogForm=this.node.getComponent("DialogForm")},onDisable:function(){this.hideAll()},showDialog:function(){this.dialogForm||(this.dialogForm=this.node.getComponent("DialogForm")),this.dialogForm.showDialog()},hideDialog:function(){this.dialogForm||(this.dialogForm=this.node.getComponent("DialogForm")),this.dialogForm.hideDialog()},showMiniBaCayHistories:function(){this.hideAll(),this.MiniBaCayHistories.node.active=!0},showMiniPokerHistories:function(){this.hideAll(),this.MiniPokerHistories.node.active=!0},showTaiXiuHistories:function(){this.hideAll(),this.TaiXiuHistories.node.active=!0},showDiamondHistories:function(){this.hideAll(),this.DiamondHistories.node.active=!0},showTrenDuoiHistories:function(){this.hideAll(),this.TrenDuoiHistories.node.active=!0},showMiniGameLotteryHistories:function(){this.hideAll(),this.MiniGameLotteryHistories.node.active=!0},showBauCuaHistories:function(){this.hideAll(),this.BauCuaHistories.node.active=!0},showBomHistories:function(){this.hideAll(),this.BomHistories.node.active=!0},showWildHistories:function(){this.hideAll(),this.WildHistories.node.active=!0},showTanLocHistories:function(){this.hideAll(),this.TanLocHistories.node.active=!0},hideAll:function(){this.MiniBaCayHistories.node.active=!1,this.MiniPokerHistories.node.active=!1,this.TaiXiuHistories.node.active=!1,this.DiamondHistories.node.active=!1,this.TrenDuoiHistories.node.active=!1,this.MiniGameLotteryHistories.node.active=!1,this.BauCuaHistories.node.active=!1,this.BomHistories.node.active=!1,this.WildHistories.node.active=!1,this.TanLocHistories.node.active=!1}}),cc._RF.pop()},{"./history/BauCuaHistories":"BauCuaHistories","./history/BomHistories":"BomHistories","./history/DiamondHistories":"DiamondHistories","./history/MiniBaCayHistories":"MiniBaCayHistories","./history/MiniGameLotteryHistories":"MiniGameLotteryHistories","./history/MiniPokerHistories":"MiniPokerHistories","./history/TaiXiuHistories":"TaiXiuHistories","./history/TanLocHistories":"TanLocHistories","./history/TrenDuoiHistories":"TrenDuoiHistories","./history/WildHistories":"WildHistories"}],GameMiniJackpotItem:[function(t,e,i){"use strict";cc._RF.push(e,"b4f8213qD5Duq9kD3gOu98R","GameMiniJackpotItem");var n=t("../../../util/FormatUtil"),o=t("../../../util/Util");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,noLabel:cc.Label,prefixNickNameLabel:cc.Label,accountLabel:cc.Label,timeLabel:cc.Label,valueLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e){if(t){this.data=t,t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.noLabel.string=parseInt(e)+1,this.prefixNickNameLabel.string=o.getServerID(t.server_id),this.accountLabel.string=t.nick_name,this.timeLabel.string=n.getStringDateByTimeStamp(t.created_at),this.valueLabel.string=n.numberWithCommas(t.total_prize_value||t.total_prize_amount||t.amount);var i=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=i,this.prefixNickNameLabel.node.color=new cc.Color(255,173,0,255),this.accountLabel.node.color=new cc.Color(255,244,141,255)}else this.node.active=!1},onLoad:function(){}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil","../../../util/Util":"Util"}],GameMiniRankItem:[function(t,e,i){"use strict";cc._RF.push(e,"763f751aYJBXZHFDCBnk9rU","GameMiniRankItem");var n=t("../../../util/FormatUtil"),o=t("../../../util/Util");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,noLabel:cc.Label,prefixNickNameLabel:cc.Label,accountLabel:cc.Label,valueLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e){this.data=t,this.noLabel.string=parseInt(e)+1,this.prefixNickNameLabel.string=o.getServerID(t.server_id),this.accountLabel.string=t.nick_name,this.valueLabel.string=n.numberWithCommas(t.total_prize_value||t.total_prize_amount||t.amount);var i=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=i,this.prefixNickNameLabel.node.color=new cc.Color(255,173,0,255),this.accountLabel.node.color=new cc.Color(255,244,141,255)},onLoad:function(){}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil","../../../util/Util":"Util"}],GameMiniRankTanLoc:[function(t,e,i){"use strict";cc._RF.push(e,"c8381cg0uJDY7dZfCSSghde","GameMiniRankTanLoc");var n=t("../MiniGameConstant"),o=t("../../item/PaginationItem"),s=t("../tan-loc-hu-loc/BonusConstant");cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,headerTanLocNode:cc.Node,headerRutLocNode:cc.Node,tanLocOnButtonNode:cc.Node,tanLocOffButtonNode:cc.Node,rutLocOnButtonNode:cc.Node,rutLocOffButtonNode:cc.Node,rankItemPrefab:cc.Prefab,rankScrollView:cc.ScrollView,pageNodeRank:cc.Node,pagePreviewPreviewRank:o,pagePreViewRank:o,pageNextRank:o,pageNextNextRank:o,listPageNumberItemRank:[o]},init:function(t){this.controller=t},onLoad:function(){this.dialogForm=this.node.getComponent("DialogForm")},onEnable:function(){this.data=null,this.putAllItemToPoolRank(),this.showLoadingNode(),this.poolRank=new cc.NodePool;for(var t=0;t<10;t++){var e=cc.instantiate(this.rankItemPrefab);this.poolRank.put(e)}cc.sys.isBrowser&&this.addEventKeyPress()},onDisable:function(){cc.sys.isBrowser&&this.removeEventKeyPress(),this.removeXhr()},addEventKeyPress:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyPressed,this)},onKeyPressed:function(t){switch(t.keyCode){case cc.macro.KEY.escape:this.isTop()&&(this.node.active=!1)}},removeEventKeyPress:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyPressed,this)},isTop:function(){return this.controller.DialogMessage?!this.controller.DialogMessage.node.active&&!this.controller.Processing.node.active:!!this.controller.GameCommon&&(!this.controller.GameCommon.DialogMessage.node.active&&!this.controller.GameCommon.Processing.node.active)},setMiniGameName:function(t){this.minigameName=t,this.loadDataBuyGameName(t)},loadDataBuyGameName:function(t){var e=void 0;switch(t){case n.TAN_LOC:e=s.GET_TOP}this.controller.sendRequest.sendNoPrefixToZone(e)},onCloseClick:function(){this.hideDialog()},onTanLocClick:function(){this.hideAllButton(),this.hideAllContent(),this.headerTanLocNode.active=!0,this.tanLocOnButtonNode.active=!0,this.tanLocOffButtonNode.active=!1,this.initData()},onRutLocClick:function(){this.hideAllButton(),this.hideAllContent(),this.headerRutLocNode.active=!1,this.rutLocOnButtonNode.active=!0,this.rutLocOffButtonNode.active=!1,this.initData()},initDataTop:function(t){this.data=t,this.initData(),this.hideLoadingNode(),console.log(t)},initData:function(){if(this.putAllItemToPoolRank(),this.data){var t=this.isRankTanLocType()?this.data.tan_loc:this.data.rut_loc;this.headerTanLocNode.active=this.isRankTanLocType(),this.headerRutLocNode.active=!this.isRankTanLocType(),t&&(this.rank=t,this.setPageRank(0))}},isRankTanLocType:function(){return this.tanLocOnButtonNode.active},setPageRank:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.pageRank=e,this.listPaginationRank=[],this.putAllItemToPoolRank(),this.rank&&this.rank.length>0?function(){t.pageNodeRank.active=!0,t.showListContentRank(e);var i=parseInt(t.rank.length/n.NUMBER_DETAIL_ITEM);if(i=i*n.NUMBER_DETAIL_ITEM===t.rank.length?i-1:i,t.pagePreviewPreviewRank.init("<<",0),t.pageNextNextRank.init(">>",i),t.listPaginationRank.push(t.pagePreviewPreviewRank),t.listPaginationRank.push(t.pageNextNextRank),e<2)for(var o=0,s=t.listPageNumberItemRank.length;o<s;o++)t.listPageNumberItemRank[o].init(o+1,o),t.listPageNumberItemRank[o].enable(),o===e&&t.listPageNumberItemRank[o].disable(),t.listPaginationRank.push(t.listPageNumberItemRank[o]);else if(e+2>=i){var a=i;if(i>4)for(var r=t.listPageNumberItemRank.length-1;r>=0;r--)t.listPageNumberItemRank[r].init(a+1,a),t.listPageNumberItemRank[r].enable(),a===e&&t.listPageNumberItemRank[r].disable(),t.listPaginationRank.push(t.listPageNumberItemRank[r]),a--;else{for(var c=0,h=t.listPageNumberItemRank.length;c<h;c++)t.listPageNumberItemRank[c].enable();t.listPageNumberItemRank[e].disable()}}else for(var l=-2,u=0,d=t.listPageNumberItemRank.length;u<d;u++)t.listPageNumberItemRank[u].init(e+l+1,e+l),t.listPageNumberItemRank[u].enable(),0===l&&t.listPageNumberItemRank[u].disable(),t.listPaginationRank.push(t.listPageNumberItemRank[u]),l++;e<=0?(t.pagePreViewRank.init("<",0),t.pageNextRank.init(">",1)):e+2>=i?(t.pagePreViewRank.init("<",e-1),t.pageNextRank.init(">",i)):(t.pagePreViewRank.init("<",e-1),t.pageNextRank.init(">",e+1)),t.listPaginationRank.push(t.pagePreViewRank),t.listPaginationRank.push(t.pageNextRank);var m=t;if(!t.isEventRank){for(var p in t.listPaginationRank){var f=t.listPaginationRank[p].getComponent("PaginationItem").pageOffButtonNode;f.on(cc.Node.EventType.TOUCH_END,function(){var t=this.parent.getComponent("PaginationItem").getPage();m.setPageRank(t)},f)}t.isEventRank=!0}}():this.pageNodeRank.active=!1},showListContentRank:function(t){if(t*n.NUMBER_DETAIL_ITEM<this.rank.length)for(var e=t*n.NUMBER_DETAIL_ITEM,i=e,o=e+n.NUMBER_DETAIL_ITEM;i<o;i++)if(i<this.rank.length){var s=void 0;this.poolRank&&(s=this.poolRank.get()),s||(s=cc.instantiate(this.rankItemPrefab)),s.getComponent("GameMiniRankItem").init(this.rank[i],i),s.parent=this.rankScrollView.content}},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)},putAllItemToPoolRank:function(){if(this.poolRank){var t=this.rankScrollView.content.getChildren(),e=[];for(var i in t)e.push(t[i]);for(var n in e)this.poolRank.put(e[n])}},showDialog:function(){this.dialogForm||(this.dialogForm=this.node.getComponent("DialogForm")),this.dialogForm.showDialog()},hideAllButton:function(){this.tanLocOnButtonNode.active=!1,this.tanLocOffButtonNode.active=!0,this.rutLocOnButtonNode.active=!1,this.rutLocOffButtonNode.active=!0},hideAllContent:function(){this.headerRutLocNode.active=!1,this.headerTanLocNode.active=!1},showLoadingNode:function(){this.loadingNode.active=!0,this.hideAllContent()},hideLoadingNode:function(){this.loadingNode.active=!1}}),cc._RF.pop()},{"../../item/PaginationItem":"PaginationItem","../MiniGameConstant":"MiniGameConstant","../tan-loc-hu-loc/BonusConstant":"BonusConstant"}],GameMiniRank:[function(t,e,i){"use strict";cc._RF.push(e,"f26e5vuvq5KjbFLdtrJr1vL","GameMiniRank");var n=t("../MiniGameConstant"),o=t("../../item/PaginationItem"),s=t("../tai-xiu/TaiXiuConstant"),a=t("../diamond/DiamondConstant"),r=t("../mini-bacay/MiniBaCayConstant"),c=t("../mini-poker/MiniPokerConstant"),h=t("../tren-duoi/TrenDuoiConstant"),l=t("../bom/BomConstant"),u=t("../wild/WildConstant"),d=t("../minigame-lottery/MiniGameLotteryConstant"),m=t("../bau-cua/BauCuaConstant"),p=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,typeButtonNode:cc.Node,moneyButtonNode:cc.Node,goldButtonNode:cc.Node,jackpotNode:cc.Node,rankNode:cc.Node,rankButtonNode:cc.Node,jackpotButtonNode:cc.Node,jackpotOnButtonNode:cc.Node,jackpotOffButtonNode:cc.Node,rankOnButtonNode:cc.Node,rankOffButtonNode:cc.Node,rankItemPrefab:cc.Prefab,rankScrollView:cc.ScrollView,jackpotItemPrefab:cc.Prefab,jackpotContentNode:cc.Node,pageNode:cc.Node,pagePreviewPreview:o,pagePreView:o,pageNext:o,pageNextNext:o,listPageNumberItem:[o]},init:function(t){this.controller=t},onLoad:function(){this.dialogForm=this.node.getComponent("DialogForm")},onEnable:function(){this.data=null,this.onJackpotClick(),this.showLoadingNode(),this.rankScrollView.content.removeAllChildren(!0),this.jackpotContentNode.removeAllChildren(!0)},onDisable:function(){this.removeXhr()},setMiniGameName:function(t){this.reset(),this.minigameName=t,t===n.TAIXIU&&(this.jackpotButtonNode.active=!1),this.loadDataBuyGameName(t)},loadDataBuyGameName:function(t){var e=void 0;switch(t){case n.TAIXIU:e=s.GET_TOP;break;case n.DIAMOND:case n.DIAMOND_2:e=a.GET_TOP;break;case n.MINI_BACAY:e=r.GET_TOP;break;case n.MINI_POKER:e=c.GET_TOP;break;case n.TREN_DUOI:e=h.GET_TOP;break;case n.BOM:e=l.GET_TOP;break;case n.WILD:e=u.GET_TOP;break;case n.MINIGAME_LOTTERY:e=d.GET_TOP;break;case n.BAU_CUA:e=m.GET_TOP}this.controller.sendRequest.sendNoPrefixToZone(e)},onCloseClick:function(){this.hideDialog()},onMoneyClick:function(){this.goldButtonNode.active=!0,this.moneyButtonNode.active=!1,this.minigameName===n.TAIXIU?this.initContentTaiXiu():this.initData()},onGoldClick:function(){this.goldButtonNode.active=!1,this.moneyButtonNode.active=!0,this.minigameName===n.TAIXIU?this.initContentTaiXiu():this.initData()},onRankClick:function(){this.hideAllButton(),this.hideAllContent(),this.rankOnButtonNode.active=!0,this.rankOffButtonNode.active=!1,this.rankNode.active=!0},onJackpotClick:function(){this.hideAllButton(),this.hideAllContent(),this.jackpotOnButtonNode.active=!0,this.jackpotOffButtonNode.active=!1,this.jackpotNode.active=!0},initDataTaiXiu:function(t){this.data=t.tops_tai_xiu,this.initContentTaiXiu()},initDataBauCua:function(t){this.rankButtonNode.active=!0,this.jackpotButtonNode.active=!1,this.rankOnButtonNode.active=!0,this.rankOffButtonNode.active=!1,this.initDataTop(t)},initDataTop:function(t){var e=[];e[0]=t[2],e[1]=t[0];var i=[];i[0]=t[3],i[1]=t[1],this.data=[],this.data[0]=e,this.data[1]=i,this.initData(),this.typeButtonNode.active=!0},initDataMiniGameLottery:function(t){this.data=[];var e=[];e[0]=t.tops_win,e[1]=t.tops_jackpot,this.data[0]=e,this.initData(),this.typeButtonNode.active=!1},initContentMiniGameLottery:function(){if(this.showListNode(),this.rankScrollView.content.removeAllChildren(!0),this.jackpotContentNode.removeAllChildren(!0),this.data){var t=this.isRankType()?this.data.tops_jackpot:this.data.tops_win;if(t)for(var e=0;e<t.length;e++){var i=cc.instantiate(this.rankItemPrefab);i.parent=this.rankScrollView.content,i.getComponent("GameMiniRankItem").init(t[e],e)}}this.rankNode.active=!this.isRankType(),this.jackpotNode.active=this.isRankType()},initContentTaiXiu:function(){if(this.showListNode(),this.rankScrollView.content.removeAllChildren(!0),this.jackpotContentNode.removeAllChildren(!0),this.data){var t=this.isMoneyType()?this.data[0]:this.data[1];if(t=p.filterSameItem(t))for(var e=0;e<t.length;e++){var i=cc.instantiate(this.rankItemPrefab);i.parent=this.rankScrollView.content,i.getComponent("GameMiniRankItem").init(t[e],e)}}this.rankNode.active=this.isRankType(),this.jackpotNode.active=!this.isRankType(),this.minigameName===n.TAIXIU&&this.onRankClick()},initData:function(){if(this.showListNode(),this.rankScrollView.content.removeAllChildren(!0),this.jackpotContentNode.removeAllChildren(!0),this.data){var t=this.isMoneyType()?this.data[0]:this.data[1];if(t){if(t[0])for(var e=p.sortDataTimeByTime(t[0]),i=0;i<e.length;i++){var o=cc.instantiate(this.rankItemPrefab);o.parent=this.rankScrollView.content,o.getComponent("GameMiniRankItem").init(e[i],i)}t[1]&&(this.jackpot=p.sortDataTimeByTime(t[1]),this.setPage(0))}}this.rankNode.active=this.isRankType(),this.jackpotNode.active=!this.isRankType(),this.minigameName===n.TAIXIU&&this.onRankClick()},showDialog:function(){this.dialogForm||(this.dialogForm=this.node.getComponent("DialogForm")),this.dialogForm.showDialog()},hideDialog:function(){this.dialogForm||(this.dialogForm=this.node.getComponent("DialogForm")),this.dialogForm.hideDialog()},isMoneyType:function(){return this.goldButtonNode.active},isRankType:function(){return this.rankOnButtonNode.active},hideAllButton:function(){this.rankOffButtonNode.active=!0,this.jackpotOffButtonNode.active=!0,this.rankOnButtonNode.active=!1,this.jackpotOnButtonNode.active=!1},hideAllContent:function(){this.jackpotNode.active=!1,this.rankNode.active=!1},showLoadingNode:function(){this.loadingNode.active=!0,this.hideAllContent()},showListNode:function(){this.loadingNode.active=!1,this.rankNode.active=this.isRankType(),this.jackpotNode.active=!this.isRankType()},setPage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.page=e,this.listPagination=[],this.jackpotContentNode.removeAllChildren(!0),this.jackpot&&this.jackpot.length>0&&function(){t.showListContent(e);var i=parseInt(t.jackpot.length/n.NUMBER_DETAIL_ITEM);if(i=i*n.NUMBER_DETAIL_ITEM===t.jackpot.length?i-1:i,t.pagePreviewPreview.init("<<",0),t.pageNextNext.init(">>",i),t.listPagination.push(t.pagePreviewPreview),t.listPagination.push(t.pageNextNext),e<2)for(var o=0,s=t.listPageNumberItem.length;o<s;o++)t.listPageNumberItem[o].init(o+1,o),t.listPageNumberItem[o].enable(),o===e&&t.listPageNumberItem[o].disable(),t.listPagination.push(t.listPageNumberItem[o]);else if(e+2>=i){var a=i;if(i>4)for(var r=t.listPageNumberItem.length-1;r>=0;r--)t.listPageNumberItem[r].init(a+1,a),t.listPageNumberItem[r].enable(),a===e&&t.listPageNumberItem[r].disable(),t.listPagination.push(t.listPageNumberItem[r]),a--;else{for(var c=0,h=t.listPageNumberItem.length;c<h;c++)t.listPageNumberItem[c].enable();t.listPageNumberItem[e].disable()}}else for(var l=-2,u=0,d=t.listPageNumberItem.length;u<d;u++)t.listPageNumberItem[u].init(e+l+1,e+l),t.listPageNumberItem[u].enable(),0===l&&t.listPageNumberItem[u].disable(),t.listPagination.push(t.listPageNumberItem[u]),l++;e<=0?(t.pagePreView.init("<",0),t.pageNext.init(">",1)):e+2>=i?(t.pagePreView.init("<",e-1),t.pageNext.init(">",i)):(t.pagePreView.init("<",e-1),t.pageNext.init(">",e+1)),t.listPagination.push(t.pagePreView),t.listPagination.push(t.pageNext);var m=t;if(!t.isEvent){var p=function(e){var i=t.listPagination[e].getComponent("PaginationItem").pageOffButtonNode;i.on(cc.Node.EventType.TOUCH_END,function(){var t=i.parent.getComponent("PaginationItem").getPage();m.setPage(t)})};for(var f in t.listPagination)p(f);t.isEvent=!0}}()},showListContent:function(t){if(t*n.NUMBER_DETAIL_ITEM<this.jackpot.length)for(var e=t*n.NUMBER_DETAIL_ITEM,i=e,o=e+n.NUMBER_DETAIL_ITEM;i<o;i++)if(i<this.jackpot.length){var s=cc.instantiate(this.jackpotItemPrefab);s.getComponent("GameMiniJackpotItem").init(this.jackpot[i],i),s.parent=this.jackpotContentNode}},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)},reset:function(){this.rankButtonNode.active=!0,this.jackpotButtonNode.active=!0}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil","../../item/PaginationItem":"PaginationItem","../MiniGameConstant":"MiniGameConstant","../bau-cua/BauCuaConstant":"BauCuaConstant","../bom/BomConstant":"BomConstant","../diamond/DiamondConstant":"DiamondConstant","../mini-bacay/MiniBaCayConstant":"MiniBaCayConstant","../mini-poker/MiniPokerConstant":"MiniPokerConstant","../minigame-lottery/MiniGameLotteryConstant":"MiniGameLotteryConstant","../tai-xiu/TaiXiuConstant":"TaiXiuConstant","../tren-duoi/TrenDuoiConstant":"TrenDuoiConstant","../wild/WildConstant":"WildConstant"}],GameRecharge:[function(t,e,i){"use strict";cc._RF.push(e,"ca742e6+P9PUaZE3/vTbd+Z","GameRecharge");var n=t("./recharge/RechargeGold"),o=t("./recharge/AwardButtonCard"),s=t("./recharge/AwardCard"),a=t("./recharge/Transfer"),r=t("./recharge/Safe");cc.Class({extends:cc.Component,properties:{headerNode:cc.Node,rechargeGoldOnButtonNode:cc.Node,rechargeGoldOffButtonNode:cc.Node,awardOnButtonNode:cc.Node,awardOffButtonNode:cc.Node,transferOnButtonNode:cc.Node,transferOffButtonNode:cc.Node,safeOnButtonNode:cc.Node,safeOffButtonNode:cc.Node,awardButtonContentNode:cc.Node,rechargeGoldContentNode:cc.Node,awardContentNode:cc.Node,transferContentNode:cc.Node,safeContentNode:cc.Node,RechargeGold:n,AwardButtonCard:o,AwardCard:s,Transfer:a,Safe:r},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI,this.RechargeGold.init(t),this.AwardButtonCard.init(t),this.AwardCard.init(t),this.Transfer.init(t),this.Safe.init(t)},onLoad:function(){},onEnable:function(){this.headerNode.active=!0},onDisable:function(){this.hideAllContents()},updateMoneyGold:function(){this.RechargeGold.initData(),this.Transfer.TransferContent.initMoney(),this.AwardCard.initMoney(),this.Safe.initMoney()},onRechargeGoldClick:function(){this.GameCenter.Audio.playClick(),this.initBeforeClick(),this.rechargeGoldOnButtonNode.active=!0,this.rechargeGoldOffButtonNode.active=!1,this.rechargeGoldContentNode.active=!0},onAwardClick:function(){this.GameCenter.Audio.playClick(),this.initBeforeClick(),this.awardOnButtonNode.active=!0,this.awardOffButtonNode.active=!1,this.awardButtonContentNode.active=!0},onTransferClick:function(){this.GameCenter.Audio.playClick(),this.initBeforeClick(),this.transferOnButtonNode.active=!0,this.transferOffButtonNode.active=!1,this.transferContentNode.active=!0},onSafeClick:function(){this.GameCenter.Audio.playClick(),this.initBeforeClick(),this.safeOnButtonNode.active=!0,this.safeOffButtonNode.active=!1,this.safeContentNode.active=!0},showAwardCardNode:function(){this.awardButtonContentNode.active=!1,this.awardContentNode.active=!0},initBeforeClick:function(){this.hideAllOnButtons(),this.hideAllContents(),this.showAllOffButtons()},showAllOffButtons:function(){this.rechargeGoldOffButtonNode.active=!0,this.awardOffButtonNode.active=!0,this.transferOffButtonNode.active=!0,this.safeOffButtonNode.active=!0},hideAllOnButtons:function(){this.rechargeGoldOnButtonNode.active=!1,this.awardOnButtonNode.active=!1,this.transferOnButtonNode.active=!1,this.safeOnButtonNode.active=!1},hideAllContents:function(){this.awardButtonContentNode.active=!1,this.rechargeGoldContentNode.active=!1,this.awardContentNode.active=!1,this.transferContentNode.active=!1,this.safeContentNode.active=!1},onBackClick:function(){this.GameCenter.Audio.playClick(),this.GameCenterUI.showGameNode()}}),cc._RF.pop()},{"./recharge/AwardButtonCard":"AwardButtonCard","./recharge/AwardCard":"AwardCard","./recharge/RechargeGold":"RechargeGold","./recharge/Safe":"Safe","./recharge/Transfer":"Transfer"}],GameSlot:[function(t,e,i){"use strict";cc._RF.push(e,"fac0aczYRdERY4eYv/OhYnS","GameSlot");var n=t("../../../prefab/item/SlotGameIconItem");cc.Class({extends:cc.Component,properties:{slotSlotGameIcon:n,slot2SlotGameIcon:n},init:function(t){this.GameCenter=t},onLoad:function(){},initData:function(t){if(this.data=t,t){var e=t.zoombies,i=t.one001;this.slotSlotGameIcon.initData(e),this.slot2SlotGameIcon.initData(i)}}}),cc._RF.pop()},{"../../../prefab/item/SlotGameIconItem":"SlotGameIconItem"}],GiftCode:[function(t,e,i){"use strict";cc._RF.push(e,"25d9dQ5PUNHq6+nJ4f/HbO/","GiftCode");var n=t("../../../helper/Message");cc.Class({extends:cc.Component,properties:{giftCodeEdibox:cc.EditBox},init:function(t){this.GameCenter=t},onLoad:function(){this.editboxs=[this.giftCodeEdibox],this.dialogForm=this.node.getComponent("DialogForm")},onEnable:function(){this.clear()},onConfirmClick:function(){var t=this;this.GameCenter.Audio.playClick();var e=this.giftCodeEdibox.string;if(this.checkAllEditboxNotEmpty()){var i={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId(),code:e};this.GameCenter.api.getGiftCode(i,function(e){t.clear(),t.GameCenter.hideProcessingNode(),t.GameCenter.showDialogMessage(n.GIFTCODE_TITLE,e.msg)},function(e){t.GameCenter.hideProcessingNode(),t.GameCenter.showDialogMessage(n.GIFTCODE_TITLE,e.msg)})}else this.GameCenter.showDialogMessage(n.GIFTCODE_TITLE,n.MISSING_INFO)},checkAllEditboxNotEmpty:function(){for(var t in this.editboxs)if(""===this.editboxs[t].string)return!1;return!0},clear:function(){for(var t in this.editboxs)this.editboxs[t].string=""}}),cc._RF.pop()},{"../../../helper/Message":"Message"}],HeaderAccountUI:[function(t,e,i){"use strict";cc._RF.push(e,"66fe97kbkhJXI+cA51N4Azd","HeaderAccountUI"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{}],HeaderAccount:[function(t,e,i){"use strict";cc._RF.push(e,"b4ed80OKfNLrI3gIFa1UPO7","HeaderAccount");t("../../../util/Util");var n=t("../../../util/FormatUtil"),o=t("../../../helper/Constant");cc.Class({extends:cc.Component,properties:{avatarSprite:cc.Sprite,nameLabel:cc.Label,moneyLabel:cc.Label,goldLabel:cc.Label,messageNode:cc.Node,vipNode:cc.Node,vipSprite:cc.Sprite,vipProgressBar:cc.ProgressBar,counterMailUnreadNode:cc.Node,counterMailUnreadLabel:cc.Label,listVipSprite:[cc.SpriteFrame]},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI},onLoad:function(){},onEnable:function(){this.loadUserInfo()},loadUserInfo:function(){var t=this.GameCenter.getUser();if(t){var e=t.show_nickname,i=t.avatar;this.setNicknameLabel(e),this.initCounterUnreadMessage(),this.setAvatar(i),this.updateMoneyGold(),this.initVip()}},initVip:function(){var t=this.GameCenter.getConfig().vip,e=this.GameCenter.getVipPoint();if(t&&e){this.showVipNode();var i=e.value,n=this.getVipPointData(t,i);this.vipSprite.spriteFrame=n.sprite,this.vipProgressBar.progress=n.progress}else this.hideVipNode()},setNicknameLabel:function(t){this.nameLabel.string=t},minusUnreadMessage:function(){this.GameCenter.getUser().unread_message--,this.initCounterUnreadMessage()},plusUnreadMessage:function(){this.GameCenter.getUser().unread_message++,this.initCounterUnreadMessage(),this.showEffectNewMessage()},initCounterUnreadMessage:function(){var t=parseInt(this.GameCenter.getUser().unread_message);t>0?(this.counterMailUnreadNode.active=!0,this.counterMailUnreadLabel.string=t):this.counterMailUnreadNode.active=!1},setAvatar:function(t){var e=this;t&&cc.loader.load(t,function(t,i){if(i instanceof cc.Texture2D){var n=new cc.SpriteFrame(i,cc.Rect(0,0,90,128));e.avatarSprite.spriteFrame=n}})},updateMoneyGold:function(){var t=this.GameCenter.getSFSMySelf(),e=t.variables.money.value,i=t.variables.gold.value;this.setMoneyLabel(e),this.setGoldLabel(i)},setMoneyLabel:function(t){this.moneyLabel.string=n.numberWithCommas(t)},setGoldLabel:function(t){this.goldLabel.string=n.numberWithCommas(t)},showEffectNewMessage:function(){this.messageNode.stopAllActions(),this.messageNode.rotation=0,this.messageNode.runAction(cc.sequence(cc.rotateTo(.25,180),cc.rotateTo(.25,360),cc.callFunc(function(){this.messageNode.rotation=360},this)))},onAvatarClick:function(){this.GameCenterUI.showInfoNode(),this.GameCenter.GameInfo.onInfoClick()},onGiftCodeClick:function(){if(this.GameCenter.Audio.playClick(),this.GameCenter.isConnected()){this.GameCenter.getUser();this.GameCenterUI.showGiftCodeFormNode()}else this.GameCenterUI.showLoginFormNode()},onRechargeMoneyClick:function(){this.GameCenter.Audio.playClick(),this.GameCenterUI.showAgentFormNode()},onRechargeGoldClick:function(){this.GameCenterUI.showRechargeNode(),this.GameCenter.GameRecharge.onRechargeGoldClick()},onAwardClick:function(){this.GameCenterUI.showRechargeNode(),this.GameCenter.GameRecharge.onUseMoneyClick(),this.GameCenter.api.sendTokentoPays(this.GameCenter.getToken()),cc.sys.openURL(o.WEB_RECHARGE)},onQuestClick:function(){this.GameCenter.Audio.playClick(),this.GameCenter.MiniGame.Quest.showDialog()},onMailClick:function(){this.GameCenterUI.showInfoNode(),this.GameCenter.GameInfo.onMailClick()},onSettingClick:function(){this.GameCenter.Audio.playClick(),this.GameCenterUI.showSettingFormNode()},onSecurityClick:function(){this.GameCenterUI.showRechargeNode(),this.GameCenter.GameRecharge.onSafeClick()},onTutorialClick:function(){this.GameCenter.Audio.playClick(),this.GameCenter.isConnected()?this.GameCenterUI.showTutorialFormNode():this.GameCenterUI.showLoginFormNode()},hideVipNode:function(){this.vipNode.active=!1},showVipNode:function(){this.vipNode.active=!0},getVipPointData:function(t,e){for(var i=0,n=0,o=t.length;n<o;n++)t[n].from_money<=e&&(i=n);return{sprite:this.listVipSprite[i-1]||this.listVipSprite[0],progress:e/(i<t.length-1?t[i+1].from_money:t[i].from_money)}}}),cc._RF.pop()},{"../../../helper/Constant":"Constant","../../../util/FormatUtil":"FormatUtil","../../../util/Util":"Util"}],HeaderLogin:[function(t,e,i){"use strict";cc._RF.push(e,"f01b9fAXrRAFKfGzp93Vt11","HeaderLogin");var n=t("../../../helper/Constant");t("../../../helper/Message"),t("../../../lib/md5");cc.Class({extends:cc.Component,properties:{},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI},onLoad:function(){this.initAutoLogin()},initAutoLogin:function(){if(!this.GameCenter.isConnected()&&this.GameCenter.isAutoLogin())switch(parseInt(this.GameCenter.getAccountType())){case n.ACCOUNT_TYPE_LOGIN_FACEBOOK:this.GameCenter.loginFacebook();break;case n.ACCOUNT_TYPE_LOGIN:var t=this.GameCenter.getAccount();t&&this.GameCenter.Login.login(t.username,t.password)}},onFacebookClick:function(){this.GameCenter.loginFacebook()},onLoginClick:function(){this.GameCenterUI.showLoginFormNode()},onRegisterClick:function(){this.GameCenterUI.showRegisterFormNode()},onForgetPasswordClick:function(){this.GameCenterUI.showForgetPasswordFormNode()}}),cc._RF.pop()},{"../../../helper/Constant":"Constant","../../../helper/Message":"Message","../../../lib/md5":"md5"}],Header:[function(t,e,i){"use strict";cc._RF.push(e,"b811f4WHlBItqiVRkwkA9rV","Header");var n=t("./HeaderLogin"),o=t("./HeaderAccount");cc.Class({extends:cc.Component,properties:{HeaderLogin:n,HeaderAccount:o},init:function(t){this.GameCenter=t,this.HeaderLogin.init(t),this.HeaderAccount.init(t)},onLoad:function(){}}),cc._RF.pop()},{"./HeaderAccount":"HeaderAccount","./HeaderLogin":"HeaderLogin"}],HistoryEvent:[function(t,e,i){"use strict";cc._RF.push(e,"2a967vlpPlBB6O8UX8Y+Co1","HistoryEvent");var n=t("../../../util/FormatUtil");t("../../../helper/Constant");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,timeLabel:cc.Label,nameEventLabel:cc.Label,feeGoldLabel:cc.Label,prizeLabel:cc.Label,statusSuccessLabel:cc.Label,statusFailureLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e){if(t){this.timeLabel.string=n.getDateByTimeStamp(t.created_at),this.prizeLabel.string=n.nFormatter(t.prize),this.feeGoldLabel.string=n.nFormatter(t.fee_gold),this.nameEventLabel.string=this.getEventNameBuyLevelId(t.diamond_level_id),1===t.status?(this.statusSuccessLabel.node.active=!0,this.statusFailureLabel.node.active=!1):(this.statusSuccessLabel.node.active=!1,this.statusFailureLabel.node.active=!0);var i=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=i}else this.node.active=!1},onLoad:function(){},getEventNameBuyLevelId:function(t){switch(t){case 0:return"Xe \u0110\u1ea1p";case 1:return"Xe \u0110i\u1ec7n";case 2:return"Xe Wave";case 3:return"Xe Lead";case 4:return"Xe Ducati";case 5:return"Xe Mazda 3";default:return""}}}),cc._RF.pop()},{"../../../helper/Constant":"Constant","../../../util/FormatUtil":"FormatUtil"}],HotUpdate:[function(t,e,i){"use strict";cc._RF.push(e,"0beff9PBvpHup1yYbTMdOC5","HotUpdate");var n=t("../../helper/Message");cc.Class({extends:cc.Component,properties:{manifestUrl:{type:cc.Asset,default:null},retryButtonNode:cc.Node,updateProgressBar:cc.ProgressBar,messageLabel:cc.Label,_updating:!1,_canRetry:!1,_storagePath:"",progressBarNode:cc.Node},init:function(t){this.Splash=t},onLoad:function(){},start:function(){cc.sys.isNative?(this.initHotUpdate(),this.checkUpdate()):this.Splash.loadAssets()},onDestroy:function(){this._updateListener&&(this._am.setEventCallback(null),this._updateListener=null)},initHotUpdate:function(){this._storagePath=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"xuvin-remote-asset",console.log("Storage path for remote asset : "+this._storagePath),this._am=new jsb.AssetsManager("",this._storagePath,this.versionCompareHandle),this._am.setVerifyCallback(function(t,e){e.compressed;return!0}),cc.sys.os===cc.sys.OS_ANDROID&&this._am.setMaxConcurrentTask(2),this.updateProgressBar.progress=0},checkUpdate:function(){if(this._updating)this.messageLabel.string=n.HOT_UPDATE_CHECKING_VERSION;else{if(this._am.getState()===jsb.AssetsManager.State.UNINITED){var t=this.manifestUrl.nativeUrl;cc.loader.md5Pipe&&(t=cc.loader.md5Pipe.transformURL(t)),this._am.loadLocalManifest(t)}this._am.getLocalManifest()&&this._am.getLocalManifest().isLoaded()&&(this._am.setEventCallback(this.checkCb.bind(this)),this._am.checkUpdate(),this._updating=!0)}},hotUpdate:function(){if(this._am&&!this._updating){if(this._am.setEventCallback(this.updateCb.bind(this)),this._am.getState()===jsb.AssetsManager.State.UNINITED){var t=this.manifestUrl.nativeUrl;cc.loader.md5Pipe&&(t=cc.loader.md5Pipe.transformURL(t)),this._am.loadLocalManifest(t)}this._failCount=0,this._am.update(),this._updating=!0}},retry:function(){!this._updating&&this._canRetry&&(this.retryButtonNode.active=!1,this._canRetry=!1,this.messageLabel.string=n.HOT_UPDATE_RETRY,this._am.downloadFailedAssets())},checkCb:function(t){var e=!1,i=!1;switch(console.log("Code: "+t.getEventCode()),t.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.messageLabel.string=n.HOT_UPDATE_NOT_FOUND;break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this.messageLabel.string=n.HOT_UPDATE_DOWNLOAD_MANIFEST_FAILED;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:this.updateProgressBar.progress=1,this.messageLabel.string=n.HOT_UPDATE_ALREADY_UP_TO_DATE,e=!0;break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:this.messageLabel.string=n.HOT_UPDATE_FOUND_UPDATE,this.progressBarNode.active=!0,this.updateProgressBar.progress=0,i=!0;break;default:return}this._am.setEventCallback(null),this._checkListener=null,this._updating=!1,e&&this.Splash.loadAssets(),i&&this.hotUpdate()},updateCb:function(t){var e=!1,i=!1;switch(t.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:console.log(),this.messageLabel.string=n.HOT_UPDATE_NOT_FOUND,i=!0;break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:this.updateProgressBar.progress=t.getPercent(),this.messageLabel.string=n.HOT_UPDATE_UPDATING;break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this.messageLabel.string=n.HOT_UPDATE_DOWNLOAD_MANIFEST_FAILED,i=!0;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:this.updateProgressBar.progress=1,this.messageLabel.string=n.HOT_UPDATE_ALREADY_UP_TO_DATE,i=!0;break;case jsb.EventAssetsManager.UPDATE_FINISHED:this.messageLabel.string=n.HOT_UPDATE_UPDATE_SUCCESS,e=!0;break;case jsb.EventAssetsManager.UPDATE_FAILED:this.messageLabel.string=n.HOT_UPDATE_UPDATE_FAILED,this.retryButtonNode.active=!0,this._updating=!1,this._canRetry=!0;break;case jsb.EventAssetsManager.ERROR_UPDATING:this.messageLabel.string=n.HOT_UPDATE_UPDATE_FAILED;break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:this.messageLabel.string=t.getMessage()}if(i&&(this._am.setEventCallback(null),this._updateListener=null,this._updating=!1),e){this._am.setEventCallback(null),this._updateListener=null;var o=jsb.fileUtils.getSearchPaths(),s=this._am.getLocalManifest().getSearchPaths();console.log(JSON.stringify(s)),Array.prototype.unshift.apply(o,s),cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(o)),jsb.fileUtils.setSearchPaths(o),cc.audioEngine.stopAll(),console.log("update success... restart game"),cc.game.restart()}},onRetryClick:function(){this.retry()},versionCompareHandle:function(t,e){console.log("JS Custom Version Compare: version A is "+t+", version B is "+e);for(var i=t.split("."),n=e.split("."),o=0;o<i.length;++o){var s=parseInt(i[o]),a=parseInt(n[o]||0);if(s!==a)return s-a}return n.length>i.length?-1:0}}),cc._RF.pop()},{"../../helper/Message":"Message"}],HuLocState:[function(t,e,i){"use strict";cc._RF.push(e,"979a2LbujVE1Y+a5xT9kQIl","HuLocState");e.exports={currentState:null,WAITTING:"WAITTING",REGISTER:"REGISTER",setState:function(t){this.currentState=t},setWaitting:function(){this.currentState=this.WAITTING},setRegister:function(){this.currentState=this.REGISTER},isWaitting:function(){return this.currentState===this.WAITTING},isRegister:function(){return this.currentState===this.REGISTER}},cc._RF.pop()},{}],HuLoc:[function(t,e,i){"use strict";cc._RF.push(e,"84586n3tUJGuZr2/Tj0HQ8I","HuLoc");var n=t("../../../helper/Message"),o=t("./BonusConstant"),s=t("./HuLocState"),a=t("../../../util/FormatUtil"),r=t("../../../util/Util");cc.Class({extends:cc.Component,properties:{contentHuLocNode:cc.Node,buttonXinLocNode:cc.Node,timeLabel:cc.Label},init:function(t){this.BonusEvent=t},onLoad:function(){this.HuLocState=s,this.intervalTime=null},onEnable:function(){console.log("onEnable"),this.removeIntervalTime(),this.BonusEvent.sendRequest.sendNoPrefixToZone(o.HU_LOC_ADD_EVENT)},onDisable:function(){this.removeIntervalTime(),this.BonusEvent.sendRequest.sendNoPrefixToZone(o.HU_LOC_REMOVE_EVENT)},handleRequest:function(t){if(t.status){var e=t.data.game_cmd,i=t.data.game_data,n=t.data.game_msg;switch(console.log(e),console.log(i),e){case o.INFO:this.handleInfo(i);break;case o.RUT_LOC:this.handleRutLoc(i);break;case o.PHAT_LOC:this.handlePhatLoc(i);break;case o.PLAYER_RUT_LOC:this.handlePlayerRutLoc(i);break;case o.MESSAGE:this.handleMessage(n)}}},handleInfo:function(t){this.HuLocState.setState(t.game_state),this.HuLocState.isRegister()?(this.resetRutLoc(),this.startIntervalTime(t.TIME||t.time)):this.resetPhatLoc()},handleRutLoc:function(t){this.resetRutLoc(),this.HuLocState.setRegister(),this.startIntervalTime(t.TIME||t.time)},handlePhatLoc:function(t){this.HuLocState.setWaitting(),this.resetPhatLoc();var e=this.getMoneyPhatLoc(t.list_phat_loc);if(e){var i=String.format(n.HU_LOC_MESSAGE,a.numberWithCommas(e));this.BonusEvent.controller.showDialogMessage(n.NOTIFICATION_TITLE,i)}},handlePlayerRutLoc:function(t){var e=this.BonusEvent.getUser().nick_name;r.getServerIdByShowNickName(this.BonusEvent.getUser().show_nickname);t.nick_name===e&&this.BonusEvent.showMessage(n.HU_LOC_REGISTER)},handleMessage:function(t){this.BonusEvent.showMessage(t)},onRutLocClick:function(){1==this.BonusEvent.getUser().status_value?this.HuLocState.isRegister()?this.BonusEvent.huLocRutLoc():this.BonusEvent.showMessage("Ch\u01b0a ph\u1ea3i th\u1eddi gian xin r\xfat l\u1ed9c"):this.BonusEvent.showFormBonusMessage()},startIntervalTime:function(t){this.contentHuLocNode.active&&(this.removeIntervalTime(),this.timeRemain=t,this.timeLabel.string=a.numberToTime(this.timeRemain),this.intervalTime=setInterval(function(){this.timeRemain--,this.timeRemain>=0&&(this.timeLabel.string=a.numberToTime(this.timeRemain))}.bind(this),1e3))},removeIntervalTime:function(){clearInterval(this.intervalTime)},resetRutLoc:function(){this.contentHuLocNode.active=!0},resetPhatLoc:function(){this.contentHuLocNode.active=!1},getMoneyPhatLoc:function(t){var e=this.BonusEvent.getUser().nick_name;r.getServerIdByShowNickName(this.BonusEvent.getUser().show_nickname);for(var i in t)if(e===t[i].nick_name)return t[i].amount;return 0}}),cc._RF.pop()},{"../../../helper/Message":"Message","../../../util/FormatUtil":"FormatUtil","../../../util/Util":"Util","./BonusConstant":"BonusConstant","./HuLocState":"HuLocState"}],InfoAccount:[function(t,e,i){"use strict";cc._RF.push(e,"e4063zDjf5LjrxVMT2R1eWR","InfoAccount");var n=t("../../../util/FormatUtil"),o=t("./account/VipAccount");cc.Class({extends:cc.Component,properties:{avatarSprite:cc.Sprite,nameLabel:cc.Label,idLabel:cc.Label,emailLabel:cc.Label,phoneLabel:cc.Label,moneyLabel:cc.Label,dateCreatedLabel:cc.Label,authenticationLabel:cc.Label,ipLabel:cc.Label,VipAccount:o},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI,this.GameInfo=t.GameInfo,this.VipAccount.init(t)},onLoad:function(){var t=this.GameCenter.getUser();this.dateCreatedLabel.string=n.getDateByTimeStamp(t.created_at),this.authenticationLabel.string=t.status},onEnable:function(){this.loadUserInfo()},loadUserInfo:function(){var t=this.GameCenter.getUser();if(t){var e=t.show_nickname,i=t.avatar;this.setNicknameLabel(e),this.idLabel.string=t.user_id,this.emailLabel.string=t.email||"",this.phoneLabel.string=t.phone||"",this.setAvatar(i),this.updateMoneyGold()}},setNicknameLabel:function(t){this.nameLabel.string=t},setAvatar:function(t){var e=this;t&&cc.loader.load(t,function(t,i){if(i instanceof cc.Texture2D){var n=new cc.SpriteFrame(i,cc.Rect(0,0,90,128));e.avatarSprite.spriteFrame=n}})},updateMoneyGold:function(){var t=this.GameCenter.getSFSMySelf(),e=t.variables.money.value;t.variables.gold.value;this.setMoneyLabel(e)},setMoneyLabel:function(t){this.moneyLabel.string=n.numberWithCommas(t)},onUpdateAvatarClick:function(){this.GameCenter.Audio.playClick(),this.GameCenterUI.showUpdateAvatarFormNode()},onChangePasswordClick:function(){this.GameCenter.Audio.playClick(),this.GameCenterUI.showChangePasswordFormNode()}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil","./account/VipAccount":"VipAccount"}],InfoAwardHistory:[function(t,e,i){"use strict";cc._RF.push(e,"abe84iF5ihN6byFc3hxFsRq","InfoAwardHistory");var n=t("../../../../helper/Config"),o=t("../../../../helper/Message");cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,contentNode:cc.Node,awardHistoryItemPrefab:cc.Prefab,listNode:cc.Node,paginationNode:cc.Node,paginationItemPrefab:cc.Prefab},init:function(t){this.GameCenter=t,this.GameInfo=t.GameInfo},onLoad:function(){},onDisable:function(){this.removeXhr()},getData:function(){var t=this;this.data=null,this.isGetData=!1,this.listNode.removeAllChildren(!0),this.showLoadingNode();var e={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId()};this.GameCenter.api.historyAward(e,function(e){t.data=e.data,t.data=t.data.reverse(),t.isGetData=!0,t.getPage()},function(e){t.isGetData=!0,t.showListNode(),t.GameCenter.showDialogMessage(o.HISTORY_TITLE,e.msg)})},getPage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.showListNode(),this.listNode.removeAllChildren(!0),this.paginationNode.removeAllChildren(!0),this.listPagination=[],this.isGetData?this.data&&this.data.length>0&&function(){for(var i=parseInt((t.data.length-1)/n.HISTORY_PAGINATION)+1,o=n.HISTORY_PAGINATION*e,s=t.data.length>(e+1)*n.HISTORY_PAGINATION?(e+1)*n.HISTORY_PAGINATION:t.data.length,a=o;a<s;a++){var r=cc.instantiate(t.awardHistoryItemPrefab);r.parent=t.listNode,r.getComponent("AwardHistoryItem").init(t.data[a],a)}var c=cc.instantiate(t.paginationItemPrefab),h=c.getComponent("PaginationItem");c.parent=t.paginationNode,h.init("<<",0),h.enable(),t.listPagination.push(c);var l=cc.instantiate(t.paginationItemPrefab),u=l.getComponent("PaginationItem");l.parent=t.paginationNode,u.init("<",e-1),u.enable(),t.listPagination.push(l);for(var d=0;d<i;d++){var m=cc.instantiate(t.paginationItemPrefab),p=m.getComponent("PaginationItem");m.parent=t.paginationNode,p.init(d+1,d),d===e?p.disable():p.enable(),t.listPagination.push(m)}var f=cc.instantiate(t.paginationItemPrefab),_=f.getComponent("PaginationItem");f.parent=t.paginationNode,_.init(">",e+1),_.enable(),t.listPagination.push(f);var S=cc.instantiate(t.paginationItemPrefab),g=S.getComponent("PaginationItem");S.parent=t.paginationNode,g.init(">>",i-1),g.enable(),t.listPagination.push(S);var N=t,I=function(e){var n=t.listPagination[e].getComponent("PaginationItem").pageOffButtonNode;n.on(cc.Node.EventType.TOUCH_END,function(){var t=n.parent.getComponent("PaginationItem").getPage();t<0&&(t=0),t>i-1&&(t=i-1),N.getPage(t)})};for(var C in t.listPagination)I(C)}():this.getData()},reset:function(){this.data=null,this.isGetData=!1},showLoadingNode:function(){this.loadingNode.active=!0,this.contentNode.active=!1},showListNode:function(){this.loadingNode.active=!1,this.contentNode.active=!0},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{"../../../../helper/Config":"Config","../../../../helper/Message":"Message"}],InfoGame:[function(t,e,i){"use strict";cc._RF.push(e,"92c507Ek8JHyq3uG0NFJYsn","InfoGame");var n=t("../../../../helper/Message"),o=t("../../../../helper/Constant");cc.Class({extends:cc.Component,properties:{otpEditBox:cc.EditBox,xocdiaToggle:cc.Toggle,bacayToggle:cc.Toggle,maubinhToggle:cc.Toggle,phomToggle:cc.Toggle,samToggle:cc.Toggle,samsoloToggle:cc.Toggle,pokerToggle:cc.Toggle,xitoToggle:cc.Toggle,liengToggle:cc.Toggle,tlmnToggle:cc.Toggle,tlmnsoloToggle:cc.Toggle,smsButtonNode:cc.Node,otpButtonNode:cc.Node},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI},onLoad:function(){},onEnable:function(){this.initData()},initData:function(){var t=this.GameCenter.getSecurityGame();if(this.reset(),t){var e=!!t.BACAY,i=!!t.LIENG,n=!!t.MAUBINH,o=!!t.PHOM,s=!!t.POKER,a=!!t.SAM,r=!!t.SAM_SOLO,c=!!t.TLMN,h=!!t.TLMN_SOLO,l=!!t.XITO,u=!!t.XOCDIA;this.bacayToggle.isChecked=e,this.liengToggle.isChecked=i,this.maubinhToggle.isChecked=n,this.phomToggle.isChecked=o,this.samToggle.isChecked=a,this.samsoloToggle.isChecked=r,this.pokerToggle.isChecked=s,this.tlmnToggle.isChecked=c,this.tlmnsoloToggle.isChecked=h,this.xitoToggle.isChecked=l,this.xocdiaToggle.isChecked=u}else this.xocdiaToggle.isChecked=!0,this.bacayToggle.isChecked=!0,this.maubinhToggle.isChecked=!0,this.phomToggle.isChecked=!0,this.samToggle.isChecked=!1,this.samsoloToggle.isChecked=!1,this.pokerToggle.isChecked=!1,this.xitoToggle.isChecked=!1,this.liengToggle.isChecked=!1,this.tlmnToggle.isChecked=!0,this.tlmnsoloToggle.isChecked=!0},onGetOtpClick:function(){this.GameCenter.showProcessingNode(),this.GameCenter.sendRequest.sendToZone(o.REQUEST_GET_OTP)},onSendSecurityClick:function(){var t=this.otpEditBox.string;""===t?this.GameCenter.showDialogMessage(n.SECURITY_GAME,n.OTP_NOT_EMPTY):this.security(t)},onOTPClick:function(){this.smsButtonNode.active=!0,this.otpButtonNode.active=!1},onSMSClick:function(){this.smsButtonNode.active=!1,this.otpButtonNode.active=!0},security:function(t){var e=this,i=this.getData();i.otp=t,i.token=this.GameCenter.getToken(),i.user_id=this.GameCenter.getUserId(),console.log(i);this.GameCenter.showProcessingNode(),this.GameCenter.api.securityGame(i,function(t){e.GameCenter.hideProcessingNode(),e.GameCenter.showDialogMessage(n.SECURITY_GAME,t.msg),e.GameCenter.setSecurityGame(i)},function(t){e.GameCenter.hideProcessingNode(),e.GameCenter.showDialogMessage(n.SECURITY_GAME,t.msg),e.otpEditBox.string=""})},getData:function(){var t=this.bacayToggle.isChecked?1:0,e=this.liengToggle.isChecked?1:0,i=this.maubinhToggle.isChecked?1:0,n=this.phomToggle.isChecked?1:0,o=this.pokerToggle.isChecked?1:0;return{BACAY:t,CHAN:1,LIENG:e,MAUBINH:i,PHOM:n,SAM:this.samToggle.isChecked?1:0,SAM_SOLO:this.samsoloToggle.isChecked?1:0,POKER:o,XITO:this.xitoToggle.isChecked?1:0,TLMN:this.tlmnToggle.isChecked?1:0,TLMN_SOLO:this.tlmnsoloToggle.isChecked?1:0,XOCDIA:this.xocdiaToggle.isChecked?1:0}},reset:function(){this.otpEditBox.string="",this.xocdiaToggle.isChecked=!1,this.bacayToggle.isChecked=!1,this.maubinhToggle.isChecked=!1,this.phomToggle.isChecked=!1,this.samToggle.isChecked=!1,this.samsoloToggle.isChecked=!1,this.pokerToggle.isChecked=!1,this.xitoToggle.isChecked=!1,this.liengToggle.isChecked=!1,this.tlmnToggle.isChecked=!1,this.tlmnsoloToggle.isChecked=!1}}),cc._RF.pop()},{"../../../../helper/Constant":"Constant","../../../../helper/Message":"Message"}],InfoHistory:[function(t,e,i){"use strict";cc._RF.push(e,"a949dhBawJIUao3rZ0K/nk3","InfoHistory");var n=t("./history/InfoPlayMoneyHistory"),o=t("./history/InfoPlayGoldHistory"),s=t("./history/InfoAwardHistory"),a=t("./history/InfoRechargeMoneyHistory"),r=t("./history/InfoRechargeGoldHistory");cc.Class({extends:cc.Component,properties:{infoHeaderNode:cc.Node,playMoneyOnButtonNode:cc.Node,playMoneyOffButtonNode:cc.Node,playGoldOnButtonNode:cc.Node,playGoldOffButtonNode:cc.Node,awardOnButtonNode:cc.Node,awardOffButtonNode:cc.Node,rechargeMoneyOnButtonNode:cc.Node,rechargeMoneyOffButtonNode:cc.Node,rechargeGoldOnButtonNode:cc.Node,rechargeGoldOffButtonNode:cc.Node,playMoneyContentNode:cc.Node,playGoldContentNode:cc.Node,awardContentNode:cc.Node,rechargeMoneyContentNode:cc.Node,rechargeGoldContentNode:cc.Node,InfoPlayMoneyHistory:n,InfoPlayGoldHistory:o,InfoAwardHistory:s,InfoRechargeMoneyHistory:a,InfoRechargeGoldHistory:r},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI,this.GameInfo=t.GameInfo,this.InfoPlayMoneyHistory.init(t),this.InfoPlayGoldHistory.init(t),this.InfoAwardHistory.init(t),this.InfoRechargeMoneyHistory.init(t),this.InfoRechargeGoldHistory.init(t)},onLoad:function(){},onEnable:function(){this.infoHeaderNode.active=!1,this.showPlayMoneyHistories()},onDisable:function(){this.infoHeaderNode.active=!0,this.InfoPlayMoneyHistory.reset(),this.InfoPlayGoldHistory.reset(),this.InfoAwardHistory.reset(),this.InfoRechargeMoneyHistory.reset(),this.InfoRechargeGoldHistory.reset(),this.hideAllContents()},onBackClick:function(){this.GameCenterUI.showInfoNode(),this.GameCenter.GameInfo.onInfoClick()},onPlayMoneyClick:function(){this.GameCenter.Audio.playClick(),this.showPlayMoneyHistories()},showPlayMoneyHistories:function(){this.initBeforeClick(),this.playMoneyOnButtonNode.active=!0,this.playMoneyOffButtonNode.active=!1,this.playMoneyContentNode.active=!0,this.InfoPlayMoneyHistory.getPage()},onPlayGoldClick:function(){this.GameCenter.Audio.playClick(),this.showPlayGoldHistories()},showPlayGoldHistories:function(){this.initBeforeClick(),this.playGoldOnButtonNode.active=!0,this.playGoldOffButtonNode.active=!1,this.playGoldContentNode.active=!0,this.InfoPlayGoldHistory.getPage()},onAwardClick:function(){this.GameCenter.Audio.playClick(),this.showAwardHistories()},showAwardHistories:function(){this.initBeforeClick(),this.awardOnButtonNode.active=!0,this.awardOffButtonNode.active=!1,this.awardContentNode.active=!0,this.InfoAwardHistory.getPage()},onRechargeMoneyClick:function(){this.GameCenter.Audio.playClick(),this.showRechargeMoneyHistores()},showRechargeMoneyHistores:function(){this.initBeforeClick(),this.rechargeMoneyOnButtonNode.active=!0,this.rechargeMoneyOffButtonNode.active=!1,this.rechargeMoneyContentNode.active=!0,this.InfoRechargeMoneyHistory.getPage()},onRechargeGoldClick:function(){this.GameCenter.Audio.playClick(),this.showRechargeGoldHistories()},showRechargeGoldHistories:function(){this.initBeforeClick(),this.rechargeGoldOnButtonNode.active=!0,this.rechargeGoldOffButtonNode.active=!1,this.rechargeGoldContentNode.active=!0,this.InfoRechargeGoldHistory.getPage()},initBeforeClick:function(){this.hideAllOnButtons(),this.hideAllContents(),this.showAllOffButtons()},showAllOffButtons:function(){this.playMoneyOffButtonNode.active=!0,this.playGoldOffButtonNode.active=!0,this.awardOffButtonNode.active=!0,this.rechargeMoneyOffButtonNode.active=!0,this.rechargeGoldOffButtonNode.active=!0},hideAllOnButtons:function(){this.playMoneyOnButtonNode.active=!1,this.playGoldOnButtonNode.active=!1,this.awardOnButtonNode.active=!1,this.rechargeMoneyOnButtonNode.active=!1,this.rechargeGoldOnButtonNode.active=!1},hideAllContents:function(){this.playMoneyContentNode.active=!1,this.playGoldContentNode.active=!1,this.awardContentNode.active=!1,this.rechargeMoneyContentNode.active=!1,this.rechargeGoldContentNode.active=!1}}),cc._RF.pop()},{"./history/InfoAwardHistory":"InfoAwardHistory","./history/InfoPlayGoldHistory":"InfoPlayGoldHistory","./history/InfoPlayMoneyHistory":"InfoPlayMoneyHistory","./history/InfoRechargeGoldHistory":"InfoRechargeGoldHistory","./history/InfoRechargeMoneyHistory":"InfoRechargeMoneyHistory"}],InfoMail:[function(t,e,i){"use strict";cc._RF.push(e,"a2c76J6LotKaKP5EahAcwvA","InfoMail");var n=t("../../../helper/Message"),o=t("../../../helper/Config"),s=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{backNode:cc.Node,loadingNode:cc.Node,listMailNode:cc.Node,mailDetailNode:cc.Node,noMailNode:cc.Node,mailItemPrefab:cc.Prefab,rechargeCardPrefab:cc.Prefab,mailScrollView:cc.ScrollView,paginationNode:cc.Node,paginationItemPrefab:cc.Prefab,mailDetailTitleLabel:cc.Label,mailDetailInfoLabel:cc.Label,mailDetailContentLabel:cc.Label,mailListCardScrollView:cc.ScrollView},init:function(t){this.GameCenter=t,this.GameInfo=t.GameInfo},onLoad:function(){},onEnable:function(){this.data=null,this.showListMailNode(),this.initData()},onDisable:function(){this.backNode.active=!0},initData:function(){var t=this;this.showLoadingNode(),this.mailScrollView.content.removeAllChildren(!0),this.paginationNode.removeAllChildren(!0);var e={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId()};this.GameCenter.api.getListMessage(e,function(e){t.data=e.data,t.getPage()},function(e){t.showListNode(),t.GameCenter.showDialogMessage(n.MAIL_TITLE,e.msg)})},getPage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.showListNode(),this.currentPage=e,this.mailScrollView.content.removeAllChildren(!0),this.paginationNode.removeAllChildren(!0),this.listPagination=[],this.data&&this.data.length>0?function(){for(var i=parseInt((t.data.length-1)/o.MAIL_PAGINATION)+1,n=o.MAIL_PAGINATION*e,s=t.data.length>(e+1)*o.MAIL_PAGINATION?(e+1)*o.MAIL_PAGINATION:t.data.length,a=n;a<s;a++){var r=cc.instantiate(t.mailItemPrefab);r.parent=t.mailScrollView.content,r.getComponent("MailItem").init(t.GameCenter,t.data[a])}var c=cc.instantiate(t.paginationItemPrefab),h=c.getComponent("PaginationItem");c.parent=t.paginationNode,h.init("<<",0),h.enable(),t.listPagination.push(c);var l=cc.instantiate(t.paginationItemPrefab),u=l.getComponent("PaginationItem");l.parent=t.paginationNode,u.init("<",e-1),u.enable(),t.listPagination.push(l);for(var d=0;d<i;d++){var m=cc.instantiate(t.paginationItemPrefab),p=m.getComponent("PaginationItem");m.parent=t.paginationNode,p.init(d+1,d),d===e?p.disable():p.enable(),t.listPagination.push(m)}var f=cc.instantiate(t.paginationItemPrefab),_=f.getComponent("PaginationItem");f.parent=t.paginationNode,_.init(">",e+1),_.enable(),t.listPagination.push(f);var S=cc.instantiate(t.paginationItemPrefab),g=S.getComponent("PaginationItem");S.parent=t.paginationNode,g.init(">>",i-1),g.enable(),t.listPagination.push(S);var N=t,I=function(e){var n=t.listPagination[e].getComponent("PaginationItem").pageOffButtonNode;n.on(cc.Node.EventType.TOUCH_END,function(){var t=n.parent.getComponent("PaginationItem").getPage();t<0&&(t=0),t>i-1&&(t=i-1),N.getPage(t)})};for(var C in t.listPagination)I(C)}():(this.listMailNode.active=!1,this.noMailNode.active=!0)},removeMail:function(t){if(this.data)for(var e in this.data)this.data[e].id===t&&(this.data.splice(e,1),this.getPage(this.currentPage))},showListMailNode:function(){this.listMailNode.active=!0,this.mailDetailNode.active=!1,this.noMailNode.active=!1},showMailDetailNode:function(t){if(this.backNode.active=!1,this.listMailNode.active=!1,this.mailDetailNode.active=!0,this.mailDetailTitleLabel.string=t.title,t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.mailDetailInfoLabel.string=String.format(n.MAIL_DETAIL_TITLE,t.from_username,s.getStringDateByTimeStamp(t.created_at)),1==t.msg_type){this.mailDetailContentLabel.node.active=!1,this.mailListCardScrollView.node.active=!0,this.mailListCardScrollView.content.removeAllChildren(!0);var e=JSON.parse(t.content);if(e)for(var i in e){var o=cc.instantiate(this.rechargeCardPrefab);o.parent=this.mailListCardScrollView.content,o.getComponent("RechargeCardItem").init(this.GameCenter,e[i])}}else this.mailDetailContentLabel.node.active=!0,this.mailListCardScrollView.node.active=!1,this.mailDetailContentLabel.string=t.content},onBackClick:function(){this.GameCenter.Audio.playClick(),this.showListMailNode(),this.backNode.active=!0},showLoadingNode:function(){this.loadingNode.active=!0,this.mailScrollView.node.active=!1},showListNode:function(){this.loadingNode.active=!1,this.mailScrollView.node.active=!0},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../helper/Message":"Message","../../../util/FormatUtil":"FormatUtil"}],InfoPlayGoldHistory:[function(t,e,i){"use strict";cc._RF.push(e,"f6670jpgT9DIYV8spcQqQEN","InfoPlayGoldHistory");var n=t("../../../../helper/Constant"),o=t("../../../../helper/Message"),s=t("../../../../helper/Config");cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,contentNode:cc.Node,playMoneyHistoryItemPrefab:cc.Prefab,playMoneyLayoutNode:cc.Node,paginationNode:cc.Node,paginationItemPrefab:cc.Prefab},init:function(t){this.GameCenter=t,this.GameInfo=t.GameInfo},onLoad:function(){},onDisable:function(){this.removeXhr()},getData:function(){var t=this;this.data=null,this.isGetData=!1,this.playMoneyLayoutNode.removeAllChildren(!0),this.showLoadingNode();var e={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId(),money_type:n.GOLD_CODE};this.GameCenter.api.getPlayHistory(e,function(e){t.data=e.data,t.isGetData=!0,t.getPage()},function(e){t.isGetData=!0,t.showListNode(),t.GameCenter.showDialogMessage(o.HISTORY_TITLE,e.msg)})},getPage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.showListNode(),this.playMoneyLayoutNode.removeAllChildren(!0),this.paginationNode.removeAllChildren(!0),this.listPagination=[],this.isGetData?this.data&&this.data.length>0&&function(){for(var i=parseInt((t.data.length-1)/s.HISTORY_PAGINATION)+1,n=s.HISTORY_PAGINATION*e,o=t.data.length>(e+1)*s.HISTORY_PAGINATION?(e+1)*s.HISTORY_PAGINATION:t.data.length,a=n;a<o;a++){var r=cc.instantiate(t.playMoneyHistoryItemPrefab);r.parent=t.playMoneyLayoutNode,r.getComponent("PlayHistoryItem").init(t.data[a],a)}var c=cc.instantiate(t.paginationItemPrefab),h=c.getComponent("PaginationItem");c.parent=t.paginationNode,h.init("<<",0),h.enable(),t.listPagination.push(c);var l=cc.instantiate(t.paginationItemPrefab),u=l.getComponent("PaginationItem");l.parent=t.paginationNode,u.init("<",e-1),u.enable(),t.listPagination.push(l);for(var d=0;d<i;d++){var m=cc.instantiate(t.paginationItemPrefab),p=m.getComponent("PaginationItem");m.parent=t.paginationNode,p.init(d+1,d),d===e?p.disable():p.enable(),t.listPagination.push(m)}var f=cc.instantiate(t.paginationItemPrefab),_=f.getComponent("PaginationItem");f.parent=t.paginationNode,_.init(">",e+1),_.enable(),t.listPagination.push(f);var S=cc.instantiate(t.paginationItemPrefab),g=S.getComponent("PaginationItem");S.parent=t.paginationNode,g.init(">>",i-1),g.enable(),t.listPagination.push(S);var N=t,I=function(e){var n=t.listPagination[e].getComponent("PaginationItem").pageOffButtonNode;n.on(cc.Node.EventType.TOUCH_END,function(){var t=n.parent.getComponent("PaginationItem").getPage();t<0&&(t=0),t>i-1&&(t=i-1),N.getPage(t)})};for(var C in t.listPagination)I(C)}():this.getData()},reset:function(){this.data=null,this.isGetData=!1},showLoadingNode:function(){this.loadingNode.active=!0,this.contentNode.active=!1},showListNode:function(){this.loadingNode.active=!1,this.contentNode.active=!0},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{"../../../../helper/Config":"Config","../../../../helper/Constant":"Constant","../../../../helper/Message":"Message"}],InfoPlayMoneyHistory:[function(t,e,i){"use strict";cc._RF.push(e,"6564foCCy9Ioq6yK2DqW+Z7","InfoPlayMoneyHistory");var n=t("../../../../helper/Constant"),o=t("../../../../helper/Config"),s=t("../../../../helper/Message");cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,contentNode:cc.Node,playMoneyHistoryItemPrefab:cc.Prefab,playMoneyLayoutNode:cc.Node,paginationNode:cc.Node,paginationItemPrefab:cc.Prefab},init:function(t){this.GameCenter=t,this.GameInfo=t.GameInfo},onLoad:function(){},onDisable:function(){this.removeXhr()},getData:function(){var t=this;this.data=null,this.isGetData=!1,this.playMoneyLayoutNode.removeAllChildren(!0),this.showLoadingNode();var e={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId(),money_type:n.MONEY_CODE};this.GameCenter.api.getPlayHistory(e,function(e){t.data=e.data,t.isGetData=!0,t.getPage()},function(e){t.isGetData=!0,t.showListNode(),t.GameCenter.showDialogMessage(s.HISTORY_TITLE,e.msg)})},getPage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.showListNode(),this.playMoneyLayoutNode.removeAllChildren(!0),this.paginationNode.removeAllChildren(!0),this.listPagination=[],this.isGetData?this.data&&this.data.length>0&&function(){for(var i=parseInt((t.data.length-1)/o.HISTORY_PAGINATION)+1,n=o.HISTORY_PAGINATION*e,s=t.data.length>(e+1)*o.HISTORY_PAGINATION?(e+1)*o.HISTORY_PAGINATION:t.data.length,a=n;a<s;a++){var r=cc.instantiate(t.playMoneyHistoryItemPrefab);r.parent=t.playMoneyLayoutNode,r.getComponent("PlayHistoryItem").init(t.data[a],a)}var c=cc.instantiate(t.paginationItemPrefab),h=c.getComponent("PaginationItem");c.parent=t.paginationNode,h.init("<<",0),h.enable(),t.listPagination.push(c);var l=cc.instantiate(t.paginationItemPrefab),u=l.getComponent("PaginationItem");l.parent=t.paginationNode,u.init("<",e-1),u.enable(),t.listPagination.push(l);for(var d=0;d<i;d++){var m=cc.instantiate(t.paginationItemPrefab),p=m.getComponent("PaginationItem");m.parent=t.paginationNode,p.init(d+1,d),d===e?p.disable():p.enable(),t.listPagination.push(m)}var f=cc.instantiate(t.paginationItemPrefab),_=f.getComponent("PaginationItem");f.parent=t.paginationNode,_.init(">",e+1),_.enable(),t.listPagination.push(f);var S=cc.instantiate(t.paginationItemPrefab),g=S.getComponent("PaginationItem");S.parent=t.paginationNode,g.init(">>",i-1),g.enable(),t.listPagination.push(S);var N=t,I=function(e){var n=t.listPagination[e].getComponent("PaginationItem").pageOffButtonNode;n.on(cc.Node.EventType.TOUCH_END,function(){var t=n.parent.getComponent("PaginationItem").getPage();t<0&&(t=0),t>i-1&&(t=i-1),N.getPage(t)})};for(var C in t.listPagination)I(C)}():this.getData()},reset:function(){this.data=null,this.isGetData=!1},showLoadingNode:function(){this.loadingNode.active=!0,this.contentNode.active=!1},showListNode:function(){this.loadingNode.active=!1,this.contentNode.active=!0},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{"../../../../helper/Config":"Config","../../../../helper/Constant":"Constant","../../../../helper/Message":"Message"}],InfoRechargeGoldHistory:[function(t,e,i){"use strict";cc._RF.push(e,"fe584kUBApMPbyMVNEUsF9K","InfoRechargeGoldHistory");var n=t("../../../../helper/Config"),o=t("../../../../helper/Message");cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,contentNode:cc.Node,rechargeGoldHistoryItemPrefab:cc.Prefab,listNode:cc.Node,paginationNode:cc.Node,paginationItemPrefab:cc.Prefab},init:function(t){this.GameCenter=t,this.GameInfo=t.GameInfo},onLoad:function(){},onDisable:function(){this.removeXhr()},getData:function(){var t=this;this.data=null,this.isGetData=!1,this.listNode.removeAllChildren(!0),this.showLoadingNode();var e={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId()};this.GameCenter.api.historyRechargeGold(e,function(e){t.data=e.data,t.isGetData=!0,t.getPage()},function(e){t.isGetData=!0,t.showListNode(),t.GameCenter.showDialogMessage(o.HISTORY_TITLE,e.msg)})},getPage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.showListNode(),this.listNode.removeAllChildren(!0),this.paginationNode.removeAllChildren(!0),this.listPagination=[],this.isGetData?this.data&&this.data.length>0&&function(){for(var i=parseInt((t.data.length-1)/n.HISTORY_PAGINATION)+1,o=n.HISTORY_PAGINATION*e,s=t.data.length>(e+1)*n.HISTORY_PAGINATION?(e+1)*n.HISTORY_PAGINATION:t.data.length,a=o;a<s;a++){var r=cc.instantiate(t.rechargeGoldHistoryItemPrefab);r.parent=t.listNode,r.getComponent("RechargeGoldHistoryItem").init(t.data[a])}var c=cc.instantiate(t.paginationItemPrefab),h=c.getComponent("PaginationItem");c.parent=t.paginationNode,h.init("<<",0),h.enable(),t.listPagination.push(c);var l=cc.instantiate(t.paginationItemPrefab),u=l.getComponent("PaginationItem");l.parent=t.paginationNode,u.init("<",e-1),u.enable(),t.listPagination.push(l);for(var d=0;d<i;d++){var m=cc.instantiate(t.paginationItemPrefab),p=m.getComponent("PaginationItem");m.parent=t.paginationNode,p.init(d+1,d),d===e?p.disable():p.enable(),t.listPagination.push(m)}var f=cc.instantiate(t.paginationItemPrefab),_=f.getComponent("PaginationItem");f.parent=t.paginationNode,_.init(">",e+1),_.enable(),t.listPagination.push(f);var S=cc.instantiate(t.paginationItemPrefab),g=S.getComponent("PaginationItem");S.parent=t.paginationNode,g.init(">>",i-1),g.enable(),t.listPagination.push(S);var N=t,I=function(e){var n=t.listPagination[e].getComponent("PaginationItem").pageOffButtonNode;n.on(cc.Node.EventType.TOUCH_END,function(){var t=n.parent.getComponent("PaginationItem").getPage();t<0&&(t=0),t>i-1&&(t=i-1),N.getPage(t)})};for(var C in t.listPagination)I(C)}():this.getData()},reset:function(){this.data=null,this.isGetData=!1},showLoadingNode:function(){this.loadingNode.active=!0,this.contentNode.active=!1},showListNode:function(){this.loadingNode.active=!1,this.contentNode.active=!0},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{"../../../../helper/Config":"Config","../../../../helper/Message":"Message"}],InfoRechargeMoneyHistory:[function(t,e,i){"use strict";cc._RF.push(e,"bf1c8OEsupGT7nr4/NFbvlb","InfoRechargeMoneyHistory");var n=t("../../../../helper/Config"),o=t("../../../../helper/Message");cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,contentNode:cc.Node,rechargeHistoryItemPrefab:cc.Prefab,listNode:cc.Node,paginationNode:cc.Node,paginationItemPrefab:cc.Prefab},init:function(t){this.GameCenter=t,this.GameInfo=t.GameInfo},onLoad:function(){},onDisable:function(){this.removeXhr()},getData:function(){var t=this;this.data=null,this.isGetData=!1,this.listNode.removeAllChildren(!0),this.showLoadingNode();var e={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId()};this.GameCenter.api.historyRechargeMoney(e,function(e){t.data=e.data,t.isGetData=!0,t.getPage()},function(e){t.isGetData=!0,t.showListNode(),t.GameCenter.showDialogMessage(o.HISTORY_TITLE,e.msg)})},getPage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.showListNode(),this.listNode.removeAllChildren(!0),this.paginationNode.removeAllChildren(!0),this.listPagination=[],this.isGetData?this.data&&this.data.length>0&&function(){for(var i=parseInt((t.data.length-1)/n.HISTORY_PAGINATION)+1,o=n.HISTORY_PAGINATION*e,s=t.data.length>(e+1)*n.HISTORY_PAGINATION?(e+1)*n.HISTORY_PAGINATION:t.data.length,a=o;a<s;a++){var r=cc.instantiate(t.rechargeHistoryItemPrefab);r.parent=t.listNode,r.getComponent("RechargeHistoryItem").init(t.data[a],a)}var c=cc.instantiate(t.paginationItemPrefab),h=c.getComponent("PaginationItem");c.parent=t.paginationNode,h.init("<<",0),h.enable(),t.listPagination.push(c);var l=cc.instantiate(t.paginationItemPrefab),u=l.getComponent("PaginationItem");l.parent=t.paginationNode,u.init("<",e-1),u.enable(),t.listPagination.push(l);for(var d=0;d<i;d++){var m=cc.instantiate(t.paginationItemPrefab),p=m.getComponent("PaginationItem");m.parent=t.paginationNode,p.init(d+1,d),d===e?p.disable():p.enable(),t.listPagination.push(m)}var f=cc.instantiate(t.paginationItemPrefab),_=f.getComponent("PaginationItem");f.parent=t.paginationNode,_.init(">",e+1),_.enable(),t.listPagination.push(f);var S=cc.instantiate(t.paginationItemPrefab),g=S.getComponent("PaginationItem");S.parent=t.paginationNode,g.init(">>",i-1),g.enable(),t.listPagination.push(S);var N=t,I=function(e){var n=t.listPagination[e].getComponent("PaginationItem").pageOffButtonNode;n.on(cc.Node.EventType.TOUCH_END,function(){var t=n.parent.getComponent("PaginationItem").getPage();t<0&&(t=0),t>i-1&&(t=i-1),N.getPage(t)})};for(var C in t.listPagination)I(C)}():this.getData()},reset:function(){this.data=null,this.isGetData=!1},showLoadingNode:function(){this.loadingNode.active=!0,this.contentNode.active=!1},showListNode:function(){this.loadingNode.active=!1,this.contentNode.active=!0},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{"../../../../helper/Config":"Config","../../../../helper/Message":"Message"}],InfoSercurityAccount:[function(t,e,i){"use strict";cc._RF.push(e,"70a19vbU5dOepat6f4YMdU6","InfoSercurityAccount");var n=t("./account/InfoSercurityActivePhone"),o=t("./account/InfoSercurityUpdate"),s=t("./account/InfoSercurityInfo");cc.Class({extends:cc.Component,properties:{InfoSercurityActivePhone:n,InfoSercurityUpdate:o,InfoSercurityInfo:s},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI,this.GameInfo=t.GameInfo,this.InfoSercurityActivePhone.init(t),this.InfoSercurityUpdate.init(t),this.InfoSercurityInfo.init(t)},onLoad:function(){},onEnable:function(){var t=this.GameCenter.getUser();t.phone&&t.email?this.showInfoNode():this.showUpdateNode()},showUpdateNode:function(){this.hideAll(),this.InfoSercurityUpdate.node.active=!0},showInfoNode:function(){this.hideAll(),this.InfoSercurityInfo.node.active=!0},showActivePhone:function(){this.hideAll(),this.InfoSercurityActivePhone.node.active=!0},hideAll:function(){this.InfoSercurityActivePhone.node.active=!1,this.InfoSercurityUpdate.node.active=!1,this.InfoSercurityInfo.node.active=!1}}),cc._RF.pop()},{"./account/InfoSercurityActivePhone":"InfoSercurityActivePhone","./account/InfoSercurityInfo":"InfoSercurityInfo","./account/InfoSercurityUpdate":"InfoSercurityUpdate"}],InfoSercurityActivePhone:[function(t,e,i){"use strict";cc._RF.push(e,"a6309Ln815FYYudvPAKQ8Jw","InfoSercurityActivePhone");t("../../../../../util/BrowserUtil"),t("../../../../../helper/Constant");var n=t("../../../../../helper/Message");cc.Class({extends:cc.Component,properties:{usernameLabel:cc.Label,otpEditBox:cc.EditBox,otpRichText:cc.RichText},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI,this.GameInfo=t.GameInfo,this.GameInfo=t.GameInfo,this.InfoSercurityAccount=this.GameInfo.InfoSercurity.InfoSercurityAccount},onLoad:function(){this.editboxs=[this.otpEditBox]},onEnable:function(){this.otpEditBox.string="",this.initData()},initData:function(){var t=this.GameCenter.getUser();this.usernameLabel.string=t.username;var e=this.GameCenter.getGeneralConfig();if(e){var i=e.OTP;if(i){var o=i.content,s=i.service_number,a=String.format(n.OTP_ACTIVE_ACCOUNT,o,s);this.otpRichText.string=a}}},onBackClick:function(){this.GameCenter.Audio.playClick(),this.InfoSercurityAccount.showInfoNode()},onConfirmClick:function(){this.GameCenter.Audio.playClick();var t=this.otpEditBox.string;this.checkAllEditboxNotEmpty()?(this.GameCenter.showProcessingNode(),this.updateOtp(t)):this.GameCenter.showDialogMessage(n.UPDATE_INFO,n.MISSING_INFO)},updateOtp:function(t){var e=this,i={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId(),otp:t};this.GameCenter.api.verifyOtp(i,function(t){var i=e.GameCenter.getUser();i.status_value=1,i.invite_code=t.data,e.GameCenter.hideProcessingNode(),e.InfoSercurityAccount.showInfoNode()},function(t){e.GameCenter.hideProcessingNode(),e.GameCenter.showDialogMessage(n.UPDATE_INFO,t.msg)})},onGetOtpClick:function(){var t=this;this.GameCenter.Audio.playClick();var e={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId()};this.GameCenter.showProcessingNode(),this.GameCenter.api.sendOtp(e,function(e){t.GameCenter.hideProcessingNode(),t.GameCenter.showDialogMessage(n.UPDATE_INFO,e.msg)},function(e){t.GameCenter.hideProcessingNode(),t.GameCenter.showDialogMessage(n.UPDATE_INFO,e.msg)})},checkAllEditboxNotEmpty:function(){for(var t in this.editboxs)if(""===this.editboxs[t].string)return!1;return!0}}),cc._RF.pop()},{"../../../../../helper/Constant":"Constant","../../../../../helper/Message":"Message","../../../../../util/BrowserUtil":"BrowserUtil"}],InfoSercurityInfo:[function(t,e,i){"use strict";cc._RF.push(e,"445811BcK5Evbr8zRYJAeIw","InfoSercurityInfo");var n=t("../../../../../util/FormatUtil"),o=t("../../../../../helper/Message"),s=t("../../../../../helper/Config"),a=t("../../../../../ui/drop-down-list/DropDownList");cc.Class({extends:cc.Component,properties:{usernameLabel:cc.Label,emailLabel:cc.Label,phoneLabel:cc.Label,areaCodeDropDownList:a,notActiveEmailNode:cc.Node,activeEmailNode:cc.Node,emailEditBox:cc.EditBox,changeEmailNode:cc.Node,buttonEmailNode:cc.Node,notActivePhoneNode:cc.Node,activePhoneNode:cc.Node,phoneEditBox:cc.EditBox,changePhoneNode:cc.Node,buttonPhoneNode:cc.Node,otpEditBox:cc.EditBox},init:function(t){this.GameCenter=t,this.GameInfo=t.GameInfo,this.GameInfo=t.GameInfo,this.InfoSercurityAccount=this.GameInfo.InfoSercurity.InfoSercurityAccount},onLoad:function(){},onEnable:function(){this.clear(),this.initData()},initData:function(){var t=this.GameCenter.getUser(),e=t.status_value;this.usernameLabel.string=t.username||"",this.emailLabel.string=t.email||"",this.phoneLabel.string=t.phone||"",1==e?(this.notActivePhoneNode.active=!1,this.activePhoneNode.active=!0):(this.notActivePhoneNode.active=!0,this.activePhoneNode.active=!1),this.areaCodeDropDownList.removeAllItem();for(var i=0;i<s.AREA_CODES.length;i++){var n=s.AREA_CODES[i].name;this.areaCodeDropDownList.addItem(n,s.AREA_CODES[i])}this.showButtonEmail(),this.showButtonPhone()},onChangeEmailClick:function(){this.GameCenter.Audio.playClick(),this.showChangeEmail()},onCancelChangeEmailClick:function(){this.GameCenter.Audio.playClick(),this.showButtonEmail()},onUpdateEmailClick:function(){this.GameCenter.Audio.playClick();var t=this.emailEditBox.string;""!==t?n.validateEmail(t)?(this.GameCenter.showProcessingNode(),this.updateEmail(t)):this.GameCenter.showDialogMessage(o.UPDATE_INFO,o.FORMAT_EMAIL_NOT_CORRECT):this.GameCenter.showDialogMessage(o.UPDATE_INFO,o.MISSING_INFO)},updateEmail:function(t){var e=this,i={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId(),email:t};this.GameCenter.api.update(i,function(i){e.GameCenter.getUser().email=t,e.emailLabel.string=t,e.GameCenter.hideProcessingNode(),e.showButtonEmail()},function(t){e.GameCenter.hideProcessingNode(),e.GameCenter.showDialogMessage(o.UPDATE_INFO,t.msg)})},onChangePhoneClick:function(){this.GameCenter.Audio.playClick(),this.showChangePhone()},onCancelChangePhoneClick:function(){this.GameCenter.Audio.playClick(),this.showButtonPhone()},onUpdatePhoneClick:function(){this.GameCenter.Audio.playClick();var t=this.areaCodeDropDownList.getData().code;0===t.indexOf("+")&&(t=t.substr(1));var e=this.phoneEditBox.string;0===e.indexOf("0")&&(e=e.substr(1));var i=t+e;""!==i?n.checkPhoneValid(i)?(this.GameCenter.showProcessingNode(),this.updatePhone(i)):this.GameCenter.showDialogMessage(o.UPDATE_INFO,o.FORMAT_PHONE_NOT_CORRECT):this.GameCenter.showDialogMessage(o.UPDATE_INFO,o.MISSING_INFO)},updatePhone:function(t){var e=this,i={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId(),phone:t};this.GameCenter.api.update(i,function(i){e.GameCenter.getUser().phone=t,e.phoneLabel.string=t,e.GameCenter.hideProcessingNode(),e.showButtonPhone()},function(t){e.GameCenter.hideProcessingNode(),e.GameCenter.showDialogMessage(o.UPDATE_INFO,t.msg)})},onActivePhoneClick:function(){this.GameCenter.Audio.playClick(),this.InfoSercurityAccount.showActivePhone()},onGetOtpClick:function(){var t=this;this.GameCenter.Audio.playClick();var e={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId()};this.GameCenter.showProcessingNode(),this.GameCenter.api.sendOtp(e,function(e){t.GameCenter.hideProcessingNode(),t.GameCenter.showDialogMessage(o.UPDATE_INFO,e.msg)},function(e){t.GameCenter.hideProcessingNode(),t.GameCenter.showDialogMessage(o.UPDATE_INFO,e.msg)})},onCancelActivePhoneClick:function(){var t=this;this.GameCenter.Audio.playClick();var e=this.otpEditBox.string;if(""!==e){var i={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId(),otp:e};this.GameCenter.showProcessingNode(),this.GameCenter.api.cancelActivePhone(i,function(e){t.GameCenter.getUser().phone="",t.GameCenter.getUser().status_value=0,t.initData(),t.GameCenter.hideProcessingNode(),t.GameCenter.showDialogMessage(o.UPDATE_INFO,e.msg)},function(e){t.GameCenter.hideProcessingNode(),t.GameCenter.showDialogMessage(o.UPDATE_INFO,e.msg)})}else this.GameCenter.showDialogMessage(o.UPDATE_INFO,o.MISSING_INFO)},showChangeEmail:function(){this.changeEmailNode.active=!0,this.buttonEmailNode.active=!1},showButtonEmail:function(){this.changeEmailNode.active=!1,this.buttonEmailNode.active=!0},showChangePhone:function(){this.changePhoneNode.active=!0,this.buttonPhoneNode.active=!1},showButtonPhone:function(){this.changePhoneNode.active=!1,this.buttonPhoneNode.active=!0},clear:function(){this.emailEditBox.string="",this.phoneEditBox.string="",this.otpEditBox.string=""}}),cc._RF.pop()},{"../../../../../helper/Config":"Config","../../../../../helper/Message":"Message","../../../../../ui/drop-down-list/DropDownList":"DropDownList","../../../../../util/FormatUtil":"FormatUtil"}],InfoSercurityLogin:[function(t,e,i){"use strict";cc._RF.push(e,"975fc0dnftDuKXaCG+nmlM+","InfoSercurityLogin");var n=t("../../../../helper/Message"),o=t("../../../../helper/Constant");cc.Class({extends:cc.Component,properties:{statusLabel:cc.Label,otpEditbox:cc.EditBox,successButtonNode:cc.Node,cancelButtonNode:cc.Node},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI},onLoad:function(){},onEnable:function(){this.initData()},initData:function(){var t=this.GameCenter.getUser();t&&(t.secure_login===o.SECURITY_LOGIN?(this.statusLabel.string="\u0110\xe3 k\xedch ho\u1ea1t",this.successButtonNode.active=!1,this.cancelButtonNode.active=!0):(this.statusLabel.string="Ch\u01b0a k\xedch ho\u1ea1t",this.successButtonNode.active=!0,this.cancelButtonNode.active=!1))},onGetOtpClick:function(){this.GameCenter.showProcessingNode(),this.GameCenter.sendRequest.sendToZone(o.REQUEST_GET_OTP)},onSendVerifyLoginClick:function(){this.GameCenter.Audio.playClick();var t=this.otpEditbox.string;""===t?this.GameCenter.showDialogMessage(n.OTP_LOGIN_TITLE,n.MISSING_INFO):this.verifyLogin(t)},verifyLogin:function(t){var e=this,i=this.GameCenter.getUser().secure_login===o.SECURITY_LOGIN?o.SECURITY_LOGIN_STATUS_CANCEL:o.SECURITY_LOGIN_STATUS_CHOSE,s={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId(),otp:t,status:i};this.GameCenter.showProcessingNode(),this.GameCenter.api.getOTPLoginSecurity(s,function(t){e.GameCenter.hideProcessingNode(),e.GameCenter.showDialogMessage(n.OTP_LOGIN_TITLE,t.msg),e.GameCenter.getUser().secure_login=i,e.initData(),e.clear()},function(t){e.GameCenter.hideProcessingNode(),e.GameCenter.showDialogMessage(n.OTP_LOGIN_TITLE,t.msg),e.clear()})},clear:function(){this.otpEditbox.string=""}}),cc._RF.pop()},{"../../../../helper/Constant":"Constant","../../../../helper/Message":"Message"}],InfoSercurityUpdate:[function(t,e,i){"use strict";cc._RF.push(e,"3944ddtFctK55vx1M8Hdjks","InfoSercurityUpdate");var n=t("../../../../../util/FormatUtil"),o=t("../../../../../helper/Message"),s=t("../../../../../helper/Config"),a=t("../../../../../ui/drop-down-list/DropDownList");cc.Class({extends:cc.Component,properties:{usernameLabel:cc.Label,emailEditBox:cc.EditBox,phoneEditBox:cc.EditBox,areaCodeDropDownList:a},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI,this.GameInfo=t.GameInfo,this.GameInfo=t.GameInfo,this.InfoSercurityAccount=this.GameInfo.InfoSercurity.InfoSercurityAccount},onLoad:function(){this.editboxs=[this.emailEditBox,this.phoneEditBox]},onEnable:function(){this.initData()},initData:function(){var t=this.GameCenter.getUser();this.usernameLabel.string=t.username,this.phoneEditBox.string="",this.emailEditBox.string="",this.areaCodeDropDownList.removeAllItem();for(var e=0;e<s.AREA_CODES.length;e++){var i=s.AREA_CODES[e].name;this.areaCodeDropDownList.addItem(i,s.AREA_CODES[e])}},onConfirmClick:function(){this.GameCenter.Audio.playClick();var t=this.emailEditBox.string,e=this.areaCodeDropDownList.getData().code;0===e.indexOf("+")&&(e=e.substr(1));var i=this.phoneEditBox.string;0===i.indexOf("0")&&(i=i.substr(1));var s=e+i;this.checkAllEditboxNotEmpty()?n.checkPhoneValid(s)?n.validateEmail(t)?(this.GameCenter.showProcessingNode(),this.updateInfo(t,s)):this.GameCenter.showDialogMessage(o.UPDATE_INFO,o.FORMAT_EMAIL_NOT_CORRECT):this.GameCenter.showDialogMessage(o.UPDATE_INFO,o.FORMAT_PHONE_NOT_CORRECT):this.GameCenter.showDialogMessage(o.UPDATE_INFO,o.MISSING_INFO)},updateInfo:function(t,e,i,n){var s=this,a={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId(),email:t,phone:e};this.GameCenter.api.update(a,function(i){var n=s.GameCenter.getUser();n.email=t,n.phone=e,s.GameCenter.hideProcessingNode(),s.InfoSercurityAccount.showInfoNode()},function(t){s.GameCenter.hideProcessingNode(),s.GameCenter.showDialogMessage(o.UPDATE_INFO,t.msg)})},checkAllEditboxNotEmpty:function(){for(var t in this.editboxs)if(""===this.editboxs[t].string)return!1;return!0}}),cc._RF.pop()},{"../../../../../helper/Config":"Config","../../../../../helper/Message":"Message","../../../../../ui/drop-down-list/DropDownList":"DropDownList","../../../../../util/FormatUtil":"FormatUtil"}],InfoSercurity:[function(t,e,i){"use strict";cc._RF.push(e,"bfcd8qT10NN64MFgCsm7cQJ","InfoSercurity");var n=t("./sercutiry/InfoSercurityAccount"),o=t("./sercutiry/InfoSercurityLogin"),s=t("../../../helper/Constant"),a=t("./sercutiry/InfoGame");cc.Class({extends:cc.Component,properties:{infoHeaderNode:cc.Node,sercurityAccountButtonOnNode:cc.Node,sercurityAccountButtonOffNode:cc.Node,sercurityLoginButtonOnNode:cc.Node,sercurityLoginButtonOffNode:cc.Node,otpAppButtonOnNode:cc.Node,otpAppButtonOffNode:cc.Node,gameOnButtonNode:cc.Node,gameOffButtonNode:cc.Node,sercurityAccountContentNode:cc.Node,sercurityLoginContentNode:cc.Node,otpContentNode:cc.Node,gameContentNode:cc.Node,InfoSercurityAccount:n,InfoSercurityLogin:o,InfoGame:a},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI,this.GameInfo=t.GameInfo,this.InfoSercurityAccount.init(t),this.InfoSercurityLogin.init(t),this.InfoGame.init(t)},onLoad:function(){},onEnable:function(){this.infoHeaderNode.active=!1,this.showSercurityAccount()},onDisable:function(){this.infoHeaderNode.active=!0},onBackClick:function(){this.GameCenterUI.showInfoNode(),this.GameCenter.GameInfo.onInfoClick()},getOtpAppClick:function(){this.GameCenter.showProcessingNode();this.GameCenter.sendRequest.sendToZone(s.REQUEST_GET_OTP,{type:1})},onSercurityAccountClick:function(){this.GameCenter.Audio.playClick(),this.showSercurityAccount()},onSercurityLoginClick:function(){this.GameCenter.Audio.playClick(),this.showSercurityLogin()},onOtpAppClick:function(){this.GameCenter.Audio.playClick(),this.showOtpApp()},showSercurityAccount:function(){this.initBeforeClick(),this.sercurityAccountButtonOnNode.active=!0,this.sercurityAccountButtonOffNode.active=!1,this.sercurityAccountContentNode.active=!0},showSercurityLogin:function(){this.initBeforeClick(),this.sercurityLoginButtonOnNode.active=!0,this.sercurityLoginButtonOffNode.active=!1,this.sercurityLoginContentNode.active=!0},onSecurityGameClick:function(){this.GameCenter.Audio.playClick(),this.showGame()},showGame:function(){this.initBeforeClick(),this.gameOnButtonNode.active=!0,this.gameOffButtonNode.active=!1,this.gameContentNode.active=!0},showOtpApp:function(){this.initBeforeClick(),this.otpAppButtonOnNode.active=!0,this.otpAppButtonOffNode.active=!1,this.otpContentNode.active=!0},initBeforeClick:function(){this.hideAllOnButtons(),this.hideAllContents(),this.showAllOffButtons()},showAllOffButtons:function(){this.sercurityAccountButtonOffNode.active=!0,this.sercurityLoginButtonOffNode.active=!0,this.otpAppButtonOffNode.active=!0,this.gameOffButtonNode.active=!0},hideAllOnButtons:function(){this.sercurityAccountButtonOnNode.active=!1,this.sercurityLoginButtonOnNode.active=!1,this.otpAppButtonOnNode.active=!1,this.gameOnButtonNode.active=!1},hideAllContents:function(){this.sercurityAccountContentNode.active=!1,this.sercurityLoginContentNode.active=!1,this.otpContentNode.active=!1,this.gameContentNode.active=!1}}),cc._RF.pop()},{"../../../helper/Constant":"Constant","./sercutiry/InfoGame":"InfoGame","./sercutiry/InfoSercurityAccount":"InfoSercurityAccount","./sercutiry/InfoSercurityLogin":"InfoSercurityLogin"}],JackpotConstant:[function(t,e,i){"use strict";cc._RF.push(e,"2603c/jpk1La53Rp2tu4cxy","JackpotConstant");e.exports={ADD_EVENT:"jackpot.ADD_EVENT",REMOVE_EVENT:"jackpot.REMOVE_EVENT",INFO:"INFO",BET_100:100,BET_1k:1e3,BET_10k:1e4,BET_VALUE:"jackpot_bet_value"},cc._RF.pop()},{}],JackpotEffect:[function(t,e,i){"use strict";cc._RF.push(e,"e8a1233kdpJUp/ZHOXRluJV","JackpotEffect");var n=t("../../../util/FormatUtil"),o=t("../../../helper/Config");cc.Class({extends:cc.Component,properties:{jackpotSkeleton:sp.Skeleton,balanceLabel:cc.Label},onLoad:function(){},onDestroy:function(){clearTimeout(this.timeoutHide)},update:function(t){var e=this.currentMoney,i=parseInt(this.balance);if(e!==i){var o=e+this.increaseValue*t*60;this.increaseValue>0&&o>i?o=i:this.increaseValue<0&&o<i&&(o=i),this.currentMoney=o,this.balanceLabel.string=n.numberWithCommas(parseInt(o))}},show:function(t,e){this.clear(),this.node.active=!0,this.node.opacity=255,this.jackpotSkeleton.setAnimation(0,"nohu",!0),this.timeoutHide=setTimeout(function(){this.node.runAction(cc.sequence(cc.fadeOut(.25),cc.callFunc(function(){this.node.removeFromParent(!0)},this)))}.bind(this),1e3*o.JACKPOT_EFFECT_SHOW),this.balance=t,this.increaseValue=(t-this.currentMoney)/(60*o.JACKPOT_TIME_INCREASE),this.increaseValue<1&&this.increaseValue>0?this.increaseValue=1:this.increaseValue>-1&&this.increaseValue<0&&(this.increaseValue=-1)},clear:function(){this.currentMoney=0,this.balance=0,this.increaseValue=0,this.balanceLabel.string=0}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../util/FormatUtil":"FormatUtil"}],JackpotItem:[function(t,e,i){"use strict";cc._RF.push(e,"303f08Y7ZJDhKr9CAb1WmZT","JackpotItem");var n=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{moneyLabel:cc.Label,time:2.5},onLoad:function(){void 0===this.increaseValue&&this.setMoneyWithoutAnimation(0),this.numberUpdatePerSecond=15,this.timeCheckUpdate=0},update:function(t){if(this.timeCheckUpdate+=t,this.timeCheckUpdate>1/this.numberUpdatePerSecond){var e=this.currentMoney,i=parseInt(this.money);if(e!==i){var o=e+60*this.increaseValue/this.numberUpdatePerSecond;this.increaseValue>0&&o>i?o=i:this.increaseValue<0&&o<i&&(o=i),this.currentMoney=o,this.moneyLabel.string=" "+n.numberWithCommas(parseInt(o))+" "}this.timeCheckUpdate=0}},addMoney:function(t){void 0===this.money?this.setMoney(t):this.setMoney(this.money+t)},setMoney:function(t){0===this.currentMoney||void 0===this.currentMoney?this.setMoneyWithoutAnimation(t):this.setMoneyWithAnimation(t)},setMoneyWithAnimation:function(t){this.money=t,this.increaseValue=(t-this.currentMoney)/(60*this.time),this.increaseValue<1&&this.increaseValue>0?this.increaseValue=1:this.increaseValue>-1&&this.increaseValue<0&&(this.increaseValue=-1)},addMoneyWithoutAnimation:function(t){this.setMoneyWithoutAnimation(this.money+t)},setMoneyWithoutAnimation:function(t){this.currentMoney=t,this.money=t,this.increaseValue=0,this.moneyLabel.string=" "+n.numberWithCommas(t)+" "},setMoneyWithStartNumberZero:function(t){void 0!==t&&(this.money=t,this.currentMoney||(this.currentMoney=t/100),this.increaseValue=t/(60*this.time),this.increaseValue<1&&this.increaseValue>0?this.increaseValue=1:this.increaseValue>-1&&this.increaseValue<0&&(this.increaseValue=-1))},getMoney:function(){return this.money}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil"}],JackpotX:[function(t,e,i){"use strict";cc._RF.push(e,"d6ac3vHBx1ChaK7ofbh1Ysw","JackpotX"),cc.Class({extends:cc.Component,properties:{xSprite:cc.Sprite,jackpotXSpriteFrames:[cc.SpriteFrame],iconXSpriteFrames:[cc.SpriteFrame],slotXSpriteFrames:[cc.SpriteFrame]},showJackpotX:function(t){1===t?this.node.active=!1:(this.node.active=!0,this.xSprite.spriteFrame=this.jackpotXSpriteFrames[t-2])},showIconX:function(t){1===t?this.node.active=!1:(this.node.active=!0,this.xSprite.spriteFrame=this.iconXSpriteFrames[t-2])},showSlotX:function(t){1===t?this.node.active=!1:(this.node.active=!0,this.xSprite.spriteFrame=this.slotXSpriteFrames[t-2])}}),cc._RF.pop()},{}],Jackpot:[function(t,e,i){"use strict";cc._RF.push(e,"197d8ydttxKCruOYow6B6mM","Jackpot");var n=t("../../../base/BaseController"),o=t("../../../helper/Config"),s=t("../../../object/JackpotX"),a=t("../item/JackpotItem"),r=t("./JackpotConstant");cc.Class({extends:n,properties:{button100OnNode:cc.Node,button100OffNode:cc.Node,button1kOnNode:cc.Node,button1kOffNode:cc.Node,button10kOnNode:cc.Node,button10kOffNode:cc.Node,content100Node:cc.Node,content1kNode:cc.Node,content10kNode:cc.Node,jackpot100MiniPoker:a,jackpot100MiniBaCay:a,jackpot100Diamond:a,jackpot100TrenDuoi:a,jackpot100Bom:a,jackpot100Wild:a,jackpot100Slot1:a,jackpot100Slot2:a,jackpot100Slot3:a,jackpot1kMiniPoker:a,jackpot1kMiniBaCay:a,jackpot1kDiamond:a,jackpot1kTrenDuoi:a,jackpot1kBom:a,jackpot1kWild:a,jackpot1kSlot1:a,jackpot1kSlot2:a,jackpot1kSlot3:a,jackpot10kMiniPoker:a,jackpot10kMiniBaCay:a,jackpot10kDiamond:a,jackpot10kTrenDuoi:a,jackpot10kBom:a,jackpot10kWild:a,jackpot10kSlot1:a,jackpot10kSlot2:a,jackpot10kSlot3:a,x100MiniPoker:s,x100MiniBaCay:s,x100Diamond:s,x100TrenDuoi:s,x100Bom:s,x100Wild:s,x100Slot1:s,x100Slot2:s,x100Slot3:s,x1kMiniPoker:s,x1kMiniBaCay:s,x1kDiamond:s,x1kTrenDuoi:s,x1kBom:s,x1kWild:s,x1kSlot1:s,x1kSlot2:s,x1kSlot3:s,x10kMiniPoker:s,x10kMiniBaCay:s,x10kDiamond:s,x10kTrenDuoi:s,x10kBom:s,x10kWild:s,x10kSlot1:s,x10kSlot2:s,x10kSlot3:s,circleButtonNode:cc.Node,contentNode:cc.Node},init:function(t){this.controller=t},onLoad:function(){this._super(),this.data=null,this.isShow=this.contentNode.active},onEnable:function(){this.sendRequest.sendNoPrefixToZone(r.ADD_EVENT)},onDestroy:function(){this.sendRequest.sendNoPrefixToZone(r.REMOVE_EVENT)},onJackpotButtonClick:function(){this.showContentWithAnimation(!this.isShow)},showContent:function(t){this.isShow=t,this.contentNode.active=t},showContentWithAnimation:function(t){this.contentNode.stopAllActions(),this.isShow=t,t?(this.contentNode.active=!0,this.contentNode.runAction(cc.scaleTo(o.JACKPOT_TIME_SHOW,1,this.contentNode.scaleY))):this.contentNode.runAction(cc.sequence(cc.scaleTo(o.JACKPOT_TIME_SHOW,0,this.contentNode.scaleY),cc.callFunc(function(){this.contentNode.active=!1},this)))},onMiniBaCayClick:function(){this.controller.MiniGame.MiniBaCay.onMiniBaCayClick()},onMiniPokerClick:function(){this.controller.MiniGame.MiniPoker.onMiniPokerClick()},onDiamondClick:function(){this.controller.MiniGame.Diamond.onDiamondClick()},onTrenDuoiClick:function(){this.controller.MiniGame.TrenDuoi.onTrenDuoiClick()},onBomClick:function(){this.controller.MiniGame.Bom.onBomClick()},onWildClick:function(){this.controller.MiniGame.Wild.onWildClick()},onButton100Click:function(){this.initBeforeClick(),this.button100OnNode.active=!0,this.button100OffNode.active=!1,this.content100Node.active=!0,this.initDataByBet()},onButton1kClick:function(){this.initBeforeClick(),this.button1kOnNode.active=!0,this.button1kOffNode.active=!1,this.content1kNode.active=!0,this.initDataByBet()},onButton10kClick:function(){this.initBeforeClick(),this.button10kOnNode.active=!0,this.button10kOffNode.active=!1,this.content10kNode.active=!0,this.initDataByBet()},initBeforeClick:function(){this.showAllOffButtons(),this.hideAllOnButtons(),this.hideAllContents()},showAllOffButtons:function(){this.button100OffNode.active=!0,this.button1kOffNode.active=!0,this.button10kOffNode.active=!0},hideAllOnButtons:function(){this.button100OnNode.active=!1,this.button1kOnNode.active=!1,this.button10kOnNode.active=!1},hideAllContents:function(){this.content100Node.active=!1,this.content1kNode.active=!1,this.content10kNode.active=!1},isJackpot100:function(){return this.button100OnNode.active},isJackpot1k:function(){return this.button1kOnNode.active},isJackpot10k:function(){return this.button10kOnNode.active},handleRequest:function(t){var e=t.game_cmd,i=t.game_data;t.game_msg;switch(e){case r.INFO:this.handleInfo(i)}},handleInfo:function(t){this.data=t,this.initDataByBet(),this.initJackpotX()},initDataByBet:function(){if(this.data){var t=0,e=null,i=null,n=null,o=null,s=null,a=null,r=null,c=null,h=null;this.isJackpot100()?(t=0,e=this.jackpot100MiniPoker,i=this.jackpot100MiniBaCay,n=this.jackpot100Diamond,o=this.jackpot100TrenDuoi,s=this.jackpot100Bom,a=this.jackpot100Wild,r=this.jackpot100Slot1,c=this.jackpot100Slot2,h=this.jackpot100Slot3):this.isJackpot1k()?(t=1,e=this.jackpot1kMiniPoker,i=this.jackpot1kMiniBaCay,n=this.jackpot1kDiamond,o=this.jackpot1kTrenDuoi,s=this.jackpot1kBom,a=this.jackpot1kWild,r=this.jackpot1kSlot1,c=this.jackpot1kSlot2,h=this.jackpot1kSlot3):this.isJackpot10k()&&(t=2,e=this.jackpot10kMiniPoker,i=this.jackpot10kMiniBaCay,n=this.jackpot10kDiamond,o=this.jackpot10kTrenDuoi,s=this.jackpot10kBom,a=this.jackpot10kWild,r=this.jackpot10kSlot1,c=this.jackpot10kSlot2,h=this.jackpot10kSlot3);var l=this.data.mini_3cay?this.data.mini_3cay[t]:null,u=this.data.mini_poker?this.data.mini_poker[t]:null,d=this.data.diamond?this.data.diamond[t]:null,m=this.data.hilo?this.data.hilo[t+3]:null,p=this.data.bom?this.data.bom[t]:null,f=this.data.wild?this.data.wild[t]:null,_=this.data.classic1?this.data.classic1[t]:null,S=this.data.one001?this.data.one001[t]:null,g=this.data.dragon?this.data.dragon[t]:null;this.contentNode.active?(e.setMoney(u),i.setMoney(l),n.setMoney(d),o.setMoney(m),s.setMoney(p),a.setMoney(f),r.setMoney(_),c.setMoney(g),h.setMoney(S)):(e.setMoneyWithoutAnimation(u),i.setMoneyWithoutAnimation(l),n.setMoneyWithoutAnimation(d),o.setMoneyWithoutAnimation(m),s.setMoneyWithoutAnimation(p),a.setMoneyWithoutAnimation(f),r.setMoneyWithoutAnimation(_),c.setMoneyWithoutAnimation(g),h.setMoneyWithoutAnimation(S));var N=[u,l,d,m,p,f,_,S,g];this.sortDESC(N);var I=this.getIndexByValue(N,u),C=this.getIndexByValue(N,l),E=this.getIndexByValue(N,d),T=this.getIndexByValue(N,m),v=this.getIndexByValue(N,p),L=this.getIndexByValue(N,f),R=this.getIndexByValue(N,_),b=this.getIndexByValue(N,g),M=this.getIndexByValue(N,S);e.node.zIndex=I,i.node.zIndex=C,n.node.zIndex=E,o.node.zIndex=T,s.node.zIndex=v,a.node.zIndex=L,r.node.zIndex=R,c.node.zIndex=b,h.node.zIndex=M,e.node.parent.sortAllChildren()}},initJackpotX:function(){if(this.data){var t=this.data.mini_poker?this.data.mini_poker[3]:null,e=this.data.mini_3cay?this.data.mini_3cay[3]:null,i=this.data.diamond?this.data.diamond[3]:null,n=this.data.hilo?this.data.hilo[6]:null,o=this.data.bom?this.data.bom[3]:null,s=this.data.wild?this.data.wild[3]:null,a=this.data.classic1?this.data.classic1[3]:null,r=this.data.one001?this.data.one001[3]:null,c=this.data.dragon?this.data.dragon[3]:null;this.initJackpotXMiniPoker(t),this.initJackpotXMini3Cay(e),this.initJackpotXDiamond(i),this.initJackpotXTrenDuoi(n),this.initJackpotXBom(o),this.initJackpotXWild(s),this.initJackpotXSlot1(a),this.initJackpotXSlot2(c),this.initJackpotXSlot3(r)}},initJackpotXMiniPoker:function(t){if(t){var e=t[0]?t[0]:1,i=t[1]?t[1]:1,n=t[2]?t[2]:1;this.x100MiniPoker.showJackpotX(e),this.x1kMiniPoker.showJackpotX(i),this.x10kMiniPoker.showJackpotX(n)}},initJackpotXMini3Cay:function(t){if(t){var e=t[0]?t[0]:1,i=t[1]?t[1]:1,n=t[2]?t[2]:1;this.x100MiniBaCay.showJackpotX(e),this.x1kMiniBaCay.showJackpotX(i),this.x10kMiniBaCay.showJackpotX(n)}},initJackpotXDiamond:function(t){if(t){var e=t[0]?t[0]:1,i=t[1]?t[1]:1,n=t[2]?t[2]:1;this.x100Diamond.showJackpotX(e),this.x1kDiamond.showJackpotX(i),this.x10kDiamond.showJackpotX(n)}},initJackpotXTrenDuoi:function(t){if(t){var e=t[2]?t[2]:1,i=t[3]?t[3]:1,n=t[4]?t[4]:1;this.x100TrenDuoi.showJackpotX(e),this.x1kTrenDuoi.showJackpotX(i),this.x10kTrenDuoi.showJackpotX(n)}},initJackpotXBom:function(t){if(t){var e=t[0]?t[0]:1,i=t[1]?t[1]:1,n=t[2]?t[2]:1;this.x100Bom.showJackpotX(e),this.x1kBom.showJackpotX(i),this.x10kBom.showJackpotX(n)}},initJackpotXWild:function(t){if(t){var e=t[0]?t[0]:1,i=t[1]?t[1]:1,n=t[2]?t[2]:1;this.x100Wild.showJackpotX(e),this.x1kWild.showJackpotX(i),this.x10kWild.showJackpotX(n)}},initJackpotXSlot1:function(t){if(t){var e=t[0]?t[0]:1,i=t[1]?t[1]:1,n=t[2]?t[2]:1;this.x100Slot1.showJackpotX(e),this.x1kSlot1.showJackpotX(i),this.x10kSlot1.showJackpotX(n)}},initJackpotXSlot2:function(t){if(t){var e=t[0]?t[0]:1,i=t[1]?t[1]:1,n=t[2]?t[2]:1;this.x100Slot2.showJackpotX(e),this.x1kSlot2.showJackpotX(i),this.x10kSlot2.showJackpotX(n)}},initJackpotXSlot3:function(t){if(t){var e=t[0]?t[0]:1,i=t[1]?t[1]:1,n=t[2]?t[2]:1;this.x100Slot3.showJackpotX(e),this.x1kSlot3.showJackpotX(i),this.x10kSlot3.showJackpotX(n)}},sortDESC:function(t){t.sort(function(t,e){return!(!t||!e)&&e-t})},getIndexByValue:function(t,e){for(var i=0,n=t.length;i<n;i++)if(e===t[i])return i;return 0}}),cc._RF.pop()},{"../../../base/BaseController":"BaseController","../../../helper/Config":"Config","../../../object/JackpotX":"JackpotX","../item/JackpotItem":"JackpotItem","./JackpotConstant":"JackpotConstant"}],LogOut:[function(t,e,i){"use strict";cc._RF.push(e,"b9eb6URb2ZF0pZ2lqLMs9uh","LogOut");t("../../helper/Message");cc.Class({extends:cc.Component,init:function(t){this.controller=t},properties:{},onLoad:function(){this.dialogForm=this.node.getComponent("DialogForm")},onCancelClick:function(){this.controller.Audio.playClick(),this.dialogForm.hideDialog()},onConfirmLogoutClick:function(){this.controller.isConnected()?(this.controller.Audio.playClick(),this.controller.showProcessingNode(),this.logout()):cc.game.end()},logout:function(){var t={token:this.controller.getToken(),user_id:this.controller.getUserId()};this.controller.api.logout(t,function(t){},function(t){}),this.controller.setAutoLogin(!1),this.controller.clearAccount(),this.controller.sfsManager.sfs.disconnect()}}),cc._RF.pop()},{"../../helper/Message":"Message"}],Login:[function(t,e,i){"use strict";cc._RF.push(e,"a21b0P/3CZB+48KbBUJVyxB","Login");var n=t("../../../helper/Message"),o=t("../../../helper/Constant");cc.Class({extends:cc.Component,properties:{usernameEditBox:cc.EditBox,passwordEditBox:cc.EditBox},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI},onLoad:function(){this.editboxs=[this.usernameEditBox,this.passwordEditBox],this.dialogForm=this.node.getComponent("DialogForm")},onLoginClick:function(){var t=this.usernameEditBox.string,e=this.passwordEditBox.string;""===t?this.GameCenter.showDialogMessage(n.LOGIN_TITLE,n.LOGIN_MISSING_USERNAME):""===e?this.GameCenter.showDialogMessage(n.LOGIN_TITLE,n.LOGIN_MISSING_PASSWORD):this.login(t,e)},login:function(t,e,i){var s=this,a=this.GameCenter.getTime(),r={username:t,password:e,register_code:this.GameCenter.getRegisterCode(),time:a,device_token:this.GameCenter.getRegisterCode(),device_id:this.GameCenter.getDeviceID(),sign:this.GameCenter.getDK(t,a)};i&&(r.otp=i);this.GameCenter.showProcessingNode(),this.GameCenter.api.login(r,function(i){0===i.data.login_status?(s.GameCenter.OTPLogin.setAccount(t,e),s.GameCenter.OTPLogin.clear(),s.GameCenter.hideProcessingNode(),s.GameCenterUI.showOTPLoginFormNode()):(s.GameCenter.setAutoLogin(!0),s.GameCenter.setAccountType(o.ACCOUNT_TYPE_LOGIN),s.GameCenter.setAccount(t,e),s.GameCenter.initDataAndConnectSFS(i.data))},function(t){s.GameCenter.setAutoLogin(!1),s.GameCenter.hideProcessingNode(),s.GameCenter.showDialogMessage(n.LOGIN_TITLE,t.msg)})},onFacebookClick:function(){this.GameCenter.loginFacebook()},onEnable:function(){this.clear()},checkAllEditboxNotEmpty:function(){for(var t in this.editboxs)if(""===this.editboxs[t].string)return!1;return!0},clear:function(){for(var t in this.editboxs)this.editboxs[t].string=""}}),cc._RF.pop()},{"../../../helper/Constant":"Constant","../../../helper/Message":"Message"}],LuckyWheelConfig:[function(t,e,i){"use strict";cc._RF.push(e,"0e8a96CH2ZHX7/0meUpC29N","LuckyWheelConfig");e.exports={TIME_SPIN:8,NUMBER_SPIN_TIME:10},cc._RF.pop()},{}],LuckyWheelConstant:[function(t,e,i){"use strict";cc._RF.push(e,"10621YpinlP/7PX+67Q3Qeh","LuckyWheelConstant");e.exports={MONEY_TYPE:0,GOLD_TYPE:1,FREE_SPIN_TYPE:2,ADD_TURN:3,SPECIAL_ITEM:4,MISS:5,MISS_2:6,REQUEST_SPIN:"lucky_wheel.SPIN",SPIN:"SPIN",MESSAGE:"MESSAGE"},cc._RF.pop()},{}],LuckyWheelItem:[function(t,e,i){"use strict";cc._RF.push(e,"629732sbmhEnoFJe0bBdOMY","LuckyWheelItem");var n=t("../lucky-wheel/LuckyWheelConstant");cc.Class({extends:cc.Component,properties:{moneyNode:cc.Node,goldNode:cc.Node,freeSpinNode:cc.Node,missNode:cc.Node,addTurnNode:cc.Node,specialItemNode:cc.Node,moneyLabel:cc.Label,goldLabel:cc.Label,freeSpinLabel:cc.Label,freeSpinGameLabel:cc.Label,specialItemLabel:cc.Label},init:function(t){this.data=t,this.iniData(t)},onLoad:function(){},iniData:function(t){switch(this.hideAllNode(),t.type){case n.GOLD_TYPE:this.showGoldNode(t);break;case n.MONEY_TYPE:this.showMoneyNode(t);break;case n.FREE_SPIN_TYPE:this.showFreeSpinNode(t);break;case n.MISS:this.showMissNode(t);break;case n.ADD_TURN:this.showAddTurnNode(t);break;case n.SPECIAL_ITEM:this.showSpecialItemNode(t);break;default:this.showMissNode(t)}},showMoneyNode:function(t){this.moneyNode.active=!0,this.moneyLabel.string=t.name},showGoldNode:function(t){this.goldNode.active=!0,this.goldLabel.string=t.name},showFreeSpinNode:function(t){this.freeSpinNode.active=!0,this.freeSpinLabel.string=t.amount,this.freeSpinGameLabel.string=t.game_name},showMissNode:function(t){this.missNode.active=!0},showAddTurnNode:function(t){this.addTurnNode.active=!0},showSpecialItemNode:function(t){this.specialItemNode.active=!0},isFreeMiniGame:function(){return this.data.type===n.FREE_SPIN_TYPE},hideAllNode:function(){this.moneyNode.active=!1,this.goldNode.active=!1,this.freeSpinNode.active=!1,this.missNode.active=!1,this.addTurnNode.active=!1,this.specialItemNode.active=!1}}),cc._RF.pop()},{"../lucky-wheel/LuckyWheelConstant":"LuckyWheelConstant"}],LuckyWheel:[function(t,e,i){"use strict";cc._RF.push(e,"b179fqQeL5J86+P8qjq0PH7","LuckyWheel");var n=t("../../../base/BaseController"),o=t("../item/LuckyWheelItem"),s=t("./LuckyWheelConstant"),a=t("./LuckyWheelConfig"),r=t("../../../util/FormatUtil"),c=t("../../../helper/Message"),h=t("../../../helper/Constant");cc.Class({extends:n,properties:{spin3Node:cc.Node,numberSpinLabel:cc.Label,luckyWheelItems3:[o],notificationNode:cc.Node,notificationLabel:cc.Label},init:function(t){this.controller=t},onLoad:function(){this._super(),this.isSpining=!1,this.initData()},initData:function(){var t=this.getLuckyWheel()[2];for(var e in t)this.luckyWheelItems3[e].init(t[e]);this.initLuckyWheelFree()},initLuckyWheelFree:function(){var t=this.getUserLuckyWheelFree();this.getUser().lucky_wheel_free=t;var e=t>0?r.numberWithCommas(t):0;this.numberSpinLabel.string=e,this.notificationLabel.string=e,this.notificationNode.active=t>0},minusLuckyWheelFree:function(){this.getUser().lucky_wheel_free--,this.initLuckyWheelFree()},plusLuckyWheelFree:function(){this.getUser().lucky_wheel_free++,this.initLuckyWheelFree()},addLuckyWheelFree:function(t){this.getUser().lucky_wheel_free+=t,this.initLuckyWheelFree()},onCloseClick:function(){this.node.active=!1},onTutorialClick:function(){this.controller.Tutorial.showDialog(),this.controller.Tutorial.showTutorialByGameName(h.LUCK_WHEEL)},onGetSpinClick:function(){},onSpinClick:function(){this.isSpining?this.controller.showToast(c.LUCKY_WHEEL_IS_SPINING):this.sendRequest.sendNoPrefixToZone(s.REQUEST_SPIN)},handleRequest:function(t){var e=t.game_cmd,i=t.game_data,n=t.game_msg;switch(e){case s.SPIN:this.handleSpin(i);break;case s.MESSAGE:this.handleMessage(n)}},handleSpin:function(t){this.isSpining=!0;var e=t.data,i=this.getDataByRoundType(e,2).id,n=void 0;for(var o in this.luckyWheelItems3)if(this.luckyWheelItems3[o].data.id==i){n=this.luckyWheelItems3[o];break}this.roundLuckyWheel(n,this.spin3Node),this.minusLuckyWheelFree()},getDataByRoundType:function(t,e){for(var i in t)if(t[i].round_type===e)return t[i];return null},roundLuckyWheel:function(t,e,i){if(t){var n=t.node.rotation,o=360*a.NUMBER_SPIN_TIME-n,r=-(360*a.NUMBER_SPIN_TIME+n);o=i?r:o,e.runAction(cc.sequence(cc.rotateTo(a.TIME_SPIN,o).easing(cc.easeCircleActionOut()),cc.callFunc(function(){t.data.type===s.ADD_TURN&&this.plusLuckyWheelFree(),this.isSpining=!1},this)))}},handleMessage:function(t){this.controller.showToast(t)}}),cc._RF.pop()},{"../../../base/BaseController":"BaseController","../../../helper/Constant":"Constant","../../../helper/Message":"Message","../../../util/FormatUtil":"FormatUtil","../item/LuckyWheelItem":"LuckyWheelItem","./LuckyWheelConfig":"LuckyWheelConfig","./LuckyWheelConstant":"LuckyWheelConstant"}],MailItem:[function(t,e,i){"use strict";cc._RF.push(e,"d98345ZpGZGcKpWaCCIUcp8","MailItem");var n=t("../../util/FormatUtil"),o=t("../../helper/Message");cc.Class({extends:cc.Component,properties:{bgOnNode:cc.Node,bgOffNode:cc.Node,titleLabel:cc.Label,timeLabel:cc.Label},init:function(t,e){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI,this.GameInfo=t.GameInfo,this.ConfirmRemoveMail=t.ConfirmRemoveMail,this.InfoMail=this.GameInfo.InfoMail,this.data=e,this.titleLabel.string=e.title,this.setReaded(e.is_read),e.created_at>=1e10&&(e.created_at=parseInt(e.created_at/1e3)),this.timeLabel.string=String.format(o.MAIL_DETAIL_TITLE,e.from_username,n.getStringDateByTimeStamp(e.created_at))},onLoad:function(){},isReaded:function(){return 0!=this.data.is_read&&null!==this.data.is_read},setReaded:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.bgOnNode.active=!(0==t||null===t),this.bgOffNode.active=0==t||null===t},onDeleteClick:function(){this.GameCenter.Audio.playClick(),this.ConfirmRemoveMail.setId(this.data.id,this.isReaded()),this.GameCenterUI.showConfirmRemoveMailFormNode()},onReadClick:function(){this.GameCenter.Audio.playClick(),this.readMail()},readMail:function(){if(this.InfoMail.showMailDetailNode(this.data),!this.isReaded()){var t={id:this.data.id,token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId()};this.GameCenter.api.readMessage(t,function(t){},function(t){}),this.setReaded(1),this.data.is_read=1,this.GameCenter.Header.HeaderAccount.minusUnreadMessage()}}}),cc._RF.pop()},{"../../helper/Message":"Message","../../util/FormatUtil":"FormatUtil"}],Message:[function(t,e,i){"use strict";cc._RF.push(e,"ab5f6SBt1RELaLx6JLF8Pdx","Message");e.exports={TITLE_SUCCESS:"Th\xe0nh c\xf4ng",TITLE_FAILED:"L\u1ed7i",TIME_OUT_LOADING:"C\xf3 l\u1ed7i trong qu\xe1 tr\xecnh th\u1ef1c hi\u1ec7n, vui l\xf2ng th\u1eed l\u1ea1i",CONNECT_SFS_ERROR:"Kh\xf4ng th\u1ec3 k\u1ebft n\u1ed1i t\u1edbi Server",MISSING_INFO:"Vui l\xf2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 c\xe1c th\xf4ng tin",SUCCESS:"Th\xe0nh c\xf4ng",FAILURE:"Th\u1ea5t b\u1ea1i",HOT_UPDATE_CHECKING_VERSION:"\u0110ang ki\u1ec3m tra phi\xean b\u1ea3n ...",HOT_UPDATE_RETRY:"Th\u1eed l\u1ea1i",HOT_UPDATE_NOT_FOUND:"Kh\xf4ng t\xecm th\u1ea5y b\u1ea3n c\u1eadp nh\u1eadt",HOT_UPDATE_DOWNLOAD_MANIFEST_FAILED:"T\u1ea3i b\u1ea3n c\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i",HOT_UPDATE_ALREADY_UP_TO_DATE:"B\u1ea1n \u0111ang d\xf9ng phi\xean b\u1ea3n m\u1edbi nh\u1ea5t",HOT_UPDATE_FOUND_UPDATE:"T\xecm th\u1ea5y b\u1ea3n c\u1eadp nh\u1eadt m\u1edbi",HOT_UPDATE_UPDATING:"\u0110ang c\u1eadp nh\u1eadt phi\xean b\u1ea3n m\u1edbi ...",HOT_UPDATE_UPDATE_SUCCESS:"C\u1eadp nh\u1eadt ho\xe0n th\xe0nh!",HOT_UPDATE_UPDATE_FAILED:"C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i!",SPLASH_GET_GET_DATA:"\u0110ang l\u1ea5y d\u1eef li\u1ec7u game ...",SPLASH_GET_CONFIG_FAILED:"L\u1ea5y d\u1eef li\u1ec7u th\u1ea5t b\u1ea1i",VERSION:"Phi\xean b\u1ea3n: {0}",CONTACT:"Hotline: {0}",OTP_FIRST_ACCOUNT:"K\xedch ho\u1ea1t s\u1ed1 \u0111i\u1ec7n tho\u1ea1i b\u1ea3o m\u1eadt \u0111\u1ec3 b\u1ea3o v\u1ec7 t\xe0i kho\u1ea3n b\u1ea1n nh\xe9!",OTP_ACTIVE_ACCOUNT:"Vui l\xf2ng so\u1ea1n tin <color=yellow>{0}</color> g\u1eedi <color=yellow>{1}</color> \u0111\u1ec3 k\xedch ho\u1ea1t OTP",OTP_FORGET_PASSWORD:"B\u01b0\u1edbc 1: So\u1ea1n tin <color=yellow>{0}</color> g\u1eedi <color=yellow>{1}</color> \u0111\u1ec3 l\u1ea5y m\xe3 x\xe1c th\u1ef1c",SAFE_GET_OTP:"So\u1ea1n tin: <color = #F0FF40>{0}</color> g\u1eedi <color=#F0FF40>{1}</color> \u0111\u1ec3 nh\u1eadn m\xe3 x\xe1c th\u1ef1c",LOGIN_TITLE:"\u0110\u0103ng nh\u1eadp",LOGIN_MISSING_USERNAME:"Thi\u1ebfu th\xf4ng tin t\xe0i kho\u1ea3n",LOGIN_MISSING_PASSWORD:"Thi\u1ebfu th\xf4ng tin m\u1eadt kh\u1ea9u",LOGIN_MISSING_CAPTCHA:"Thi\u1ebfu th\xf4ng tin m\xe3 x\xe1c nh\u1eadn",LOGIN_SECURITY_SMS:"\u0110\u1ec3 \u0111\u0103ng k\xfd b\u1ea3o m\u1eadt \u0111\u0103ng nh\u1eadp vui l\xf2ng so\u1ea1n tin <color=yellow>{0}</color> g\u1eedi <color=yellow>{1}</color>\n\u0110\u1ec3 h\u1ee7y b\u1ea3o m\u1eadt \u0111\u0103ng nh\u1eadp vui l\xf2ng so\u1ea1n tin <color=yellow>{2}</color> g\u1eedi <color=yellow>{3}</color>",LOGIN_SECURITY_SMS_2:"So\u1ea1n tin <color=yellow>{0}</color> g\u1eedi <color=yellow>{1}</color> \u0111\u1ec3 l\u1ea5y m\xe3 OTP",VINURITY_GAME:"Qu\u1ea3n l\xfd game",OTP_NOT_EMPTY:"M\xe3 OTP kh\xf4ng \u0111\u01b0\u1ee3c ph\xe9p tr\u1ed1ng",TIME_LOGIN:"B\u1ea1n \u0111\xe3 \u0111\u0103ng nh\u1eadp qu\xe1 nhi\u1ec1u\nVui l\xf2ng th\u1eed l\u1ea1i sau \xedt ph\xfat",ACCOUNT_ONLINE:"T\xe0i kho\u1ea3n \u0111ang \u0111\u01b0\u1ee3c \u0111\u0103ng nh\u1eadp tr\xean thi\u1ebft b\u1ecb kh\xe1c",ACCOUNT_ONLINE_2:"\u0110ang k\u1ebft n\u1ed1i l\u1ea1i v\u1edbi m\xe1y ch\u1ee7. Vui l\xf2ng thao t\xe1c \u0110\u0102NG NH\u1eacP l\u1ea1i!",REGISTER_TITLE:"\u0110\u0103ng k\xfd",REGISTER_MISSING_USERNAME:"Vui l\xf2ng nh\u1eadp t\xean t\xe0i kho\u1ea3n",REGISTER_MISSING_PASSWORD:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u",REGISTER_MISSING_REPASSWORD:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u x\xe1c nh\u1eadn",REGISTER_REPASSWORD_NOT_CORRECT:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u ch\u01b0a ch\xednh x\xe1c. Vui l\xf2ng th\u1eed l\u1ea1i",REGISTER_NOT_AGREE_TERM:"Vui l\xf2ng x\xe1c nh\u1eadn l\u1ea1i c\xe1c \u0111i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng",REGISTER_PASSWORD_SHORT:"M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c d\u01b0\u1edbi 6 k\xfd t\u1ef1",FORGET_PASSWORD_TITLE:"Qu\xean m\u1eadt kh\u1ea9u",FORGET_PASSWORD_MISSING_USERNAME_EMAIL:"Vui l\xf2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 t\xean t\xe0i kho\u1ea3n v\xe0 Email",FORGET_PASSWORD_NOT_SUPPORT_FORGET_PASSWORD_BY_PHONE:"Ch\xfang t\xf4i hi\u1ec7n ch\u01b0a h\u1ed7 tr\u1ee3 l\u1ea5y l\u1ea1i m\u1eadt kh\u1ea9u b\u1eb1ng s\u1ed1 \u0111i\u1ec7n tho\u1ea1i",FORGET_PASSWORD_SUCCESS:"G\u1eedi email th\xe0nh c\xf4ng. Vui l\xf2ng ki\u1ec3m tra email \u0111\u1ec3 l\u1ea5y th\xf4ng tin v\u1ec1 m\u1eadt kh\u1ea9u m\u1edbi",FORGET_PASSWORD_RE_PASSWORD_NOT_CORRECT:"M\u1eadt kh\u1ea9u x\xe1c nh\u1eadn kh\xf4ng ch\xednh x\xe1c",CHANGE_PASSWORD_TITLE:"\u0110\u1ed5i m\u1eadt kh\u1ea9u",CHANGE_PASSWORD_RE_PASSWORD_NOT_CORRECT:"M\u1eadt kh\u1ea9u x\xe1c nh\u1eadn kh\xf4ng ch\xednh x\xe1c",CHANGE_PASSWORD_GET_OTP:"B\u1ea1n vui l\xf2ng s\u1eed d\u1ee5ng OTP App \u0111\u1ec3 nh\u1eadn OTP ho\u1eb7c li\xean h\u1ec7 v\u1edbi QTV \u0111\u1ec3 bi\u1ebft th\xeam th\xf4ng tin",SET_NICKNAME_TITLE:"T\u1ea1o nh\xe2n v\u1eadt",SET_NICKNAME_NICKNAME_NOT_EMPTY:"T\xean nh\u1eadn v\u1eadt kh\xf4ng \u0111\u01b0\u1ee3c tr\u1ed1ng",NICKNAME_DIFFERENT_USERNAME:"T\xean nh\xe2n v\u1eadt kh\xf4ng \u0111\u01b0\u1ee3c tr\xf9ng v\u1edbi t\xe0i kho\u1ea3n",OTP_LOGIN_TITLE:"B\u1ea3o m\u1eadt \u0111\u0103ng nh\u1eadp",SECURITY_GAME:"B\u1ea3o m\u1eadt",REGISTER_GIFTCODE_WELCOME:"Xin ch\xe0o <color=yellow>{0}</color>",LOGOUT_TITLE:"\u0110\u0103ng xu\u1ea5t",UPDATE_INFO:"C\u1eadp nh\u1eadt",UPDATE_AVATAR_TITLE:"\u0110\u1ed5i avatar",UPDATE_PASSWORD_TITLE:"\u0110\u1ed5i m\u1eadt kh\u1ea9u",FORMAT_PHONE_NOT_CORRECT:"\u0110\u1ecbnh d\u1ea1ng s\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng ch\xednh x\xe1c",FORMAT_DOB_NOT_CORRECT:"\u0110\u1ecbnh d\u1ea1ng ng\xe0y sinh kh\xf4ng ch\xednh x\xe1c",FORMAT_EMAIL_NOT_CORRECT:"\u0110\u1ecbnh d\u1ea1ng Email kh\xf4ng ch\xednh x\xe1c",INFO_DOB:"{0}/{1}/{2}",PLAYER_INFO_TITLE:"Th\xf4ng tin ng\u01b0\u1eddi ch\u01a1i",MAIL_TITLE:"H\xf2m th\u01b0",MAIL_DETAIL_TITLE:"Ngu\u1eddi g\u1eedi: {0} - Th\u1eddi gian: {1}",MAIL_NOTIFICATION:"B\u1ea1n c\xf3 tin nh\u1eafn m\u1edbi",RECHARGE_MONEY_SUCCESS:"B\u1ea1n \u0111\xe3 n\u1ea1p th\xe0nh c\xf4ng {0} {1}",RECHARGE_MONEY_TITLE:"N\u1ea1p th\u1ebb",RECHARGE_MONEY_HISTORY_NAME:"N\u1ea1p th\u1ebb {0}",RECHARGE_MONEY_HISTORY_NOTE:"Code: {0} - Seri: {1}",NUMBER_MONEY_LARGER_ZERO:"S\u1ed1 VIN ph\u1ea3i > 0",RECHARGE_GOLD_SUCCESS:"\u0110\u1ed5i th\xe0nh c\xf4ng",RECHARGE_GOLD_TITLE:"\u0110\u1ed5i XU",RECHARGE_GOLD_HISTORY_NAME:"\u0110\u1ed5i XU",RECHARGE_GOLD_HISTORY_NOTE:"S\u1ed1 XU nh\u1eadn \u0111\u01b0\u1ee3c: {0}",RECHARGE_SMS_NOTE:"<color=#A17E1A><i>N\u1ea1p {0} nh\u1eadn ngay {1} VIN</i></c>",RECHARGE_SMS_MSG:"So\u1ea1n <color=yellow>{0}</color> g\u1eedi <color=green>{1}</color>",RECHARGE_SMS_TENDANGNHAP:"tendangnhap",RECHARGE_SMS_ANDROID:"sms:{0}?body={1}",RECHARGE_SMS_IOS:"sms:{0}&body={1}",RECHARGE_SMS_HISTORY_NAME:"N\u1ea1p SMS",AWARD_TITLE:"\u0110\u1ed5i th\u01b0\u1edfng",AWARD_DESCRIBE:"\u0110\u1ed5i th\u1ebb {0}",NUMBER_CARDS_LARGER_ZERO:"S\u1ed1 l\u01b0\u1ee3ng th\u1ebb ph\u1ea3i > 0",CHARGE_CARD_ITEM_VALUE:"{0}\u0110",TRANSFER_TITLE:"Chuy\u1ec3n kho\u1ea3n",VALUE_LARGER_ZERO:"S\u1ed1 VIN ph\u1ea3i > 0",RE_NICKNAME_NOT_CORRECT:"X\xe1c nh\u1eadn nickname kh\xf4ng ch\xednh x\xe1c",TRANSFER_OTP:"So\u1ea1n tin <color=yellow>{0}</color> g\u1eedi <color=yellow>{1}</color>",SAFE_TITLE:"K\xe9t s\u1eaft",SAFE_NOT_ACTIVE_PHONE:"Vui l\xf2ng b\u1ea3o m\u1eadt t\xe0i kho\u1ea3n b\u1eb1ng S\u1ed1 \u0111i\u1ec7n tho\u1ea1i \u0111\u1ec3 r\xfat ti\u1ec1n",HISTORY_TITLE:"L\u1ecbch s\u1eed",TOP_TITLE:"B\u1ea3ng x\u1ebfp h\u1ea1ng",GIFTCODE_TITLE:"Gift Code",GIFTCODE_NOT_ACTIVE:"Vui l\xf2ng b\u1ea3o m\u1eadt \u0111\u1ec3 s\u1eed d\u1ee5ng Gift Code",FRIEND_TITLE:"Nh\xe0 ph\xe1t tri\u1ec3n",FRIEND_NOT_ACTIVE:"Vui l\xf2ng b\u1ea3o m\u1eadt \u0111\u1ec3 s\u1eed d\u1ee5ng ch\u1ee9c n\u0103ng Nh\xe0 Ph\xe1t Tri\u1ec3n",CAPCHA_NOT_CORRECT:"M\xe3 x\xe1c nh\u1eadn kh\xf4ng ch\xednh x\xe1c",CHAT_MESSAGE:"<b><color=#FCC63C>{0}</color><color=#FFF48D>{1}: </b></color>{2}",CHAT_MESSAGE_FAIL:"<color=red><i>{0}</i></color>",CHAT_GAME_MESSAGE:"<color=fecb6e>{0}: </color>{1}",CHAT_TAI_XIU_MESSAGE:"<color=fadb32>{0}: </color>{1}",CHAT_TAI_XIU_VIP_MESSAGE:"<color=04fd4a>{0}: </color>{1}",CHAT_SLOT_2_MESSAGE:"<color=#DE9100>{0}: </color><color=#C3C2C3>{1}</color>",JOIN_ROOM_TITLE:"Ch\u1ecdn ph\xf2ng",NOT_ENOUGH_MONEY_TO_JOIN_GAME:"B\u1ea1n c\u1ea7n t\u1ed1i thi\u1ec3u {0} {1} \u0111\u1ec3 tham gia ch\u01a1i game",NOT_ENOUGH_MONEY_TO_STAY_GAME:"B\u1ea1n c\u1ea7n {0} {1} \u0111\u1ec3 ti\u1ebfp t\u1ee5c ch\u01a1i game!",JOIN_ROOM_ERROR:"Ph\xf2ng ch\u01a1i hi\u1ec7n t\u1ea1i \u0111ang b\u1ecb kh\xf3a",INTIVE_TITLE:"M\u1eddi b\u1ea1n",NOTIFICATION_TITLE:"Th\xf4ng b\xe1o",MONEY:"Vin",GOLD:"Xu",TAI_XIU:"T\xe0i X\u1ec9u",MINI_POKER:"Mini Poker",MINI_BACAY:"Mini Ba C\xe2y",DIAMOND:"Kim C\u01b0\u01a1ng",LUCK_WHEEL:"V\xf2ng Quay May M\u1eafn",TREN_DUOI:"Cao Th\u1ea5p",DIAMOND_2:"H\u1ea3i T\u1eb7c",BAU_CUA:"B\u1ea7u Cua",INVITE_MESSAGE:"Ng\u01b0\u1eddi ch\u01a1i <color=green>{0}</color> m\u1eddi b\u1ea1n v\xe0o game <color=green>{1}</color>\nM\u1ee9c c\u01b0\u1ee3c: <color=yellow>{2} {3}</color>",GAME_DESCRIBE_TABLE_NAME:"B\xe0n {0} - Phi\xean {1}",GAME_DESCRIBE_TABLE_BET:"{0} {1}",REQUEST_LEFT_ROOM:"\u0110\u0103ng k\xfd r\u1eddi b\xe0n th\xe0nh c\xf4ng",IGNORE_REQUEST_LEFT_ROOM:"H\u1ee7y r\u1eddi b\xe0n th\xe0nh c\xf4ng",BACAY_WIN_ALL:"B\u1eaeT C\u1ea2 L\xc0NG",BACAY_LOSE_ALL:"PH\xc1T L\u01af\u01a0NG",BACAY_BET_PRIVATE_BUTTON:"\u0110\xc1NH BI\xcaN T\u1ea4T C\u1ea2 ({0})",MAU_BINH_BINH_LUNG_NOT_COMPLETE:"Binh l\u1ee7ng kh\xf4ng th\u1ec3 ho\xe0n th\xe0nh",MAU_BINH_KHONG_HOP_LE:"KH\xd4NG H\u1ee2P L\u1ec6",MAU_BINH_THUNG_PHA_SANH_LON:"TH\xd9NG PH\xc1 S\u1ea2NH \u0110\u1ea0I",MAU_BINH_THUNG_PHA_SANH:"TH\xd9NG PH\xc1 S\u1ea2NH",MAU_BINH_TU_QUY:"T\u1ee8 QU\xdd",MAU_BINH_CU_LU:"C\xd9 L\u0168",MAU_BINH_THUNG:"TH\xd9NG",MAU_BINH_SANH_DAI:"S\u1ea2NH \u0110\u1ea0I",MAU_BINH_SANH_NHI:"S\u1ea2NH NH\u1eca",MAU_BINH_SANH_THUONG:"S\u1ea2NH",MAU_BINH_SAM:"S\xc1M",MAU_BINH_THU:"TH\xda",MAU_BINH_DOI:"\u0110\xd4I",MAU_BINH_MAU_THAU:"M\u1eacU TH\u1ea6U",MAU_BINH_COMPLETED:"HO\xc0N TH\xc0NH",MAU_BINH_RONG_CUON:"R\u1ed2NG CU\u1ed0N",MAU_BINH_SANH_RONG:"S\u1ea2NH R\u1ed2NG",MAU_BINH_MUOI_BA_LA_CUNG_MAU:"\u0110\u1ed2NG HOA",MAU_BINH_NAM_DOI_MOT_SAM:"N\u0102M \u0110\xd4I M\u1ed8T S\xc1M",MAU_BINH_LUC_PHE_BON:"L\u1ee4C PH\xc9 B\xd4N",MAU_BINH_BA_THUNG_TAI_BA_CHI:"BA TH\xd9NG BA CHI",MAU_BINH_BA_SANH_TAI_BA_CHI:"BA S\u1ea2NH BA CHI",MAU_BINH_THUNG_PHA_SANH_CHI_DAU:"TH\xd9NG PH\xc1 S\u1ea2NH CHI \u0110\u1ea6U",MAU_BINH_TU_QUY_CHI_DAU:"T\u1ee8 QU\xdd CHI \u0110\u1ea6U",MAU_BINH_THUNG_PHA_SANH_CHI_GIUA:"TH\xd9NG PH\xc1 S\u1ea2NH CHI GI\u1eeeA",MAU_BINH_TU_QUY_CHI_GIUA:"T\u1ee8 QU\xdd CHI GI\u1eeeA",MAU_BINH_CU_LU_CHI_GIUA:"C\xd9 L\u0168 CHI GI\u1eeeA",MAU_BINH_SAM_CHI_CUOI:"S\xc1M CHI CU\u1ed0I",MAU_BINH_BINH_LUNG:"BINH L\u1ee6NG",MAU_BINH_SAP_BA_CHI:"S\u1eacP BA CHI",MAU_BINH_THANG_BA_CHI:"TH\u1eaeNG BA CHI",MAU_BINH_CHI_TYPE:"{0} . {1}",TLMN_IGNORE_TURN:"B\u1ece L\u01af\u1ee2T",TLMN_BA_DOI_THONG:"BA \u0110\xd4I TH\xd4NG",TLMN_BON_DOI_THONG:"B\u1ed0N \u0110\xd4I TH\xd4NG",TLMN_MOT_TU_QUY:"T\u1ee8 QU\xdd",TLMN_CONG:"C\xd3NG",TLMN_THOI_HAI:"TH\u1ed0I HAI",TLMN_THOI_BA_DOI_THONG:"TH\u1ed0I BA \u0110\xd4I TH\xd4NG",TLMN_THOI_TU_QUY:"TH\u1ed0I T\u1ee8 QU\xdd",TLMN_THOI_BON_DOI_THONG:"TH\u1ed0I B\u1ed0N \u0110\xd4I TH\xd4NG",TLMN_SANH_RONG:"S\u1ea2NH R\u1ed2NG",TLMN_SAU_DOI_THONG:"S\xc1U \u0110\xd4I TH\xd4NG",TLMN_BON_BO_BA:"B\u1ed0N B\u1ed8 BA",TLMN_HAI_BO_TU_QUY:"HAI B\u1ed8 T\u1ee8 QU\xdd",TLMN_MUOI_HAI_CON_DONG_CHAT:"\u0110\u1ed2NG HOA",TLMN_NAM_DOI_THONG:"N\u0102M \u0110\xd4I TH\xd4NG",TLMN_TU_HAI:"T\u1ee8 QU\xdd HAI",TLMN_SAU_DOI:"S\xc1U \u0110\xd4I",TLMN_CHAN_KET_BA_BICH:"CH\u1eb6N K\u1ebeT BA B\xcdCH",TLMN_KET_BA_BICH:"K\u1ebeT BA B\xcdCH",SAM_BAO_MOT:"B\xc1O 1",SAM_THANG_BAO_MOT:"TH\u1eaeNG B\xc1O 1",SAM_THUA_BAO_MOT:"THUA B\xc1O 1",SAM_IGNORE_TURN:"B\u1ece L\u01af\u1ee2T",SAM_XIN_SAM:"XIN S\xc2M",SAM_CONG:"C\xd3NG",SAM_THOI_HAI:"TH\u1ed0I HAI",SAM_THUA_SAM:"THUA S\xc2M",SAM_THANG_SAM:"TH\u1eaeNG S\xc2M",POKER_CHECK:"XEM",POKER_FOLD:"B\u1ece B\xc0I",POKER_ALL_IN:"ALL IN",POKER_RAISE:"T\u1ed0",POKER_CALL:"THEO",POKER_THUNG_PHA_SANH_LON:"TH\xd9NG PH\xc1 S\u1ea2NH \u0110\u1ea0I",POKER_THUNG_PHA_SANH:"TH\xd9NG PH\xc1 S\u1ea2NH",POKER_TU_QUY:"T\u1ee8 QU\xdd",POKER_CU_LU:"C\xd9 L\u0168",POKER_THUNG:"TH\xd9NG",POKER_SANH_DAI:"S\u1ea2NH \u0110\u1ea0I",POKER_SANH_NHI:"S\u1ea2NH NH\u1eca",POKER_SANH_THUONG:"S\u1ea2NH",POKER_SAM:"S\xc1M",POKER_THU:"TH\xda",POKER_DOI:"\u0110\xd4I",POKER_BAI_CAO:"B\xc0I CAO",LIENG_CHECK:"XEM",LIENG_FOLD:"B\u1ece B\xc0I",LIENG_ALL_IN:"ALL IN",LIENG_RAISE:"T\u1ed0",LIENG_CALL:"THEO",LIENG_SAP:"S\xc1P",LIENG_LIENG:"LI\xcaNG",LIENG_BO_DOI:"B\u1ed8 \u0110\u1ed8I",LIENG_BET_TEXT:"{0} ({1})",XOC_DIA_REGISTER_FORM_MESSAGE_HOME:"C\xe1i",XOC_DIA_REGISTER_FORM_MESSAGE_WAITING:"\u0110ang ch\u1edd",XOC_DIA_REGISTER_FORM_MESSAGE_IGNORE:"Ngh\u1ec9 l\xe0m c\xe1i",XOC_DIA_START_REGISTER_HOST:"B\u1eaft \u0111\u1ea7u \u0111\u0103ng k\xfd l\xe0m host",XOC_DIA_WAIT_NEXT_GAME:"Ch\u1edd \u0111\u1ec3 b\u1eaft \u0111\u1ea7u v\xe1n ch\u01a1i m\u1edbi",XOC_DIA_START_BET:"Vui l\xf2ng \u0111\u1eb7t c\u01b0\u1ee3c",XOC_DIA_BUY_SELL_DOOR:"Th\u1eddi gian mua b\xe1n c\u1eeda",XOC_DIA_NOT_TIME_TO_BET:"Kh\xf4ng ph\u1ea3i th\u1eddi gian \u0111\u1ec3 \u0111\u1eb7t c\u1eeda",XOC_DIA_NOT_SELECT_CHIP:"B\u1ea1n ch\u01b0a ch\u1ecdn ti\u1ec1n c\u01b0\u1ee3c",XOC_DIA_BALANCE_DOOR:"C\xe2n c\u1eeda",XOC_DIA_RESULT:"V\xe1n ch\u01a1i k\u1ebft th\xfac",XOC_DIA_NOT_BET_NO_HOST:"Kh\xf4ng th\u1ec3 \u0111\u1eb7t c\u1eeda n\xe0y khi kh\xf4ng c\xf3 C\xe1i",XOC_DIA_HOST_NOT_BET:"C\xe1i kh\xf4ng th\u1ec3 \u0111\u1eb7t",XOC_DIA_ID:"#{0}",PHOM_SELECT_ONE_CARD:"B\u1ea1n ch\u01b0a ch\u1ecdn b\xe0i",PHOM_PLEASE_BOC_BAI:"B\u1ea1n ch\u01b0a b\u1ed1c b\xe0i",PHOM_PLEASE_SELECT_CARDS_HA:"Vui l\xf2ng ch\u1ecdn ph\u1ecfm c\u1ea7n h\u1ea1",PHOM_AN_CHOT:"\u0102N CH\u1ed0T",PHOM_BI_AN_CHOT:"B\u1eca \u0102N CH\u1ed0T",PHOM_U:"\xd9",PHOM_U_KHAN:"\xd9 KHAN",PHOM_U_TRON:"\xd9 TR\xd2N",PHOM_U_DEN:"\xd9 \u0110\u1ec0N",PHOM_DEN:"\u0110\u1ec0N L\xc0NG",PHOM_NHAT:"NH\u1ea4T",PHOM_NHI:"NH\xcc",PHOM_BA:"BA",PHOM_BET:"B\xc9T",PHOM_MOM:"M\xd3M",PHOM_SCORE:"{0} \u0110I\u1ec2M",XITO_CHECK:"XEM",XITO_FOLD:"B\u1ece B\xc0I",XITO_ALL_IN:"ALL IN",XITO_RAISE:"T\u1ed0",XITO_CALL:"THEO",XITO_THUNG_PHA_SANH:"TH\xd9NG PH\xc1 S\u1ea2NH",XITO_TU_QUY:"T\u1ee8 QU\xdd",XITO_CU_LU:"C\xd9 L\u0168",XITO_THUNG:"TH\xd9NG",XITO_SANH:"S\u1ea2NH",XITO_SAM:"S\xc1M",XITO_THU:"TH\xda",XITO_DOI:"\u0110\xd4I",XITO_BAI_CAO:"B\xc0I CAO",PLAYING_NOT_CHANGE_BET:"Ch\u1edd h\u1ebft l\u01b0\u1ee3t \u0111\u1ec3 \u0111\u1ed5i c\u1eeda \u0111\u1eb7t",PLAYING_NOT_CHANGE_MONEY_TYPE:"Ch\u1edd h\u1ebft l\u01b0\u1ee3t \u0111\u1ec3 \u0111\u1ed5i lo\u1ea1i ti\u1ec1n",PLAYING_NOT_CHANGE_NUMBER_LINE:"Ch\u1edd h\u1ebft l\u01b0\u1ee3t \u0111\u1ec3 \u0111\u1ed5i s\u1ed1 d\xf2ng",AUTO_SPIN_NOT_CHANGE_BET:"\u0110ang t\u1ef1 \u0111\u1ed9ng quay kh\xf4ng \u0111\u01b0\u1ee3c thay \u0111\u1ed5i c\u1eeda \u0111\u1eb7t",AUTO_SPIN_NOT_CHANGE_MONEY_TYPE:"\u0110ang t\u1ef1 \u0111\u1ed9ng quay kh\xf4ng \u0111\u01b0\u1ee3c thay \u0111\u1ed5i lo\u1ea1i ti\u1ec1n",AUTO_SPIN_NOT_CHANGE_NUMBER_LINE:"\u0110ang t\u1ef1 \u0111\u1ed9ng quay kh\xf4ng \u0111\u01b0\u1ee3c thay \u0111\u1ed5i s\u1ed1 d\xf2ng",SPIN_TOO_FAST:"Quay qu\xe1 nhanh",MINIGAME_ID:"#{0}",TAIXIU_HISTORIES_DETAIL:"Phi\xean ch\u01a1i {0} - {1}",TAIXIU_BALANCE_DOOR:"Tr\u1ea3 ti\u1ec1n c\xe2n c\u1eeda",TAIXIU_YOU_NOT_BET:"Vui l\xf2ng nh\u1eadp ti\u1ec1n c\u01b0\u1ee3c",TRENDUOI_CLICK_PLAY:"B\u1ea5m v\xe0o PLAY \u0111\u1ec3 b\u1eaft \u0111\u1ea7u ch\u01a1i",TRENDUOI_FINISH:"K\u1ebft th\xfac",TRENDUOI_LOSE:"B\u1ea1n \u0111\xe3 thua. Ch\xfac b\u1ea1n may m\u1eafn l\u1ea7n sau",TRENDUOI_STOP_SPINING:"Vui l\xf2ng ch\u1edd v\xf2ng quay k\u1ebft th\xfac",TAIXIU_YOU_ONLE_BET_A_DOOR:"B\u1ea1n ch\u1ec9 \u0111\u01b0\u1ee3c \u0111\u1eb7t m\u1ed9t c\u1eeda",BAU_CUA_NEXT_TURN:"L\u01b0\u1ee3t ti\u1ebfp theo",BAU_CUA_BET:"\u0110\u1eb7t c\u01b0\u1ee3c",BAU_CUA_TOP_WEEK_TITLE:"Top tu\u1ea7n",TAIXIU_CHAIN_WIN:"D\xe2y hi\u1ec7n t\u1ea1i: {0}",TAIXIU_CHAIN_LOSE:"D\xe2y hi\u1ec7n t\u1ea1i: {0}",TAIXIU_CHAIN:"S\u1ef1 ki\u1ec7n \u0111ua d\xe2y t\xe0i x\u1ec9u",TAIXIU_CURRENT_CHAIN_WIN:"D\xe2y d\xe0i nh\u1ea5t: {0}",TAIXIU_CURRENT_CHAIN_LOSE:"D\xe2y d\xe0i nh\u1ea5t: {0}",DIAMOND_NO_LINE_SELECTED:"B\u1ea1n ch\u01b0a ch\u1ecdn d\xf2ng \u0111\u1eb7t c\u01b0\u1ee3c",MINIGAME_LOTTERY_RESULT:"Th\u1eafng",MINIGAME_LOTTERY_YOU_NOT_BET:"Vui l\xf2ng nh\u1eadp ti\u1ec1n c\u01b0\u1ee3c",MINIGAME_LOTTERY_PLEASE_SELECT_BET:"Vui l\xf2ng nh\u1eadp s\u1ed1 mu\u1ed1n c\u01b0\u1ee3c",MINIGAME_LOTTERY_YOU_BET_NOT_VALID:"S\u1ed1 ch\u1ecdn kh\xf4ng h\u1ee3p l\u1ec7",MINIGAME_LOTTERY_LO:"L\xd4",MINIGAME_LOTTERY_XIEN_2:"XI\xcaN 2",MINIGAME_LOTTERY_XIEN_3:"XI\xcaN 3",MINIGAME_LOTTERY_XIEN_4:"XI\xcaN 4",MINIGAME_LOTTERY_DE:"\u0110\u1ec0",MINIGAME_LOTTERY_DAU:"\u0110\u1ea6U",MINIGAME_LOTTERY_DUOI:"\u0110U\xd4I",MINIGAME_LOTTERY_HU:"QUAY H\u0168",LUCKY_WHEEL_IS_SPINING:"Vui l\xf2ng ch\u1edd v\xf2ng quay k\u1ebft th\xfac",LUCKY_WHEEL_CONGRATULATION:"Ch\xfac m\u1eebng b\u1ea1n nh\u1eadn \u0111\u01b0\u1ee3c ph\u1ea7n th\u01b0\u1edfng t\u1eeb V\xf2ng Quay May M\u1eafn",SLOT_NOT_CHANGE_BET:"Tr\u1ea1ng th\xe1i hi\u1ec7n t\u1ea1i kh\xf4ng th\u1ec3 thay \u0111\u1ed5i m\u1ee9c c\u01b0\u1ee3c",SLOT_NOT_AUTO_SPIN:"Tr\u1ea1ng th\xe1i hi\u1ec7n t\u1ea1i kh\xf4ng th\u1ec3 t\u1ef1 \u0111\u1ed9ng quay",SLOT_NOT_TEST:"Tr\u1ea1ng th\xe1i hi\u1ec7n t\u1ea1i kh\xf4ng th\u1ec3 ch\u01a1i th\u1eed",SLOT_BONUS_GAME_FINISH:"Ch\xfac m\u1eebng b\u1ea1n nh\u1eadn \u0111\u01b0\u1ee3c <color=yellow>{0} VIN</color>",SLOT_NOT_CHANGE_SPIN:"Vui l\xf2ng \u0111\u1ee3i v\xf2ng quay k\u1ebft th\xfac",SLOT_CANCEL_BACK:"Vui l\xf2ng \u0111\u1ee3i v\xf2ng ch\u01a1i k\u1ebft th\xfac",SLOT_NOT_CHANGE_SELECT_LINE:"Tr\u1ea1ng th\xe1i hi\u1ec7n t\u1ea1i kh\xf4ng th\u1ec3 ch\u1ecdn d\xf2ng c\u01b0\u1ee3c",SLOT2_NOT_SELECT_LINE:"Vui l\xf2ng ch\u1ecdn d\xf2ng c\u01b0\u1ee3c.",SLOT2_AUTOSPIN_NOT_CHANGE:"\u0110ang \u1edf ch\u1ebf \u0111\u1ed9 quay t\u1ef1 \u0111\u1ed9ng. B\u1ea1n kh\xf4ng th\u1ec3 th\u1ef1c hi\u1ec7n thao th\xe1c n\xe0y",SLOT2_RANK_1:"Ch\xfac m\u1eebng <color = #F7A200>{0}</color> \u0111\xe3 d\xe0nh \u0111\u01b0\u1ee3c H\u0169 <color = #F7A200>{1}</color> VIN v\xe0o l\xfac {2}",SLOT2_RANK_2:"TK <color = #F7A200>{0}</color> th\u1eafng <color = #F7A200>{1}</color> VIN {2} tr\u01b0\u1edbc",SLOT2_HISTORY:"B\u1ea1n ch\u01a1i ph\xf2ng {0} v\xe0 nh\u1eadn \u0111\u01b0\u1ee3c <color = #F7A200>{1}</color> {2} tr\u01b0\u1edbc",SLOT2_NOT_PLAY:"Vui l\xf2ng \u0111\u1ee3i v\xf2ng quay k\u1ebft th\xfac",SLOT3_NOT_SELECT_LINE:"Vui l\xf2ng ch\u1ecdn d\xf2ng c\u01b0\u1ee3c.",SLOT3_AUTOSPIN_NOT_CHANGE:"\u0110ang \u1edf ch\u1ebf \u0111\u1ed9 quay t\u1ef1 \u0111\u1ed9ng. B\u1ea1n kh\xf4ng th\u1ec3 th\u1ef1c hi\u1ec7n thao th\xe1c n\xe0y",SLOT3_RANK_1:"Ch\xfac m\u1eebng <color = #F7A200>{0}</color> \u0111\xe3 d\xe0nh \u0111\u01b0\u1ee3c h\u0169 <color = #F7A200>{1}</color> VIN v\xe0o l\xfac {2}",SLOT3_RANK_2:"TK <color = #F7A200>{0}</color> th\u1eafng <color = #F7A200>{1}</color> VIN {2} tr\u01b0\u1edbc",SLOT3_HISTORY:"B\u1ea1n ch\u01a1i ph\xf2ng {0} v\xe0 nh\u1eadn \u0111\u01b0\u1ee3c <color = #F7A200>{1}</color> {2} tr\u01b0\u1edbc",MESSAGE_FORBIDDEN:["hu79","hu 79","game moi","tai.hu79.win","hu79.win","hu.79","hu_79","t\u1ea3i","link","game m\u1edbi"],HU_LOC_MESSAGE:"Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 r\xfat \u0111\u01b0\u1ee3c {0} L\u1ed9c",HU_LOC_REGISTER:"B\u1ea1n \u0111\xe3 \u0111\u0103ng k\xfd xin l\u1ed9c th\xe0nh c\xf4ng",TAN_LOC_MESSAGE:"Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 r\xfat \u0111\u01b0\u1ee3c {0} L\u1ed9c",TAN_LOC_REGISTER:"t\xe0i kho\u1ea3n {0} \u0111\xe3 T\xe1n L\u1ed9c {1} VIN"},cc._RF.pop()},{}],MiniBaCayCard:[function(t,e,i){"use strict";cc._RF.push(e,"00e7ah3NfVE2KMMQnwsaL1J","MiniBaCayCard");var n=cc.Enum({Spade:1,Club:2,Heart:3,Diamon:4}),o="NAN,A,2,3,4,5,6,7,8,9,10,J,Q,K".split(",");function s(t){var e=parseInt(t/100),i=t%4;this.trueValue=100*e+i,this.value=e,this.type=i;var s=e,a=++i;s=14===s?1:s,Object.defineProperties(this,{point:{value:s,writable:!1},suit:{value:a,writable:!1},id:{value:13*(a-1)+(s-1),writable:!1},pointName:{get:function(){return o[this.point]}},suitName:{get:function(){return n[this.suit]}},isBlackSuit:{get:function(){return 1===this.suit||2===this.suit}},isRedSuit:{get:function(){return 3===this.suit||4===this.suit}}})}s.prototype.toString=function(){return this.suitName+" "+this.pointName},e.exports=s,cc._RF.pop()},{}],MiniBaCayConstant:[function(t,e,i){"use strict";cc._RF.push(e,"dbf0bAXLmFCYpC31i6JhGjo","MiniBaCayConstant");e.exports={REQUEST_MESSAGE:"MESSAGE",REQUEST_INFO:"INFO",REQUEST_SPIN:"SPIN",ADD_EVENT:"mini_3cay.ADD_EVENT",REMOVE_EVENT:"mini_3cay.REMOVE_EVENT",SPIN:"mini_3cay.SPIN",IS_SHOW:"mini_3cay_is_show",POSITION:"mini_3cay_position",IS_AUTO_SPIN:"mini_3cay_auto_spin",IS_SPIN_FAST:"mini_3cay_spin_fast",BET_VALUE:"mini_3cay_bet_value",BET_100:100,BET_1k:1e3,BET_10k:1e4,LINE_TYPE:"mini_3cay_line_type",MONEY_TYPE:"mini_3cay_money_type",MONEY_TYPE_GOLD:"GOLD",MONEY_TYPE_MONEY:"MONEY",GET_TOP_2:"GET_TOP",GET_TOP:"mini_3cay.GET_TOP",MINIGAME_CONFIG_ID:7},cc._RF.pop()},{}],MiniBaCayHistories:[function(t,e,i){"use strict";cc._RF.push(e,"69b11gPzOhAW4b8h5A0iyCw","MiniBaCayHistories");var n=t("../../../../helper/Message");cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,moneyButtonNode:cc.Node,goldButtonNode:cc.Node,historyMiniBaCayItemPrefab:cc.Prefab,historyScrollView:cc.ScrollView},init:function(t){this.controller=t},onLoad:function(){},onEnable:function(){this.data=null,this.onMoneyClick()},onDisable:function(){this.removeXhr()},onMoneyClick:function(){this.goldButtonNode.active=!0,this.moneyButtonNode.active=!1,this.loadData()},onGoldClick:function(){this.goldButtonNode.active=!1,this.moneyButtonNode.active=!0,this.loadData()},loadData:function(){var t=this;if(this.showLoadingNode(),this.historyScrollView.content.removeAllChildren(!0),this.data)this.initData();else{var e={token:this.controller.getToken(),user_id:this.controller.getUserId()};this.controller.api.getHistoryMiniBaCay(e,function(e){t.data=e.data,t.initData()},function(e){t.showListNode(),t.controller.showDialogMessage(n.HISTORY_TITLE,e.msg)})}},initData:function(){if(this.showListNode(),this.data){var t=this.isMoneyType()?this.data[0]:this.data[1];for(var e in t){var i=cc.instantiate(this.historyMiniBaCayItemPrefab);i.parent=this.historyScrollView.content,i.getComponent("MiniPokerHistoryItem").init(t[e],e)}}},isMoneyType:function(){return this.goldButtonNode.active},showLoadingNode:function(){this.loadingNode.active=!0,this.historyScrollView.node.active=!1},showListNode:function(){this.loadingNode.active=!1,this.historyScrollView.node.active=!0},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{"../../../../helper/Message":"Message"}],MiniBaCayReels:[function(t,e,i){"use strict";cc._RF.push(e,"9ab07AaNndHqpuWrdlvzvNG","MiniBaCayReels");var n=t("./MiniBaCayReel"),o=t("../../../util/FormatUtil"),s=t("../../../helper/Config");cc.Class({extends:cc.Component,properties:{reels:[n],resultNode:cc.Node,moneyLabel:cc.Label},init:function(t){for(var e in this.MiniBaCay=t,this.reels)this.reels[e].init(t,this)},onEnable:function(){this.reset()},onDisable:function(){this.reset()},spinReelsShowMoney:function(t,e,i,n,o,a,r){for(var c in this.reels)c==this.reels.length-1?this.reels[c].spin(t[c],s.MINIPOKER_NUMBER_CARDS_SPIN+2*c,!0,!0,e,a,i,n,o,r):this.reels[c].spin(t[c],s.MINIPOKER_NUMBER_CARDS_SPIN+2*c,!0)},spinReelsNotShowMoney:function(t,e,i,n,o,a){for(var r in this.reels)r==this.reels.length-1?this.reels[r].spin(t[r],s.MINIPOKER_NUMBER_CARDS_SPIN+2*r,!1,!0,e,a,i,n,o,!0):this.reels[r].spin(t[r],s.MINIPOKER_NUMBER_CARDS_SPIN+2*r,!1)},showMoney:function(t){this.resultNode.active=!0,this.moneyLabel.string=o.numberWithCommas(t),clearTimeout(this.resultTimeout),this.resultTimeout=setTimeout(function(){this.reset()}.bind(this),1500)},isSpinning:function(){return 0!==cc.director.getActionManager().getNumberOfRunningActionsInTarget(this.reels[0].node)},reset:function(){this.resultNode.active=!1,clearTimeout(this.resultTimeout)}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../util/FormatUtil":"FormatUtil","./MiniBaCayReel":"MiniBaCayReel"}],MiniBaCayReel:[function(t,e,i){"use strict";cc._RF.push(e,"c2a35BzKExNwZELdDXYID+0","MiniBaCayReel");var n=t("./MiniBaCayCard"),o=t("../MiniGameConstant"),s=t("../../../util/RandomUtil"),a=t("../../../helper/Config");cc.Class({extends:cc.Component,properties:{cardPrefab:cc.Prefab},init:function(t,e){this.MiniBaCay=t,this.MiniBaCayUI=t.MiniBaCayUI,this.MiniGameResult=t.MiniGameResult,this.MiniBaCayReels=e},onLoad:function(){this.trueValue=null,this.pool=new cc.NodePool;for(var t=0;t<20;t++)this.pool.put(cc.instantiate(this.cardPrefab));this.randomCard()},spin:function(t,e,i,n,s,r,c,h,l,u){this.reset(),this.setCard(this.trueValue),this.trueValue=t;for(var d=1;d<e;d++){var m=t;d!=e-1&&(m=this.getRandomTrueValue());var p=this.instanceCard(m);p.setPosition(0,d*a.MINIBACAY_DISTANCE_TWO_CARD),p.parent=this.node}var f=(e-1)*a.MINIBACAY_DISTANCE_TWO_CARD*this.node.scale,_=f/a.MINIBACAY_SPEED_SPIN_CARD,S=cc.moveTo(_,this.node.x,-f).easing(cc.easeInOut(3)),g=cc.callFunc(function(){this.setCard(t),n&&this.MiniBaCay.node.active&&(u&&(h===o.WIN_TYPE_JACKPOT?this.MiniBaCayUI.showJackPot(r,l):this.MiniGameResult.show(r,c)),i&&this.MiniBaCayReels.showMoney(s))},this),N=this.MiniBaCay.isSpinFast()?cc.delayTime(0):cc.delayTime(a.MINIBACAY_DELAY_SPIN),I=cc.callFunc(function(){this.setCard(t),n&&this.MiniBaCay.node.active&&this.MiniBaCay.isAutoSpin()&&this.MiniBaCay.spin()},this);this.node.runAction(cc.sequence(S,g,N,I)),h!==o.WIN_TYPE_JACKPOT||this.MiniBaCay.node.active||(this.MiniBaCay.node.active=!0,this.MiniBaCayUI.showJackPot(r,l))},getRandomTrueValue:function(){return 100*s.getRandomInt(2,14)+s.getRandomInt(0,3)},randomCard:function(){var t=this.getRandomTrueValue();this.reset(),this.setCard(t)},setCard:function(t){this.trueValue=t;var e=this.instanceCard(t);e.setPosition(0,0),e.parent=this.node},instanceCard:function(t){var e=void 0;this.pool&&(e=this.pool.get()),e||(e=cc.instantiate(this.cardPrefab));var i=e.getComponent("CardController"),o=new n(t);return i.init(o),i.reveal(!0),e.setScale(a.MINIBACAY_SCALE_CARD),e.cardController=i,e},putAllChipToPool:function(){if(this.pool){var t=this.node.getChildren(),e=[];for(var i in t)e.push(t[i]);for(var n in e)this.pool.put(e[n])}},reset:function(){this.node.stopAllActions(!0),this.node.setPosition(this.node.x,0),this.putAllChipToPool()}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../util/RandomUtil":"RandomUtil","../MiniGameConstant":"MiniGameConstant","./MiniBaCayCard":"MiniBaCayCard"}],MiniBaCayUI:[function(t,e,i){"use strict";cc._RF.push(e,"5f179NuymBBObFu53nM6Fre","MiniBaCayUI");var n=t("../../../util/FormatUtil"),o=t("../../../helper/Config");cc.Class({extends:cc.Component,properties:{bet1OnLabel:cc.Label,bet1OffLabel:cc.Label,bet2OnLabel:cc.Label,bet2OffLabel:cc.Label,bet3OnLabel:cc.Label,bet3OffLabel:cc.Label,betOnButton1Node:cc.Node,betOffButton1Node:cc.Node,betOnButton2Node:cc.Node,betOffButton2Node:cc.Node,betOnButton3Node:cc.Node,betOffButton3Node:cc.Node,jackpotPrefab:cc.Prefab,jackpotNode:cc.Node,notifySpinFreeNode:cc.Node,notifySpinFreeLabel:cc.Label,bgSmallNode:cc.Node,bgBigNode:cc.Node,topNode:cc.Node,bottomNode:cc.Node,reels1Node:cc.Node,reels2Node:cc.Node,reels3Node:cc.Node,toggleNode:cc.Node,toggleLabel:cc.Label},showSmallReels:function(){this.bgSmallNode.active=!0,this.bgBigNode.active=!1,this.topNode.y=215,this.bottomNode.y=-105,this.node.height=350,this.reels1Node.active=!1,this.reels2Node.active=!0,this.reels3Node.active=!1,this.toggleNode.getComponent("Toggle").setOff(),this.toggleLabel.string="Quay 1 d\xf2ng"},showBigReels:function(){this.bgSmallNode.active=!1,this.bgBigNode.active=!0,this.topNode.y=345,this.bottomNode.y=-222.5,this.node.height=575,this.reels1Node.active=!0,this.reels2Node.active=!0,this.reels3Node.active=!0,this.toggleNode.getComponent("Toggle").setOn(),this.toggleLabel.string="Quay 3 d\xf2ng"},showJackPot:function(t,e){this.jackpotNode.removeAllChildren(!0);var i=cc.instantiate(this.jackpotPrefab);this.jackpotNode.addChild(i),i.getComponent("JackpotEffect").show(t,e),i.position=new cc.Vec2(0,0)},setBetByRoomType:function(t){t?this.setBetMoney():this.setBetGold()},setBetMoney:function(){var t=o.MINIBACAY_LIST_BET_MONEY;this.setBetGoldByList(t[0],t[1],t[2])},setBetGold:function(){var t=o.MINIBACAY_LIST_BET_GOLD;this.setBetGoldByList(t[0],t[1],t[2])},showMiniGameSpinFree:function(t){this.notifySpinFreeLabel.string=t,this.notifySpinFreeNode.active=!0},hideMiniGameSpinFree:function(){this.notifySpinFreeNode.active=!1},setBetGoldByList:function(t,e,i){this.bet1OnLabel.string=n.nFormatter(t),this.bet1OffLabel.string=n.nFormatter(t),this.bet2OnLabel.string=n.nFormatter(e),this.bet2OffLabel.string=n.nFormatter(e),this.bet3OnLabel.string=n.nFormatter(i),this.bet3OffLabel.string=n.nFormatter(i)},enableBet1Button:function(){this.hideAllBetButtons(),this.betOnButton1Node.active=!0,this.betOffButton2Node.active=!0,this.betOffButton3Node.active=!0},enableBet2Button:function(){this.hideAllBetButtons(),this.betOffButton1Node.active=!0,this.betOnButton2Node.active=!0,this.betOffButton3Node.active=!0},enableBet3Button:function(){this.hideAllBetButtons(),this.betOffButton1Node.active=!0,this.betOffButton2Node.active=!0,this.betOnButton3Node.active=!0},hideAllBetButtons:function(){this.betOnButton1Node.active=!1,this.betOffButton1Node.active=!1,this.betOnButton2Node.active=!1,this.betOffButton2Node.active=!1,this.betOnButton3Node.active=!1,this.betOffButton3Node.active=!1}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../util/FormatUtil":"FormatUtil"}],MiniBaCay:[function(t,e,i){"use strict";cc._RF.push(e,"dbd01NYvvxMeLQwSYzge2Jc","MiniBaCay");var n=t("../../../base/BaseController"),o=t("./MiniBaCayConstant"),s=t("./MiniBaCayUI"),a=t("./MiniBaCayReels"),r=t("../MiniGameResult"),c=t("../item/JackpotItem"),h=t("../../../object/JackpotX"),l=t("../../../helper/Config"),u=t("../../../helper/Constant"),d=t("../../../helper/Message"),m=t("../../../object/RoomType"),p=t("../MiniGameConstant");cc.Class({extends:n,properties:{idLabel:cc.Label,moneyNode:cc.Node,goldNode:cc.Node,autoSpinToggle:cc.Toggle,spinFastToggle:cc.Toggle,MiniBaCayReels1:a,MiniBaCayReels2:a,MiniBaCayReels3:a,JackpotItem:c,JackpotX:h,MiniBaCayUI:s,MiniGameResult:r,notificationNode:cc.Node,notificationLabel:cc.Label,toastPrefab:cc.Prefab},init:function(t){this.controller=t},onLoad:function(){this._super(),this.data=null,this.isMoneyType=!0,this.is1LineType=!0,this.betOrder=0,this.intervalSpin=null,this.MiniBaCayReels1.init(this),this.MiniBaCayReels2.init(this),this.MiniBaCayReels3.init(this),this.initTypeRoom(),this.setTypeRoom(this.isMoneyType),this.setTypeLine(this.is1LineType),this.reset(),this.initData()},onEnable:function(){this.removeIntervalSpin(),this.initTempData(),this.sendRequest.sendNoPrefixToZone(o.ADD_EVENT)},onDisable:function(){this.destroyGame()},onDestroy:function(){this.removeIntervalSpin()},destroyGame:function(){this.reset(),this.sendRequest.sendNoPrefixToZone(o.REMOVE_EVENT)},initData:function(){this.initSaveData(),this.initTempData()},initTypeRoom:function(){this.isMoneyType=!0,this.getTempData()[o.MONEY_TYPE]===o.MONEY_TYPE_GOLD&&(this.isMoneyType=!1),this.is1LineType=!0,!1===this.getTempData()[o.LINE_TYPE]&&(this.is1LineType=!1)},initTempData:function(){var t=this.getTempData(),e=this.getUser().mini_3cay_free,i=t[o.IS_AUTO_SPIN],n=t[o.IS_SPIN_FAST],s=t[o.BET_VALUE];switch(n&&this.spinFastToggle.check(),i&&(this.autoSpinToggle.check(),this.spin()),s){case o.BET_100:this.setBet1();break;case o.BET_1k:this.setBet2();break;case o.BET_10k:this.setBet3();break;default:this.setBet1()}!this.node.active&&i?(this.notificationNode.active=!0,this.notificationLabel.string=e&&e>0?e:"\u25ba"):this.notificationNode.active=!1},initSaveData:function(){var t=cc.sys.localStorage.getItem(o.POSITION);t&&(t=JSON.parse(t),this.positionX=t.x,this.positionY=t.y)},handleRequest:function(t){var e=t.game_cmd,i=t.game_data,n=t.game_msg;switch(e){case o.GET_TOP_2:this.controller.MiniGame.GameMiniRank.initDataTop(i);break;case o.REQUEST_INFO:this.handleInfo(i);break;case o.REQUEST_SPIN:this.handleSpin(i);break;case o.REQUEST_MESSAGE:this.handleMessage(n)}},initMiniGameSpinFree:function(t){for(var e in t){var i=t[e].minigame_config_id,n=t[e].quantity;i===o.MINIGAME_CONFIG_ID&&(n>0?this.MiniBaCayUI.showMiniGameSpinFree(n):this.MiniBaCayUI.hideMiniGameSpinFree())}},initSpinFree:function(){var t=this.getUser().mini_3cay_free,e=this.getTempData()[o.IS_AUTO_SPIN];t&&t>0?(this.notificationNode.active=!0,this.notificationLabel.string=t):e&&!this.node.active?(this.notificationNode.active=!0,this.notificationLabel.string="\u25ba"):this.notificationNode.active=!1},handleInfo:function(t){this.data=t,this.initJackpot(),this.setSendSpin(!1)},handleMessage:function(t){this.removeIntervalSpin(),this.showMessage(t),this.MiniBaCayUI.showStopAutoSpinNode(),this.setSendSpin(!1)},handleSpin:function(t){this.setSendSpin(!1);var e=t.spin_id;if(this.idLabel.string=String.format(d.MINIGAME_ID,e),1===t.group_cards_type.length){var i=[t.slot_data[0],t.slot_data[1],t.slot_data[2]],n=t.group_cards_type[0],o=t.array_win_prize[0];this.MiniBaCayReels2.spinReelsNotShowMoney(i,o,n,t.win_type,this.isMoneyType,t.total_prize_value)}else if(3===t.group_cards_type.length){var s=[t.slot_data[0],t.slot_data[1],t.slot_data[2]],a=[t.slot_data[3],t.slot_data[4],t.slot_data[5]],r=[t.slot_data[6],t.slot_data[7],t.slot_data[8]],c=t.group_cards_type[0],h=this.getTotalGroupCards(t.array_win_prize,t.group_cards_type),l=t.group_cards_type[2],u=t.array_win_prize[0],m=t.array_win_prize[1],p=t.array_win_prize[2];this.MiniBaCayReels1.spinReelsShowMoney(s,u,c,t.win_type,this.isMoneyType,t.total_prize_value,!1),this.MiniBaCayReels2.spinReelsShowMoney(a,m,h,t.win_type,this.isMoneyType,t.total_prize_value,!0),this.MiniBaCayReels3.spinReelsShowMoney(r,p,l,t.win_type,this.isMoneyType,t.total_prize_value,!1)}},getTotalGroupCards:function(t,e){var i=[];for(var n in t)t[n]>0&&i.push(e[n]);return i.length>0?i.join(" - "):e[0]},onSpinClick:function(){this.isSpinning()?this.showMessage(d.SPIN_TOO_FAST):this.spin()},isSpinning:function(){return this.MiniBaCayReels2.isSpinning()},spin:function(){if(!this.isSendSpin()){this.setSendSpin(!0);var t={money_type:this.isMoneyType?m.MONEY_CODE:m.GOLD_CODE,money_value:this.getCurrentBet(),number_line:this.is1LineType?1:3};this.sendRequest.sendNoPrefixToZone(o.SPIN,t),this.MiniGameResult.reset()}},onHelpClick:function(){this.controller.Tutorial.showDialog(),this.controller.Tutorial.showTutorialByGameName(u.MINI_BACAY)},onHistoriesClick:function(){this.controller.MiniGame.GameMiniHistory.showMiniBaCayHistories(),this.controller.MiniGame.GameMiniHistory.showDialog()},onRankClick:function(){this.controller.MiniGame.GameMiniRank.setMiniGameName(p.MINI_BACAY),this.controller.MiniGame.GameMiniRank.showDialog(),this.isMoneyType?this.controller.MiniGame.GameMiniRank.onMoneyClick():this.controller.MiniGame.GameMiniRank.onGoldClick()},onCloseClick:function(){this.setShowMiniBaCay(!1)},onGoldClick:function(){this.isSpinning()||this.isAutoSpin()?this.showMessage(d.AUTO_SPIN_NOT_CHANGE_MONEY_TYPE):this.setTypeRoom(!this.isMoneyType)},onMoneyClick:function(){this.isSpinning()||this.isAutoSpin()?this.showMessage(d.AUTO_SPIN_NOT_CHANGE_MONEY_TYPE):this.setTypeRoom(!this.isMoneyType)},onToggleClick:function(){this.isSpinning()||this.isAutoSpin()?this.showMessage(d.AUTO_SPIN_NOT_CHANGE_NUMBER_LINE):this.setTypeLine(!this.is1LineType)},onBet1ButtonClick:function(){this.isAutoSpin()||this.isSpinning()?this.showMessage(d.AUTO_SPIN_NOT_CHANGE_BET):this.setBet1()},setBet1:function(){this.betOrder=0,this.initJackpot(),this.MiniBaCayUI.enableBet1Button(),this.getTempData()[o.BET_VALUE]=o.BET_100},onBet2ButtonClick:function(){this.isAutoSpin()||this.isSpinning()?this.showMessage(d.AUTO_SPIN_NOT_CHANGE_BET):this.setBet2()},setBet2:function(){this.betOrder=1,this.initJackpot(),this.MiniBaCayUI.enableBet2Button(),this.getTempData()[o.BET_VALUE]=o.BET_1k},onBet3ButtonClick:function(){this.isAutoSpin()||this.isSpinning()?this.showMessage(d.AUTO_SPIN_NOT_CHANGE_BET):this.setBet3()},setBet3:function(){this.betOrder=2,this.initJackpot(),this.MiniBaCayUI.enableBet3Button(),this.getTempData()[o.BET_VALUE]=o.BET_10k},onMiniBaCayClick:function(){this.setShowMiniBaCay(!this.isShow)},onStopAutoSpinClick:function(){this.autoSpinToggle.isChecked=!1,this.onAutoSpinToggle()},onAutoSpinToggle:function(){var t=this.isAutoSpin();this.getTempData()[o.IS_AUTO_SPIN]=t},onSpinFastToggle:function(){var t=this.isSpinFast();this.getTempData()[o.IS_SPIN_FAST]=t},setShowMiniBaCay:function(t){this.node.active=t,this.isShow=t;this.getUser().mini_3cay_free;this.getTempData()[o.IS_SHOW]=t},initIntervalSpin:function(){this.removeIntervalSpin();var t=this.isSpinFast()?l.MINIBACAY_TIME_FAST_SPIN:l.MINIBACAY_TIME_SPIN;this.intervalSpin=setInterval(function(){this.spin()}.bind(this),1e3*t)},removeIntervalSpin:function(){clearInterval(this.intervalSpin)},initJackpot:function(){if(this.data){var t=this.data.gold,e=this.data.money;if(this.isMoneyType){this.JackpotItem.setMoney(e[this.betOrder]);var i=e[3]?e[3]:null;i&&this.JackpotX.showSlotX(i[this.betOrder])}else this.JackpotItem.setMoney(t[this.betOrder]),this.JackpotX.showSlotX(1)}},showMessage:function(t){var e=cc.instantiate(this.toastPrefab);e.setScale(l.MINIGAME_SCALE_TOAST),e.setPosition(l.MINIGAME_POSITION_TOAST_X,l.MINIGAME_POSITION_TOAST_Y),e.parent=this.node,e.getComponent("Toast").showToast(t)},setTypeRoom:function(t){this.isMoneyType=t,this.moneyNode.active=t,this.goldNode.active=!t,this.initJackpot(),this.MiniBaCayUI.setBetByRoomType(this.isMoneyType);var e=this.isMoneyType?o.MONEY_TYPE_MONEY:o.MONEY_TYPE_GOLD;this.getTempData()[o.MONEY_TYPE]=e},setTypeLine:function(t){this.is1LineType=t,this.is1LineType?this.MiniBaCayUI.showSmallReels():this.MiniBaCayUI.showBigReels()},getCurrentBet:function(){return(this.isMoneyType?l.MINIBACAY_LIST_BET_MONEY:l.MINIBACAY_LIST_BET_GOLD)[this.betOrder]},isAutoSpin:function(){return this.autoSpinToggle.isChecked},isSpinFast:function(){return this.spinFastToggle.isChecked},setSendSpin:function(t){this.is_send_spin=t},isSendSpin:function(){return this.is_send_spin},reset:function(){this.MiniGameResult.reset()}}),cc._RF.pop()},{"../../../base/BaseController":"BaseController","../../../helper/Config":"Config","../../../helper/Constant":"Constant","../../../helper/Message":"Message","../../../object/JackpotX":"JackpotX","../../../object/RoomType":"RoomType","../MiniGameConstant":"MiniGameConstant","../MiniGameResult":"MiniGameResult","../item/JackpotItem":"JackpotItem","./MiniBaCayConstant":"MiniBaCayConstant","./MiniBaCayReels":"MiniBaCayReels","./MiniBaCayUI":"MiniBaCayUI"}],MiniGameChatItem:[function(t,e,i){"use strict";cc._RF.push(e,"cdc36jet+hN96APTHmjzEnK","MiniGameChatItem");var n=t("../../../util/FormatUtil"),o=t("../../../util/Util");cc.Class({extends:cc.Component,properties:{nicknameNode:cc.Node,prefixNickNameLabel:cc.Label,nameLabel:cc.Label,messageLabel:cc.Label},onLoad:function(){},init:function(t){for(var e=["adminsunvin","adminvinxu","autobot","botgiftcode","admin01","Th\xf4ng b\xe1o"],i=0;i<e.length;i++){if(e[i]===t.nick_name){this.nameLabel.node.color=new cc.Color(108,194,243,255),this.prefixNickNameLabel.node.active=!1;break}this.prefixNickNameLabel.node.active=!0,this.prefixNickNameLabel.node.color=new cc.Color(255,173,0,255),this.nameLabel.node.color=new cc.Color(255,244,141,255)}this.prefixNickNameLabel.string=o.getServerID(t.server_id),this.nameLabel.string=t.nick_name+":",this.nameLabel._updateRenderData(!0),this.prefixNickNameLabel._updateRenderData(!0);var s=this.nameLabel.node.width;s+=this.prefixNickNameLabel.node.active?this.prefixNickNameLabel.node.width:0;for(var a=Math.floor(s/4.75)+2,r=n.formatMessage(t.message||t.msg),c=0;c<a;c++)r=" "+r;this.messageLabel.string=r,this.messageLabel._updateRenderData(!0),this.node.height=this.messageLabel.node.height+5}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil","../../../util/Util":"Util"}],MiniGameCircle:[function(t,e,i){"use strict";cc._RF.push(e,"a4783J/PKxMzYPMDSDa5aOh","MiniGameCircle");var n=t("../../base/BaseController"),o=t("../../helper/Config"),s=t("./tai-xiu/TaiXiuTime");cc.Class({extends:n,properties:{circleButtonNode:cc.Node,circleGamesNode:cc.Node,TaiXiuTime:s},init:function(t){this.MiniGame=t,this.controller=t.controller},onLoad:function(){this.isShow=this.circleGamesNode.active,this.setShowCircleGames(this.isShow)},onCircleButtonClick:function(){this.setShowCircleGamesWithAnimation(!this.isShow)},setShowCircleGames:function(t){this.circleGamesNode.active=t,this.isShow=t,t?(this.circleGamesNode.opacity=255,this.circleGamesNode.setRotation(0),this.circleGamesNode.setScale(1),this.node.width=this.circleGamesNode.width,this.node.height=this.circleGamesNode.height):(this.node.width=this.circleButtonNode.width,this.node.height=this.circleButtonNode.height),this.TaiXiuTime.setPositionBymoveByMiniGameCircleShow(t)},setShowCircleGamesWithAnimation:function(t){this.circleGamesNode.stopAllActions(),this.isShow=t,t?(this.circleGamesNode.active=!0,this.circleGamesNode.opacity=0,this.circleGamesNode.setRotation(-360),this.circleGamesNode.setScale(0),this.circleGamesNode.runAction(cc.sequence(cc.spawn(cc.scaleTo(o.MINIGAME_TIME_SHOW,1),cc.fadeIn(o.MINIGAME_TIME_SHOW),cc.rotateBy(o.MINIGAME_TIME_SHOW,360)),cc.callFunc(function(){this.node.width=this.circleGamesNode.width,this.node.height=this.circleGamesNode.height},this)))):this.circleGamesNode.runAction(cc.sequence(cc.spawn(cc.scaleTo(o.MINIGAME_TIME_SHOW,0),cc.fadeOut(o.MINIGAME_TIME_SHOW),cc.rotateBy(o.MINIGAME_TIME_SHOW,-360)),cc.callFunc(function(){this.circleGamesNode.active=!1,this.node.width=this.circleButtonNode.width,this.node.height=this.circleButtonNode.height},this))),this.TaiXiuTime.moveByMiniGameCircleShow(t)},onTaiXiuClick:function(){this.MiniGame.TaiXiu.onTaiXiuClick(),this.MiniGame.TaiXiu.node.active&&this.onCircleButtonClick()},onLuckyWheelClick:function(){this.MiniGame.LuckyWheel.node.active=!0,this.MiniGame.LuckyWheel.node.active&&this.onCircleButtonClick()},onMiniPokerClick:function(){this.MiniGame.MiniPoker.onMiniPokerClick(),this.MiniGame.MiniPoker.node.active&&this.onCircleButtonClick()},onMiniBaCayClick:function(){this.MiniGame.MiniBaCay.onMiniBaCayClick(),this.MiniGame.MiniBaCay.node.active&&this.onCircleButtonClick()},onDiamondClick:function(){this.MiniGame.Diamond.onDiamondClick(),this.MiniGame.Diamond.node.active&&this.onCircleButtonClick()},onTrenDuoiClick:function(){this.MiniGame.TrenDuoi.onTrenDuoiClick(),this.MiniGame.TrenDuoi.node.active&&this.onCircleButtonClick()},onBomClick:function(){this.MiniGame.Bom.onBomClick(),this.MiniGame.Bom.node.active&&this.onCircleButtonClick()},onWildClick:function(){this.MiniGame.Wild.onWildClick(),this.MiniGame.Wild.node.active&&this.onCircleButtonClick()},onMiniGameLotteryClick:function(){this.MiniGame.MiniGameLottery.onMiniGameLotteryClick(),this.MiniGame.MiniGameLottery.node.active&&this.onCircleButtonClick()},onBauCuaClick:function(){this.MiniGame.BauCua.onBauCuaClick(),this.MiniGame.BauCua.node.active&&this.onCircleButtonClick()}}),cc._RF.pop()},{"../../base/BaseController":"BaseController","../../helper/Config":"Config","./tai-xiu/TaiXiuTime":"TaiXiuTime"}],MiniGameConstant:[function(t,e,i){"use strict";cc._RF.push(e,"09d1bQBbfpKw5vHATLCnIJ0","MiniGameConstant");e.exports={MINIGAME_IS_SHOW:"minigame_is_show",MINIGAME_POSITION:"minigame_position",MINIGAME_EVENT_TOP_POSITION:"minigame_event_top_position",JACKPOT_IS_SHOW:"jackpot_is_show",JACKPOT_POSITION:"jackpot_position",LUCKY_WHEEL_LAST_DATE_SHOW:"luckywheel_last_date_show",TAIXIU:"tai_xiu",MINI_POKER:"mini_poker",MINI_POKER_2:"minipoker",MINI_BACAY:"mini_3cay",MINI_BACAY_2:"MINI3CAY",LUCKY_WHEEL:"lucky_wheel",JACKPOT:"jackpot",DIAMOND:"diamond",DIAMOND_2:"DIAMOND",DIAMOND_2_1:"diamond2",DIAMOND_2_2:"DIAMOND2",TREN_DUOI:"hilo",BOM:"bom",BOM_2:"BOM",WILD:"wild",WILD_2:"WILD",MINIGAME_LOTTERY:"minigame_lottery",BAU_CUA:"hooheyhow",HU_LOC:"hu_loc",TAN_LOC:"tan_loc",INFO:"INFO",WIN_TYPE_NORMAL:1,WIN_TYPE_BIG_WIN:2,WIN_TYPE_JACKPOT:3,NAME_MINI_3CAY:"Mini Ba C\xe2y",NAME_MINI_POKER:"Mini Poker",NAME_DIAMOND:"Kim C\u01b0\u01a1ng",NUMBER_DETAIL_ITEM:9,TIME_AUTO_SPIN_WHEN_HIDE_TAB:5e3},cc._RF.pop()},{}],MiniGameLotteryBetItem:[function(t,e,i){"use strict";cc._RF.push(e,"45538fPTcND3bHodyIULiJR","MiniGameLotteryBetItem");var n=t("../minigame-lottery/MiniGameLotteryConstant"),o=t("../../../helper/Message"),s=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{betRichText:cc.RichText},init:function(t){this.data=t;var e=t.type,i=t.bets,n=t.total_bets,o=this.getTypeName(e)+": "+this.getBetsString(i)+" - "+s.nFormatter(n);this.betRichText.string=o},getTypeName:function(t){switch(t){case n.TYPE_LO:return o.MINIGAME_LOTTERY_LO;case n.TYPE_XIEN_2:return o.MINIGAME_LOTTERY_XIEN_2;case n.TYPE_XIEN_3:return o.MINIGAME_LOTTERY_XIEN_3;case n.TYPE_XIEN_4:return o.MINIGAME_LOTTERY_XIEN_4;case n.TYPE_DE:return o.MINIGAME_LOTTERY_DE;case n.TYPE_DAU:return o.MINIGAME_LOTTERY_DAU;case n.TYPE_DUOI:return o.MINIGAME_LOTTERY_DUOI;case n.TYPE_HU:return o.MINIGAME_LOTTERY_HU;default:return""}},getBetsString:function(t){var e="";for(var i in t)e+=t[i]+" ";return e}}),cc._RF.pop()},{"../../../helper/Message":"Message","../../../util/FormatUtil":"FormatUtil","../minigame-lottery/MiniGameLotteryConstant":"MiniGameLotteryConstant"}],MiniGameLotteryBets:[function(t,e,i){"use strict";cc._RF.push(e,"12dfbXWLjtBxKjNmMI0dSlp","MiniGameLotteryBets");var n=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{totalMyBetLabel:cc.Label,totalBetsLabel:cc.Label,totalBetsAmountLabel:cc.Label,betsScrollView:cc.ScrollView,betItemPrefab:cc.Prefab},init:function(t){this.MiniGameLottery=t},onLoad:function(){},setBets:function(t){this.reset(),t.total_bets&&(this.totalBets=t.number_bets),t.total_bets&&(this.totalBetAmount=t.total_bets),this.bets=t.bets;var e=0;for(var i in this.bets){var n=cc.instantiate(this.betItemPrefab);n.getComponent("MiniGameLotteryBetItem").init(this.bets[i]),n.parent=this.betsScrollView.content,e+=this.bets[i].total_bets}this.setTotalMyBetLabel(e),this.initTotalBets()},setTotalMyBetLabel:function(t){this.totalMyBetLabel.string=n.numberWithCommas(t)},initTotalBets:function(){this.totalBetsLabel.string=n.numberWithCommas(this.totalBets),this.totalBetsAmountLabel.string=n.numberWithCommas(this.totalBetAmount)},setTotalBets:function(t){this.totalBets=t},getTotalBets:function(){return this.totalBets},setTotalBetAmount:function(t){this.totalBetAmount=t},getTotalBetAmount:function(){return this.totalBetAmount},reset:function(){this.totalBets=0,this.totalBetAmount=0,this.initTotalBets(),this.setTotalMyBetLabel(0),this.betsScrollView.content.removeAllChildren(!0)}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil"}],MiniGameLotteryBoardItem:[function(t,e,i){"use strict";cc._RF.push(e,"04d0cIiuhlFZaJ0MMpLW4Rl","MiniGameLotteryBoardItem"),cc.Class({extends:cc.Component,properties:{selectNode:cc.Node,numberLabel:cc.Label},init:function(t,e){this.MiniGameLottery=t,this.number=e,this.numberLabel.string=e<10?"0"+e:e+""},onLoad:function(){},onClick:function(){this.selectNode.active=!this.selectNode.active,this.MiniGameLottery.MiniGameLotteryBoard.itemClick(this.number)},show:function(){this.selectNode.active=!0},hide:function(){this.selectNode.active=!1},isSelected:function(){return this.selectNode.active},getNumber:function(){return this.number}}),cc._RF.pop()},{}],MiniGameLotteryBoard:[function(t,e,i){"use strict";cc._RF.push(e,"46815sssa9MQ4L2sh053Z5v","MiniGameLotteryBoard");var n=t("./MiniGameLotteryConstant"),o=t("../../../helper/Message"),s=t("../../../helper/Config");cc.Class({extends:cc.Component,properties:{boardLayoutNode:cc.Node,typeLabel:cc.Label,noteLabel:cc.Label,toastPrefab:cc.Prefab},init:function(t){this.MiniGameLottery=t},onLoad:function(){this.listBoardItems=[];for(var t=this.boardLayoutNode.getChildren(),e=0;e<t.length;e++){var i=t[e].getComponent("MiniGameLotteryBoardItem");i.init(this.MiniGameLottery,e),this.listBoardItems.push(i)}this.node.zIndex=1e6},onEnable:function(){this.listXien=[],this.hideAll()},setType:function(t){this.type=t,this.typeLabel.string=this.getTypeName()},getTypeName:function(){switch(this.type){case n.TYPE_LO:return o.MINIGAME_LOTTERY_LO;case n.TYPE_XIEN_2:return o.MINIGAME_LOTTERY_XIEN_2;case n.TYPE_XIEN_3:return o.MINIGAME_LOTTERY_XIEN_3;case n.TYPE_XIEN_4:return o.MINIGAME_LOTTERY_XIEN_4;case n.TYPE_DE:return o.MINIGAME_LOTTERY_DE;case n.TYPE_DAU:return o.MINIGAME_LOTTERY_DAU;case n.TYPE_DUOI:return o.MINIGAME_LOTTERY_DUOI;case n.TYPE_HU:return o.MINIGAME_LOTTERY_HU;default:return null}},getListBets:function(){var t=[];switch(this.type){case n.TYPE_LO:case n.TYPE_XIEN_2:case n.TYPE_XIEN_3:case n.TYPE_XIEN_4:case n.TYPE_DE:case n.TYPE_HU:t=this.getListBetsSelected();break;case n.TYPE_DAU:t=this.getListBetsDau();break;case n.TYPE_DUOI:t=this.getListBetsDuoi()}return t},getListBetsSelected:function(){var t=[];for(var e in this.listBoardItems)this.listBoardItems[e].isSelected()&&t.push(this.listBoardItems[e].getNumber());return t},getListBetsDau:function(){var t=[],e=new Set;for(var i in this.listBoardItems)if(this.listBoardItems[i].isSelected()){var n=this.listBoardItems[i].getNumber();e.add(parseInt(n/10))}var o=!0,s=!1,a=void 0;try{for(var r,c=e[Symbol.iterator]();!(o=(r=c.next()).done);o=!0){var h=r.value;t.push(h)}}catch(t){s=!0,a=t}finally{try{!o&&c.return&&c.return()}finally{if(s)throw a}}return t},getListBetsDuoi:function(){var t=[],e=new Set;for(var i in this.listBoardItems)if(this.listBoardItems[i].isSelected()){var n=this.listBoardItems[i].getNumber();e.add(n%10)}var o=!0,s=!1,a=void 0;try{for(var r,c=e[Symbol.iterator]();!(o=(r=c.next()).done);o=!0){var h=r.value;t.push(h)}}catch(t){s=!0,a=t}finally{try{!o&&c.return&&c.return()}finally{if(s)throw a}}return t},itemClick:function(t){switch(this.type){case n.TYPE_LO:case n.TYPE_DE:case n.TYPE_HU:break;case n.TYPE_DAU:this.itemDauClick(t);break;case n.TYPE_DUOI:this.itemDuoiClick(t);break;case n.TYPE_XIEN_2:case n.TYPE_XIEN_3:case n.TYPE_XIEN_4:this.itemXienClick(t)}},itemDauClick:function(t){var e=parseInt(t/10);this.listBoardItems[t].isSelected()?this.showRow(e):this.hideRow(e)},itemDuoiClick:function(t){var e=t%10;this.listBoardItems[t].isSelected()?this.showColumn(e):this.hideColumn(e)},itemXienClick:function(t){if(this.listBoardItems[t].isSelected()){this.listXien.push(this.listBoardItems[t]);var e=this.getLengthXien();this.listXien.length>e&&(this.listXien[0].hide(),this.listXien.splice(0,1))}else for(var i=0;i<this.listXien.length;i++)if(this.listXien[i]===this.listBoardItems[t]){this.listXien.splice(i,1);break}},getLengthXien:function(){switch(this.type){case n.TYPE_XIEN_2:return 2;case n.TYPE_XIEN_3:return 3;case n.TYPE_XIEN_4:return 4;default:return 1}},onBetClick:function(){var t=this.getListBets();this.checkBetsValid(t)?(this.getContent().setBets(t),this.node.active=!1):this.showMessage(o.MINIGAME_LOTTERY_YOU_BET_NOT_VALID)},checkBetsValid:function(t){switch(this.type){case n.TYPE_LO:return t.length>0;case n.TYPE_XIEN_2:return 2===t.length;case n.TYPE_XIEN_3:return 3===t.length;case n.TYPE_XIEN_4:return 4===t.length;case n.TYPE_DE:case n.TYPE_DAU:case n.TYPE_DUOI:return t.length>0;case n.TYPE_HU:return 10===t.length;default:return!1}},getContent:function(){switch(this.type){case n.TYPE_LO:return this.MiniGameLottery.MiniGameLotteryContentLo;case n.TYPE_XIEN_2:case n.TYPE_XIEN_3:case n.TYPE_XIEN_4:return this.MiniGameLottery.MiniGameLotteryContentXien;case n.TYPE_DE:return this.MiniGameLottery.MiniGameLotteryContentDe;case n.TYPE_DAU:case n.TYPE_DUOI:return this.MiniGameLottery.MiniGameLotteryContentDauDuoi;case n.TYPE_HU:return this.MiniGameLottery.MiniGameLotteryContentHu;default:return null}},onCloseClick:function(){this.node.active=!1},showColumn:function(t){for(var e in this.listBoardItems){this.listBoardItems[e].getNumber()%10===t&&this.listBoardItems[e].show()}},hideColumn:function(t){for(var e in this.listBoardItems){this.listBoardItems[e].getNumber()%10===t&&this.listBoardItems[e].hide()}},showRow:function(t){for(var e in this.listBoardItems){var i=this.listBoardItems[e].getNumber();parseInt(i/10)===t&&this.listBoardItems[e].show()}},hideRow:function(t){for(var e in this.listBoardItems){var i=this.listBoardItems[e].getNumber();parseInt(i/10)===t&&this.listBoardItems[e].hide()}},hideAll:function(){for(var t in this.listBoardItems)this.listBoardItems[t].hide()},showMessage:function(t){var e=cc.instantiate(this.toastPrefab);e.setScale(s.MINIGAME_SCALE_TOAST),e.setPosition(0,0),e.parent=this.node,e.getComponent("Toast").showToast(t)}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../helper/Message":"Message","./MiniGameLotteryConstant":"MiniGameLotteryConstant"}],MiniGameLotteryChat:[function(t,e,i){"use strict";cc._RF.push(e,"17d21ghjvFM0ZpBpx1ku1RU","MiniGameLotteryChat");var n=t("../../../util/BrowserUtil"),o=t("./MiniGameLotteryConstant");cc.Class({extends:cc.Component,properties:{chatItemPrefab:cc.Prefab,chatScrollView:cc.ScrollView,chatEditBox:cc.EditBox},init:function(t){this.MiniGameLottery=t},onLoad:function(){this.number=0},update:function(t){0===this.number&&this.chatScrollView.scrollToBottom(0),this.number++},initChat:function(t){this.chatScrollView.content.removeAllChildren(!0);for(var e=0;e<t.length;e++)this.instanceChat(t[e]);this.scrollToBottom()},addChat:function(t){this.instanceChat(t),this.checkBottom()&&this.chatScrollView.scrollToBottom(.25)},instanceChat:function(t){var e=e=cc.instantiate(this.chatItemPrefab);e.getComponent("MiniGameChatItem").init(t),e.parent=this.chatScrollView.content},scrollToBottom:function(){this.number=0},onCloseClick:function(){this.MiniGameLottery.getTempData()[o.IS_SHOW_CHAT]=!this.node.active,this.node.active=!this.node.active},onSendClick:function(){var t=this.chatEditBox.string;this.sendChat(t)},sendChat:function(t){if(""!==t.trim()){var e={msg:t};this.MiniGameLottery.sendRequest.sendNoPrefixToZone(o.CHAT,e),this.chatEditBox.string=""}},unFocusChatEditBox:function(){n.unFocusEditBox(this.chatEditBox)},checkBottom:function(){var t=this.chatScrollView.getScrollOffset().y,e=this.chatScrollView.node.height,i=this.chatScrollView.content.height;return Math.abs(t+e-i)<=150}}),cc._RF.pop()},{"../../../util/BrowserUtil":"BrowserUtil","./MiniGameLotteryConstant":"MiniGameLotteryConstant"}],MiniGameLotteryConstant:[function(t,e,i){"use strict";cc._RF.push(e,"f566bO00/pBBJBqNLTP1jo/","MiniGameLotteryConstant");e.exports={REQUEST_START:"START",REQUEST_UPDATE:"UPDATE",REQUEST_BET:"BET",REQUEST_FINISH:"FINISH",REQUEST_INFO:"INFO",REQUEST_MESSAGE:"MESSAGE",REQUEST_CHAT:"CHAT",GET_TOP_2:"GET_TOP",ADD_EVENT:"minigame_lottery.ADD_EVENT",REMOVE_EVENT:"minigame_lottery.REMOVE_EVENT",BET:"minigame_lottery.BET",CHAT:"minigame_lottery.CHAT",IS_SHOW:"minigame_lottery_is_show",IS_SHOW_CHAT:"minigame_lottery_is_show_chat",POSITION:"minigame_lottery_position",GET_TOP:"minigame_lottery.GET_TOP",TYPE_LO:"LO",TYPE_XIEN_2:"XIEN_2",TYPE_XIEN_3:"XIEN_3",TYPE_XIEN_4:"XIEN_4",TYPE_DE:"DE",TYPE_DAU:"DAU",TYPE_DUOI:"DUOI",TYPE_HU:"HU"},cc._RF.pop()},{}],MiniGameLotteryContentDauDuoi:[function(t,e,i){"use strict";cc._RF.push(e,"82c9bUxOZRCPJFXyDPcFhJh","MiniGameLotteryContentDauDuoi");var n=t("../MiniGameLotteryConstant"),o=t("../../../../util/FormatUtil"),s=t("../../../../helper/Message");cc.Class({extends:cc.Component,properties:{dauButtonOnNode:cc.Node,dauButtonOffNode:cc.Node,duoiButtonOnNode:cc.Node,duoiButtonOffNode:cc.Node,amountLabel:cc.Label,betsLabel:cc.Label},init:function(t){this.MiniGameLottery=t,this.MiniGameLotteryUI=t.MiniGameLotteryUI},onLoad:function(){},onEnable:function(){this.bets=[],this.initBetsLabel(),this.onDauClick()},onDauClick:function(){this.type=n.TYPE_DAU,this.dauButtonOnNode.active=!0,this.dauButtonOffNode.active=!1,this.duoiButtonOnNode.active=!1,this.duoiButtonOffNode.active=!0},onDuoiClick:function(){this.type=n.TYPE_DUOI,this.dauButtonOnNode.active=!1,this.dauButtonOffNode.active=!0,this.duoiButtonOnNode.active=!0,this.duoiButtonOffNode.active=!1},onNumberClick:function(){this.MiniGameLotteryUI.showBetsNode(),this.MiniGameLottery.MiniGameLotteryBoard.setType(this.type),this.MiniGameLotteryUI.showBoardNode()},onAmountClick:function(){this.MiniGameLotteryUI.showQuickSelectNode(),this.MiniGameLottery.MiniGameLotteryQuickSelect.setType(this.type)},onBetClick:function(){this.MiniGameLotteryUI.showBetsNode();var t=this.getAmount(),e=this.getBets();if(t>0)if(e.length>0){var i={bets:e,type:this.type,amount:t};this.MiniGameLottery.sendRequest.sendNoPrefixToZone(n.BET,i)}else this.MiniGameLottery.showMessage(s.MINIGAME_LOTTERY_PLEASE_SELECT_BET);else this.MiniGameLottery.showMessage(s.MINIGAME_LOTTERY_YOU_NOT_BET)},initBetsLabel:function(){var t="";for(var e in this.bets)t+=this.bets[e]+" ";this.betsLabel.string=t},setBets:function(t){this.bets=t,this.initBetsLabel()},getBets:function(){return this.bets},getAmount:function(){return parseInt(o.getOnlyNumberInString(this.amountLabel.string))||0},setAmount:function(t){this.amountLabel.string=o.numberWithCommas(t)},resetAmount:function(){this.setAmount(0)},reset:function(){this.setAmount(0)}}),cc._RF.pop()},{"../../../../helper/Message":"Message","../../../../util/FormatUtil":"FormatUtil","../MiniGameLotteryConstant":"MiniGameLotteryConstant"}],MiniGameLotteryContentDe:[function(t,e,i){"use strict";cc._RF.push(e,"d653fMOFJ9MUocUKAmaTVgb","MiniGameLotteryContentDe");var n=t("../MiniGameLotteryConstant"),o=t("../../../../util/FormatUtil"),s=t("../../../../helper/Message");cc.Class({extends:cc.Component,properties:{amountLabel:cc.Label,betsLabel:cc.Label},init:function(t){this.MiniGameLottery=t,this.MiniGameLotteryUI=t.MiniGameLotteryUI},onLoad:function(){},onEnable:function(){this.bets=[],this.initBetsLabel()},onNumberClick:function(){this.MiniGameLotteryUI.showBetsNode(),this.MiniGameLottery.MiniGameLotteryBoard.setType(n.TYPE_DE),this.MiniGameLotteryUI.showBoardNode()},onAmountClick:function(){this.MiniGameLotteryUI.showQuickSelectNode(),this.MiniGameLottery.MiniGameLotteryQuickSelect.setType(n.TYPE_DE)},onBetClick:function(){this.MiniGameLotteryUI.showBetsNode();var t=this.getAmount(),e=this.getBets();if(t>0)if(e.length>0){var i={bets:e,type:n.TYPE_DE,amount:t};this.MiniGameLottery.sendRequest.sendNoPrefixToZone(n.BET,i)}else this.MiniGameLottery.showMessage(s.MINIGAME_LOTTERY_PLEASE_SELECT_BET);else this.MiniGameLottery.showMessage(s.MINIGAME_LOTTERY_YOU_NOT_BET)},initBetsLabel:function(){var t="";for(var e in this.bets)t+=this.bets[e]+" ";this.betsLabel.string=t},setBets:function(t){this.bets=t,this.initBetsLabel()},getBets:function(){return this.bets},getAmount:function(){return parseInt(o.getOnlyNumberInString(this.amountLabel.string))||0},setAmount:function(t){this.amountLabel.string=o.numberWithCommas(t)},resetAmount:function(){this.setAmount(0)},reset:function(){this.setAmount(0)}}),cc._RF.pop()},{"../../../../helper/Message":"Message","../../../../util/FormatUtil":"FormatUtil","../MiniGameLotteryConstant":"MiniGameLotteryConstant"}],MiniGameLotteryContentHu:[function(t,e,i){"use strict";cc._RF.push(e,"9f3a66oUdhFoa7MvIcuXqrf","MiniGameLotteryContentHu");var n=t("../MiniGameLotteryConstant"),o=(t("../../../../util/FormatUtil"),t("../../../../helper/Message"));cc.Class({extends:cc.Component,properties:{betsLabel:cc.Label},init:function(t){this.MiniGameLottery=t,this.MiniGameLotteryUI=t.MiniGameLotteryUI},onLoad:function(){},onEnable:function(){this.bets=[],this.initBetsLabel()},onNumberClick:function(){this.MiniGameLotteryUI.showBetsNode(),this.MiniGameLottery.MiniGameLotteryBoard.setType(n.TYPE_HU),this.MiniGameLotteryUI.showBoardNode()},onBetClick:function(){this.MiniGameLotteryUI.showBetsNode();var t=this.getBets();if(10===t.length){var e={bets:t,type:n.TYPE_HU,amount:1e4};this.MiniGameLottery.sendRequest.sendNoPrefixToZone(n.BET,e)}else this.MiniGameLottery.showMessage(o.MINIGAME_LOTTERY_PLEASE_SELECT_BET)},initBetsLabel:function(){var t="";for(var e in this.bets)t+=this.bets[e]+" ";this.betsLabel.string=t},setBets:function(t){this.bets=t,this.initBetsLabel()},getBets:function(){return this.bets},reset:function(){}}),cc._RF.pop()},{"../../../../helper/Message":"Message","../../../../util/FormatUtil":"FormatUtil","../MiniGameLotteryConstant":"MiniGameLotteryConstant"}],MiniGameLotteryContentLo:[function(t,e,i){"use strict";cc._RF.push(e,"7bd5bz4hCtCBrlDqacYSVv8","MiniGameLotteryContentLo");var n=t("../MiniGameLotteryConstant"),o=t("../../../../util/FormatUtil"),s=t("../../../../helper/Message");cc.Class({extends:cc.Component,properties:{amountLabel:cc.Label,betsLabel:cc.Label},init:function(t){this.MiniGameLottery=t,this.MiniGameLotteryUI=t.MiniGameLotteryUI},onLoad:function(){},onEnable:function(){this.bets=[],this.initBetsLabel()},onNumberClick:function(){this.MiniGameLotteryUI.showBetsNode(),this.MiniGameLottery.MiniGameLotteryBoard.setType(n.TYPE_LO),this.MiniGameLotteryUI.showBoardNode()},onAmountClick:function(){this.MiniGameLotteryUI.showQuickSelectNode(),this.MiniGameLottery.MiniGameLotteryQuickSelect.setType(n.TYPE_LO)},onBetClick:function(){this.MiniGameLotteryUI.showBetsNode();var t=this.getAmount(),e=this.getBets();if(t>0)if(e.length>0){var i={bets:e,type:n.TYPE_LO,amount:t};this.MiniGameLottery.sendRequest.sendNoPrefixToZone(n.BET,i)}else this.MiniGameLottery.showMessage(s.MINIGAME_LOTTERY_PLEASE_SELECT_BET);else this.MiniGameLottery.showMessage(s.MINIGAME_LOTTERY_YOU_NOT_BET)},initBetsLabel:function(){var t="";for(var e in this.bets)t+=this.bets[e]+" ";this.betsLabel.string=t},setBets:function(t){this.bets=t,this.initBetsLabel()},getBets:function(){return this.bets},getAmount:function(){return parseInt(o.getOnlyNumberInString(this.amountLabel.string))||0},setAmount:function(t){this.amountLabel.string=o.numberWithCommas(t)},resetAmount:function(){this.setAmount(0)},reset:function(){this.setAmount(0)}}),cc._RF.pop()},{"../../../../helper/Message":"Message","../../../../util/FormatUtil":"FormatUtil","../MiniGameLotteryConstant":"MiniGameLotteryConstant"}],MiniGameLotteryContentXien:[function(t,e,i){"use strict";cc._RF.push(e,"de311AuqmhM8JST/WGXk4zk","MiniGameLotteryContentXien");var n=t("../MiniGameLotteryConstant"),o=t("../../../../util/FormatUtil"),s=t("../../../../helper/Message");cc.Class({extends:cc.Component,properties:{xien2ButtonOnNode:cc.Node,xien2ButtonOffNode:cc.Node,xien3ButtonOnNode:cc.Node,xien3ButtonOffNode:cc.Node,xien4ButtonOnNode:cc.Node,xien4ButtonOffNode:cc.Node,amountLabel:cc.Label,rateLabel:cc.Label,betsLabel:cc.Label},init:function(t){this.MiniGameLottery=t,this.MiniGameLotteryUI=t.MiniGameLotteryUI},onLoad:function(){},onEnable:function(){this.onXien2Click()},onXien2Click:function(){this.type=n.TYPE_XIEN_2,this.xien2ButtonOnNode.active=!0,this.xien2ButtonOffNode.active=!1,this.xien3ButtonOnNode.active=!1,this.xien3ButtonOffNode.active=!0,this.xien4ButtonOnNode.active=!1,this.xien4ButtonOffNode.active=!0,this.rateLabel.string="X11",this.bets=[],this.initBetsLabel()},onXien3Click:function(){this.type=n.TYPE_XIEN_3,this.xien2ButtonOnNode.active=!1,this.xien2ButtonOffNode.active=!0,this.xien3ButtonOnNode.active=!0,this.xien3ButtonOffNode.active=!1,this.xien4ButtonOnNode.active=!1,this.xien4ButtonOffNode.active=!0,this.rateLabel.string="X45",this.bets=[],this.initBetsLabel()},onXien4Click:function(){this.type=n.TYPE_XIEN_4,this.xien2ButtonOnNode.active=!1,this.xien2ButtonOffNode.active=!0,this.xien3ButtonOnNode.active=!1,this.xien3ButtonOffNode.active=!0,this.xien4ButtonOnNode.active=!0,this.xien4ButtonOffNode.active=!1,this.rateLabel.string="X115",this.bets=[],this.initBetsLabel()},onNumberClick:function(){this.MiniGameLotteryUI.showBetsNode(),this.MiniGameLottery.MiniGameLotteryBoard.setType(this.type),this.MiniGameLotteryUI.showBoardNode()},onAmountClick:function(){this.MiniGameLotteryUI.showQuickSelectNode(),this.MiniGameLottery.MiniGameLotteryQuickSelect.setType(this.type)},onBetClick:function(){this.MiniGameLotteryUI.showBetsNode();var t=this.getAmount(),e=this.getBets();if(t>0)if(e.length>0){var i={bets:e,type:this.type,amount:t};this.MiniGameLottery.sendRequest.sendNoPrefixToZone(n.BET,i)}else this.MiniGameLottery.showMessage(s.MINIGAME_LOTTERY_PLEASE_SELECT_BET);else this.MiniGameLottery.showMessage(s.MINIGAME_LOTTERY_YOU_NOT_BET)},initBetsLabel:function(){var t="";for(var e in this.bets)t+=this.bets[e]+" ";this.betsLabel.string=t},setBets:function(t){this.bets=t,this.initBetsLabel()},getBets:function(){return this.bets},getAmount:function(){return parseInt(o.getOnlyNumberInString(this.amountLabel.string))||0},setAmount:function(t){this.amountLabel.string=o.numberWithCommas(t)},resetAmount:function(){this.setAmount(0)},reset:function(){this.setAmount(0)}}),cc._RF.pop()},{"../../../../helper/Message":"Message","../../../../util/FormatUtil":"FormatUtil","../MiniGameLotteryConstant":"MiniGameLotteryConstant"}],MiniGameLotteryHistories:[function(t,e,i){"use strict";cc._RF.push(e,"653e0Aa5HBKpqrDOsgfi76c","MiniGameLotteryHistories");var n=t("../../../../helper/Message");cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,moneyButtonNode:cc.Node,goldButtonNode:cc.Node,historyDiamondItemPrefab:cc.Prefab,historyScrollView:cc.ScrollView},init:function(t){this.controller=t},onLoad:function(){},onEnable:function(){this.data=null,this.onMoneyClick()},onDisable:function(){this.removeXhr()},onMoneyClick:function(){this.goldButtonNode.active=!0,this.moneyButtonNode.active=!1,this.loadData()},onGoldClick:function(){this.goldButtonNode.active=!1,this.moneyButtonNode.active=!0,this.loadData()},loadData:function(){var t=this;if(this.showLoadingNode(),this.historyScrollView.content.removeAllChildren(!0),this.data)this.initData();else{var e={token:this.controller.getToken(),user_id:this.controller.getUserId()};this.controller.api.getHistoryMiniGameLottery(e,function(e){t.data=e.data,t.initData()},function(e){t.showListNode(),t.controller.showDialogMessage(n.HISTORY_TITLE,e.msg)})}},initData:function(){if(this.showListNode(),this.data){console.log(this.data);var t=this.isMoneyType()?this.data[0]:this.data[1];for(var e in t){var i=cc.instantiate(this.historyDiamondItemPrefab);i.parent=this.historyScrollView.content,i.getComponent("MiniGameLotteryHistoryItem").init(t[e],e)}}},getType:function(){return this.moneyOnButtonNode.active?0:1},isMoneyType:function(){return this.goldButtonNode.active},showLoadingNode:function(){this.loadingNode.active=!0,this.historyScrollView.node.active=!1},showListNode:function(){this.loadingNode.active=!1,this.historyScrollView.node.active=!0},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{"../../../../helper/Message":"Message"}],MiniGameLotteryHistoryItem:[function(t,e,i){"use strict";cc._RF.push(e,"a3a48CfGe1NH6mcBhe7/Tax","MiniGameLotteryHistoryItem");var n=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,idLabel:cc.Label,timeLabel:cc.Label,typeLabel:cc.Label,betLabel:cc.Label,detailLabel:cc.Label,getLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},start:function(){},init:function(t,e){this.data=t,t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.idLabel.string=t.id,this.timeLabel.string=n.getStringDateByTimeStamp(t.created_at),this.typeLabel.string=t.type,this.betLabel.string=n.numberWithCommas(t.amount),this.detailLabel.string=t.bets,this.getLabel.string=n.numberWithCommas(t.result_amount);var i=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=i}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil"}],MiniGameLotteryNumberItem:[function(t,e,i){"use strict";cc._RF.push(e,"f8b255gCBRCSaLdmGTXbLC6","MiniGameLotteryNumberItem"),cc.Class({extends:cc.Component,properties:{numberLabel:cc.Label},init:function(t){this.MiniGameLottery=t},onLoad:function(){},onNumberClick:function(){var t=this.MiniGameLottery.MiniGameLotteryQuickSelect.getContent().getAmount()+""+this.numberLabel.string;this.MiniGameLottery.MiniGameLotteryQuickSelect.getContent().setAmount(t)},onBackClick:function(){var t=this.MiniGameLottery.MiniGameLotteryQuickSelect.getContent().getAmount(),e=(t+="").slice(0,-1);this.MiniGameLottery.MiniGameLotteryQuickSelect.getContent().setAmount(e)}}),cc._RF.pop()},{}],MiniGameLotteryQuickSelect:[function(t,e,i){"use strict";var n;function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}cc._RF.push(e,"aefe9YbFe1BKY6bVgZ/oZXZ","MiniGameLotteryQuickSelect");var s=t("../../../helper/Config"),a=t("../item/MiniGameLotterySelectItem"),r=t("../item/MiniGameLotteryNumberItem"),c=t("./MiniGameLotteryConstant");cc.Class((o(n={extends:cc.Component,properties:{selectNode:cc.Node,numberNode:cc.Node,selectButtonNode:cc.Node,numberButtonNode:cc.Node,listSelectItem:[a],listNumberItem:[r]},init:function(t){this.MiniGameLottery=t},onLoad:function(){this.initData()},initData:function(){for(var t=0;t<this.listSelectItem.length;t++)this.listSelectItem[t].init(this.MiniGameLottery,s.MINIGAME_LOTTERY_LIST_SELECT[t]);for(var e=0;e<this.listNumberItem.length;e++)this.listNumberItem[e].init(this.MiniGameLottery)},setType:function(t){this.type=t},onSelectClick:function(){this.selectNode.active=!0,this.numberNode.active=!1,this.selectButtonNode.active=!1,this.numberButtonNode.active=!0,this.getContent().resetAmount()},onNumberClick:function(){this.selectNode.active=!1,this.numberNode.active=!0,this.selectButtonNode.active=!0,this.numberButtonNode.active=!1,this.getContent().resetAmount()},getContent:function(){switch(this.type){case c.TYPE_LO:return this.MiniGameLottery.MiniGameLotteryContentLo;case c.TYPE_XIEN_2:case c.TYPE_XIEN_3:case c.TYPE_XIEN_4:return this.MiniGameLottery.MiniGameLotteryContentXien;case c.TYPE_DE:return this.MiniGameLottery.MiniGameLotteryContentDe;case c.TYPE_DAU:case c.TYPE_DUOI:return this.MiniGameLottery.MiniGameLotteryContentDauDuoi;case c.TYPE_HU:return this.MiniGameLottery.MiniGameLotteryContentHu;default:return null}},onBetClick:function(){this.MiniGameLottery.MiniGameLotteryUI.showBetsNode()}},"setType",function(t){this.type=t}),o(n,"onCloseClick",function(){this.getContent().resetAmount(),this.MiniGameLottery.MiniGameLotteryUI.showBetsNode()}),n)),cc._RF.pop()},{"../../../helper/Config":"Config","../item/MiniGameLotteryNumberItem":"MiniGameLotteryNumberItem","../item/MiniGameLotterySelectItem":"MiniGameLotterySelectItem","./MiniGameLotteryConstant":"MiniGameLotteryConstant"}],MiniGameLotteryResults:[function(t,e,i){"use strict";cc._RF.push(e,"fe5a7hHRQdDEbvH49iDSLJO","MiniGameLotteryResults");var n=t("../../../helper/Message"),o=t("./MiniGameLotteryConstant");cc.Class({extends:cc.Component,properties:{idLabel:cc.Label,previousButtonNode:cc.Node,nextButtonNode:cc.Node,resultsRichText:[cc.RichText]},init:function(t){this.MiniGameLottery=t},onLoad:function(){},onDisable:function(){clearInterval(this.resultInterval)},setResults:function(t){this.results=t,t.length>0&&(this.index=t.length-1,this.initResult())},onPreviousClick:function(){this.index-=1,this.initResult()},onNextClick:function(){this.index+=1,this.initResult()},initResult:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];clearInterval(this.resultInterval);var e=this.results[this.index],i=e.results;if(this.idLabel.string=String.format(n.MINIGAME_ID,e.match_game_id),t){for(var o=0;o<this.resultsRichText.length;o++)this.resultsRichText[o].string="";var s=i.length-1;this.resultInterval=setInterval(function(){var t=i[s],e=this.isWinNumber(t),o=e?"<u>"+t+"</u>":t,a=parseInt(t/10);if(0===s){this.resultsRichText[a].string+=e?"<color=red>"+o+"</color> ":"<color=yellow>"+o+"</color> ";try{0!==this.MiniGameLottery.data.amount_change&&this.MiniGameLottery.MiniGameResult.show(this.MiniGameLottery.data.amount_change,n.MINIGAME_LOTTERY_RESULT)}catch(t){}}else this.resultsRichText[a].string+=e?"<color=green>"+o+"</color> ":o+" ";if(-1===--s){clearInterval(this.resultInterval);var r=this.getAmountChangeJackpot();r>0&&this.MiniGameLottery.MiniGameLotteryUI.showJackPot(r,!0)}}.bind(this),500)}else for(var a=0;a<this.resultsRichText.length;a++)this.resultsRichText[a].string=this.getTextByIndex(a);this.previousButtonNode.active=!0,this.nextButtonNode.active=!0,0===this.index&&(this.previousButtonNode.active=!1),this.index===this.results.length-1&&(this.nextButtonNode.active=!1)},getTextByIndex:function(t){var e="",i=[];for(var n in this.results[this.index].results)i.push(this.results[this.index].results[n]);var o=i[0],s=!1;i=i.sort(function(t,e){return t-e});for(var a=0;a<i.length;a++){parseInt(i[a]/10)===t&&(i[a]!==o||s?e+=i[a]:(e+="<color=yellow>"+i[a]+"</color>",s=!0),e+=" ")}return e},showResult:function(t){this.bets_win=t.bets_win;var e={match_game_id:this.MiniGameLottery.getMatchGameId(),total_bets:this.MiniGameLottery.MiniGameLotteryBets.getTotalBets(),total_bet_amount:this.MiniGameLottery.MiniGameLotteryBets.getTotalBetAmount(),results:t.result};this.results.push(e),this.index=this.results.length-1,this.initResult(!0)},isWinNumber:function(t){var e=this.getListBetsWinNumber();for(var i in e)if(t===e[i])return!0;return!1},getListBetsWinNumber:function(){if(this.bets_win){var t=[];for(var e in this.bets_win)if(this.bets_win[e].type===o.TYPE_LO||this.bets_win[e].type===o.TYPE_DE){var i=this.bets_win[e].bets;for(var n in i)t.push(i[n])}return t}return[]},getAmountChangeJackpot:function(){if(this.bets_win)for(var t in this.bets_win)if(this.bets_win[t].type===o.TYPE_HU)return this.bets_win[t].amount_change;return 0}}),cc._RF.pop()},{"../../../helper/Message":"Message","./MiniGameLotteryConstant":"MiniGameLotteryConstant"}],MiniGameLotterySelectItem:[function(t,e,i){"use strict";cc._RF.push(e,"d99222jH0RJaYKS7X08zRSh","MiniGameLotterySelectItem");var n=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label},init:function(t,e){this.MiniGameLottery=t,this.value=e,this.nameLabel.string=n.nFormatter(e)},onLoad:function(){},onClick:function(){var t=this.MiniGameLottery.MiniGameLotteryQuickSelect.getContent().getAmount()+this.value;this.MiniGameLottery.MiniGameLotteryQuickSelect.getContent().setAmount(t)}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil"}],MiniGameLotteryState:[function(t,e,i){"use strict";cc._RF.push(e,"498ackvSBRKIKHpuLwpIZp7","MiniGameLotteryState");e.exports={currentState:null,STOP:"STOP",BETTING:"BETTING",FINISH:"FINISH",setState:function(t){this.currentState=t},setBetting:function(){this.currentState=this.BETTING},setStop:function(){this.currentState=this.STOP},setFinish:function(){this.currentState=this.FINISH},isBetting:function(){return this.currentState===this.BETTING},isStop:function(){return this.currentState===this.STOP},isFinish:function(){return this.currentState===this.FINISH}},cc._RF.pop()},{}],MiniGameLotteryTime:[function(t,e,i){"use strict";cc._RF.push(e,"97db0+3fGpLCp506lfkgTdD","MiniGameLotteryTime"),cc.Class({extends:cc.Component,properties:{timeNode:cc.Node,spinNode:cc.Node,timeLabel:cc.Label},init:function(t){this.MiniGameLottery=t},onLoad:function(){},onDisable:function(){clearInterval(this.timeInterval),clearTimeout(this.spinTimeout)},showResults:function(t){this.showSpinNode(),clearInterval(this.spinTimeout),this.spinTimeout=setTimeout(function(){this.showTimeNode(),this.MiniGameLottery.MiniGameLotteryResults.showResult(t)}.bind(this),2e3)},setTime:function(t){this.time=t,this.setTimeLabel(t),clearInterval(this.timeInterval),this.time>0&&(this.MiniGameLottery.MiniGameLotteryState.isBetting()?this.timeLabel.node.color=new cc.Color(46,255,128,255):this.timeLabel.node.color=new cc.Color(65,65,255,255),this.timeInterval=setInterval(function(){this.time-=1,this.time<0&&(this.time=0,clearInterval(this.timeInterval)),this.setTimeLabel(this.time)}.bind(this),1e3))},setTimeLabel:function(t){this.timeLabel.string=parseInt(t)},showTimeNode:function(){this.timeNode.active=!0,this.spinNode.active=!1},showSpinNode:function(){this.timeNode.active=!1,this.spinNode.active=!0},reset:function(){this.setTimeLabel(0),this.showTimeNode()}}),cc._RF.pop()},{}],MiniGameLotteryUI:[function(t,e,i){"use strict";cc._RF.push(e,"bfe7cko8bNP8JCJag9m5e7v","MiniGameLotteryUI"),cc.Class({extends:cc.Component,properties:{loButtonOnNode:cc.Node,loButtonOffNode:cc.Node,xienButtonOnNode:cc.Node,xienButtonOffNode:cc.Node,deButtonOnNode:cc.Node,deButtonOffNode:cc.Node,dauDuoiButtonOffNode:cc.Node,dauDuoiButtonOnNode:cc.Node,huButtonOffNode:cc.Node,huButtonOnNode:cc.Node,loContentNode:cc.Node,xienContentNode:cc.Node,deContentNode:cc.Node,dauDuoiContentNode:cc.Node,huContentNode:cc.Node,betsNode:cc.Node,quickSelectNode:cc.Node,boardNode:cc.Node,jackpotPrefab:cc.Prefab,jackpotNode:cc.Node},onLoad:function(){},showBetsNode:function(){this.betsNode.active=!0,this.quickSelectNode.active=!1},showQuickSelectNode:function(){this.betsNode.active=!1,this.quickSelectNode.active=!0},showJackPot:function(t,e){this.jackpotNode.removeAllChildren(!0);var i=cc.instantiate(this.jackpotPrefab);this.jackpotNode.addChild(i),i.getComponent("JackpotEffect").show(t,e),i.position=new cc.Vec2(0,0)},showLo:function(){this.initBeforeClick(),this.loButtonOnNode.active=!0,this.loButtonOffNode.active=!1,this.loContentNode.active=!0},showXien:function(){this.initBeforeClick(),this.xienButtonOnNode.active=!0,this.xienButtonOffNode.active=!1,this.xienContentNode.active=!0},showDe:function(){this.initBeforeClick(),this.deButtonOnNode.active=!0,this.deButtonOffNode.active=!1,this.deContentNode.active=!0},showDauDuoi:function(){this.initBeforeClick(),this.dauDuoiButtonOnNode.active=!0,this.dauDuoiButtonOffNode.active=!1,this.dauDuoiContentNode.active=!0},showHu:function(){this.initBeforeClick(),this.huButtonOnNode.active=!0,this.huButtonOffNode.active=!1,this.huContentNode.active=!0},initBeforeClick:function(){this.hideAllOnButtons(),this.hideAllContents(),this.showAllOffButtons()},showAllOffButtons:function(){this.loButtonOffNode.active=!0,this.xienButtonOffNode.active=!0,this.deButtonOffNode.active=!0,this.dauDuoiButtonOffNode.active=!0,this.huButtonOffNode.active=!0},hideAllOnButtons:function(){this.loButtonOnNode.active=!1,this.xienButtonOnNode.active=!1,this.deButtonOnNode.active=!1,this.dauDuoiButtonOnNode.active=!1,this.huButtonOnNode.active=!1},hideAllContents:function(){this.loContentNode.active=!1,this.xienContentNode.active=!1,this.deContentNode.active=!1,this.dauDuoiContentNode.active=!1,this.huContentNode.active=!1},showBoardNode:function(){this.boardNode.active=!0},hideBoardNode:function(){this.boardNode.active=!1},reset:function(){this.showBetsNode()}}),cc._RF.pop()},{}],MiniGameLottery:[function(t,e,i){"use strict";cc._RF.push(e,"7c4141TE2dP/7sDXXyf5MYw","MiniGameLottery");var n=t("../../../base/BaseController"),o=t("./MiniGameLotteryState"),s=t("./MiniGameLotteryConstant"),a=t("./MiniGameLotteryTime"),r=t("./MiniGameLotteryResults"),c=t("./MiniGameLotteryBets"),h=t("./MiniGameLotteryQuickSelect"),l=t("./MiniGameLotteryBoard"),u=t("./MiniGameLotteryChat"),d=t("./MiniGameLotteryUI"),m=t("./content/MiniGameLotteryContentLo"),p=t("./content/MiniGameLotteryContentXien"),f=t("./content/MiniGameLotteryContentDe"),_=t("./content/MiniGameLotteryContentDauDuoi"),S=t("./content/MiniGameLotteryContentHu"),g=t("../item/JackpotItem"),N=t("../MiniGameResult"),I=t("../../../helper/Config"),C=t("../../../helper/Constant"),E=t("../../../helper/Message"),T=t("../MiniGameConstant");cc.Class({extends:n,properties:{idLabel:cc.Label,jackpotItem:g,MiniGameResult:N,MiniGameLotteryTime:a,MiniGameLotteryResults:r,MiniGameLotteryBets:c,MiniGameLotteryQuickSelect:h,MiniGameLotteryBoard:l,MiniGameLotteryChat:u,MiniGameLotteryUI:d,MiniGameLotteryContentLo:m,MiniGameLotteryContentXien:p,MiniGameLotteryContentDe:f,MiniGameLotteryContentDauDuoi:_,MiniGameLotteryContentHu:S,toastPrefab:cc.Prefab},init:function(t){this.controller=t},onLoad:function(){this._super(),this.MiniGameLotteryState=o,this.MiniGameLotteryTime.init(this),this.MiniGameLotteryResults.init(this),this.MiniGameLotteryBets.init(this),this.MiniGameLotteryQuickSelect.init(this),this.MiniGameLotteryBoard.init(this),this.MiniGameLotteryChat.init(this),this.MiniGameLotteryContentLo.init(this),this.MiniGameLotteryContentXien.init(this),this.MiniGameLotteryContentDe.init(this),this.MiniGameLotteryContentDauDuoi.init(this),this.MiniGameLotteryContentHu.init(this),this.initData()},onEnable:function(){this.sendRequest.sendNoPrefixToZone(s.ADD_EVENT)},onDisable:function(){this.destroyGame()},destroyGame:function(){this.reset(),clearTimeout(this.resultTimeout),clearTimeout(this.timeOutGetFinish),this.sendRequest.sendNoPrefixToZone(s.REMOVE_EVENT)},initData:function(){!1===this.getTempData()[s.IS_SHOW_CHAT]&&(this.MiniGameLotteryChat.node.active=!1)},handleRequest:function(t){var e=t.game_cmd,i=t.game_data,n=t.game_msg;switch(e){case s.REQUEST_INFO:this.handleInfo(i);break;case s.REQUEST_START:this.handleStart(i);break;case s.REQUEST_UPDATE:this.handleUpdate(i);break;case s.REQUEST_BET:this.handleBet(i);break;case s.REQUEST_FINISH:this.handleFinish(i);break;case s.REQUEST_CHAT:this.handleChat(i);break;case s.REQUEST_MESSAGE:this.handleMessage(n);break;case s.GET_TOP_2:this.controller.MiniGame.GameMiniRank.initDataMiniGameLottery(i)}},handleInfo:function(t){this.data=t,this.matchGameId=t.match_game_id,this.idLabel.string=String.format(E.MINIGAME_ID,t.match_game_id),this.MiniGameLotteryState.setState(t.state),this.MiniGameLotteryTime.setTime(t.time_remain),this.MiniGameLotteryBets.setBets(t),this.MiniGameLotteryResults.setResults(t.histories),this.initJackpot(),this.initChat()},handleStart:function(t){this.data=t,this.matchGameId=t.match_game_id,this.idLabel.string=String.format(E.MINIGAME_ID,t.match_game_id),this.MiniGameLotteryState.setBetting(),this.MiniGameLotteryTime.setTime(t.time_remain),this.MiniGameLotteryBets.reset()},handleUpdate:function(t){this.data.jackpot=t.jackpot,this.initJackpot(),this.MiniGameLotteryBets.setTotalBets(t.number_bets),this.MiniGameLotteryBets.setTotalBetAmount(t.total_bets),this.MiniGameLotteryBets.initTotalBets()},handleBet:function(t){this.MiniGameLotteryBets.setBets(t),this.MiniGameLotteryBoard.getContent().reset()},handleFinish:function(t){this.data=t,this.MiniGameLotteryState.setFinish(),this.MiniGameLotteryTime.setTime(t.time_remain),this.MiniGameLotteryTime.showResults(t)},handleChat:function(t){this.MiniGameLotteryChat.addChat(t)},handleMessage:function(t){this.showMessage(t)},initJackpot:function(){this.data&&this.jackpotItem.setMoney(this.data.jackpot)},initChat:function(){this.data&&this.MiniGameLotteryChat.initChat(this.data.chats)},setShowMiniGameLottery:function(t){this.node.active=t,this.isShow=t,this.getTempData()[s.IS_SHOW]=this.isShow},onMiniGameLotteryClick:function(){this.setShowMiniGameLottery(!this.isShow)},onCloseClick:function(){this.setShowMiniGameLottery(!1)},onHistoryClick:function(){this.controller.MiniGame.GameMiniHistory.showMiniGameLotteryHistories(),this.controller.MiniGame.GameMiniHistory.showDialog()},onHelpClick:function(){this.controller.Tutorial.showDialog(),this.controller.Tutorial.showTutorialByGameName(C.MINIGAME_LOTTERY)},onRankClick:function(){this.controller.MiniGame.GameMiniRank.setMiniGameName(T.MINIGAME_LOTTERY),this.controller.MiniGame.GameMiniRank.showDialog(),this.controller.MiniGame.GameMiniRank.onMoneyClick()},onLoClick:function(){this.MiniGameLotteryUI.showLo()},onXienClick:function(){this.MiniGameLotteryUI.showXien()},onDeClick:function(){this.MiniGameLotteryUI.showDe()},onDauDuoiClick:function(){this.MiniGameLotteryUI.showDauDuoi()},onHuClick:function(){this.MiniGameLotteryUI.showHu()},showMessage:function(t){var e=cc.instantiate(this.toastPrefab);e.setScale(I.MINIGAME_SCALE_TOAST),e.setPosition(I.MINIGAME_POSITION_TOAST_X,I.MINIGAME_POSITION_TOAST_Y),e.parent=this.node,e.getComponent("Toast").showToast(t)},getMatchGameId:function(){return this.matchGameId},reset:function(){this.MiniGameLotteryTime.reset(),this.MiniGameLotteryBets.reset(),this.MiniGameLotteryUI.reset()}}),cc._RF.pop()},{"../../../base/BaseController":"BaseController","../../../helper/Config":"Config","../../../helper/Constant":"Constant","../../../helper/Message":"Message","../MiniGameConstant":"MiniGameConstant","../MiniGameResult":"MiniGameResult","../item/JackpotItem":"JackpotItem","./MiniGameLotteryBets":"MiniGameLotteryBets","./MiniGameLotteryBoard":"MiniGameLotteryBoard","./MiniGameLotteryChat":"MiniGameLotteryChat","./MiniGameLotteryConstant":"MiniGameLotteryConstant","./MiniGameLotteryQuickSelect":"MiniGameLotteryQuickSelect","./MiniGameLotteryResults":"MiniGameLotteryResults","./MiniGameLotteryState":"MiniGameLotteryState","./MiniGameLotteryTime":"MiniGameLotteryTime","./MiniGameLotteryUI":"MiniGameLotteryUI","./content/MiniGameLotteryContentDauDuoi":"MiniGameLotteryContentDauDuoi","./content/MiniGameLotteryContentDe":"MiniGameLotteryContentDe","./content/MiniGameLotteryContentHu":"MiniGameLotteryContentHu","./content/MiniGameLotteryContentLo":"MiniGameLotteryContentLo","./content/MiniGameLotteryContentXien":"MiniGameLotteryContentXien"}],MiniGameResultTaiXiu:[function(t,e,i){"use strict";cc._RF.push(e,"dba1aM0OQFE15apQTmxKBsW","MiniGameResultTaiXiu");var n=t("../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{effectNode:cc.Node,winNode:cc.Node,loseNode:cc.Node,addBalanceLabel:cc.Label,minusBalanceLabel:cc.Label,messageLabel:cc.Label,messageNode:cc.Node},onLoad:function(){},onDestroy:function(){clearTimeout(this.timeoutHide)},show:function(t,e){this.reset(),(t=parseInt(t))>0?(this.node.active=!0,this.winNode.active=!0,this.addBalanceLabel.node.active=!0,this.addBalanceLabel.string="+"+n.numberWithCommas(t),this.initTimeout()):(this.node.active=!0,this.loseNode.active=!0,this.minusBalanceLabel.node.active=!0,this.minusBalanceLabel.string=n.numberWithCommas(t),this.initTimeout())},initTimeout:function(){clearTimeout(this.timeoutHide),this.timeoutHide=setTimeout(function(){this.node.active=!1}.bind(this),2500)},reset:function(){clearTimeout(this.timeoutHide),this.node.active=!1,this.loseNode.active=!1,this.winNode.active=!1,this.addBalanceLabel.node.active=!1,this.minusBalanceLabel.node.active=!1,this.messageNode.active=!1}}),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil"}],MiniGameResult:[function(t,e,i){"use strict";cc._RF.push(e,"4c92cMAdRtMU6hKWV2jlhwH","MiniGameResult");var n=t("../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{addBalanceLabel:cc.Label,minusBalanceLabel:cc.Label,messageLabel:cc.Label,messageNode:cc.Node,resultAnimation:cc.Animation},onLoad:function(){},onDestroy:function(){clearTimeout(this.timeoutHide)},show:function(t,e){this.reset(),(t=parseInt(t))>0?(this.node.active=!0,this.addBalanceLabel.node.active=!0,this.addBalanceLabel.string="+"+n.numberWithCommas(t),e&&(this.messageNode.active=!0,this.messageLabel.string=e),this.node.active&&this.resultAnimation.play(),this.initTimeout()):(this.node.active=!0,this.minusBalanceLabel.node.active=!0,this.minusBalanceLabel.string=n.numberWithCommas(t),e&&(this.messageNode.active=!0,this.messageLabel.string=e),this.node.active&&this.resultAnimation.play(),this.initTimeout())},initTimeout:function(){clearTimeout(this.timeoutHide),this.timeoutHide=setTimeout(function(){this.node.active=!1}.bind(this),1e3*this.resultAnimation.defaultClip.duration)},reset:function(){clearTimeout(this.timeoutHide),this.node.active=!1,this.addBalanceLabel.node.active=!1,this.minusBalanceLabel.node.active=!1,this.messageNode.active=!1}}),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil"}],MiniGameXPer:[function(t,e,i){"use strict";cc._RF.push(e,"21b28b7S0JLRJSUMYiMNW3W","MiniGameXPer"),cc.Class({extends:cc.Component,properties:{bgSprite:cc.Node,xperSprite:cc.Sprite,x2Mini:cc.SpriteFrame,x3Mini:cc.SpriteFrame,x4Mini:cc.SpriteFrame,x5Mini:cc.SpriteFrame,x6Mini:cc.SpriteFrame,x7Mini:cc.SpriteFrame,x8Mini:cc.SpriteFrame,x9Mini:cc.SpriteFrame,x10Mini:cc.SpriteFrame,x2Game:cc.SpriteFrame,x3Game:cc.SpriteFrame,x4Game:cc.SpriteFrame,x5Game:cc.SpriteFrame,x6Game:cc.SpriteFrame,x7Game:cc.SpriteFrame,x8Game:cc.SpriteFrame,x9Game:cc.SpriteFrame,x10Game:cc.SpriteFrame},onLoad:function(){this.hideX()},setXJackpot:function(t){1===t?this.hideX():(this.bgSprite.active=!1,this.xperSprite.node.scale=.9,this.showXJackpot(t))},setXMiniGame:function(t){1===t?this.hideX():(this.bgSprite.active=!0,this.showXGame(t))},showXGame:function(t){this.showX();var e=void 0;switch(t){case 2:e=this.x2Game;break;case 3:e=this.x3Game;break;case 4:e=this.x4Game;break;case 5:e=this.x5Game;break;case 6:e=this.x6Game;break;case 7:e=this.x7Game;break;case 8:e=this.x8Game;break;case 9:e=this.x9Game;break;case 10:e=this.x10Game}e&&(this.xperSprite.spriteFrame=e)},showXJackpot:function(t){this.showX();var e=void 0;switch(t){case 2:e=this.x2Mini;break;case 3:e=this.x3Mini;break;case 4:e=this.x4Mini;break;case 5:e=this.x5Mini;break;case 6:e=this.x6Mini;break;case 7:e=this.x7Mini;break;case 8:e=this.x8Mini;break;case 9:e=this.x9Mini;break;case 10:e=this.x10Mini}e&&(this.xperSprite.spriteFrame=e)},hideX:function(){this.xperSprite.node.scale=1,this.xperSprite.node.active=!1,this.bgSprite.active=!1},showX:function(){this.xperSprite.node.active=!0}}),cc._RF.pop()},{}],MiniGame:[function(t,e,i){"use strict";cc._RF.push(e,"719e2f8spZEQokfMWimbxvq","MiniGame");var n=t("../../base/BaseController"),o=t("./MiniGameCircle"),s=t("./MiniGameConstant"),a=t("./tai-xiu/TaiXiu"),r=t("./mini-poker/MiniPoker"),c=t("./mini-bacay/MiniBaCay"),h=t("./diamond/Diamond"),l=t("./tren-duoi/TrenDuoi"),u=t("./bom/Bom"),d=t("./wild/Wild"),m=t("./minigame-lottery/MiniGameLottery"),p=t("./lucky-wheel/LuckyWheel"),f=t("./bau-cua/BauCua"),_=t("./jackpot/Jackpot"),S=t("./tan-loc-hu-loc/BonusEvent"),g=t("./form/TaiXiuDetail"),N=t("./form/TaiXiuChain"),I=t("./form/BauCuaRank"),C=t("./form/GameMiniRank"),E=t("./form/GameMiniHistory"),T=t("./form/Event"),v=t("./form/event/EventCenter"),L=t("./tai-xiu/TaiXiuConstant"),R=t("./mini-poker/MiniPokerConstant"),b=t("./mini-bacay/MiniBaCayConstant"),M=t("./diamond/DiamondConstant"),B=t("./tren-duoi/TrenDuoiConstant"),y=t("./bom/BomConstant"),O=t("./wild/WildConstant"),A=t("./minigame-lottery/MiniGameLotteryConstant"),G=t("./bau-cua/BauCuaConstant"),k=t("./jackpot/JackpotConstant");cc.Class({extends:n,properties:{TaiXiu:a,MiniPoker:r,MiniBaCay:c,Diamond:h,TrenDuoi:l,Bom:u,Wild:d,MiniGameLottery:m,LuckyWheel:p,BauCua:f,Jackpot:_,BonusEvent:S,MiniGameCircle:o,TaiXiuDetail:g,TaiXiuChain:N,BauCuaRank:I,GameMiniRank:C,GameMiniHistory:E,Event:T,EventCenter:v},init:function(t){this.controller=t,this.MiniGameCircle.init(this),this.BonusEvent.init(t),this.TaiXiu.init(t),this.MiniPoker.init(t),this.MiniBaCay.init(t),this.Diamond.init(t),this.TrenDuoi.init(t),this.Bom.init(t),this.Wild.init(t),this.MiniGameLottery.init(t),this.LuckyWheel.init(t),this.BauCua.init(t),this.Jackpot.init(t),this.TaiXiuDetail.init(t),this.TaiXiuChain.init(t),this.BauCuaRank.init(t),this.GameMiniRank.init(t),this.GameMiniHistory.init(t),this.Event.init(t),this.EventCenter.init(t),this.preventDisconnectListener=null,this._onTouchBegan=this.onTouchBegan.bind(this),this._onTouchMoved=this.onTouchMoved.bind(this),this._onTouchEnded=this.onTouchEnded.bind(this)},onLoad:function(){this._super(),this.isPlaying=!0,this.initShowLuckyWheel(),this.initShowMiniGame(),this.sendRequest.sendNoPrefixToZone(L.GET_STATE),this.addGameEvent()},onEnable:function(){var t=this;cc.V.miniGamePause||(cc.V.miniGamePause=cc.game.pause.bind(cc.game),cc.V.miniGameResume=cc.game.resume.bind(cc.game),cc.game.resume=function(){t.disableAutoSpinWhenHideTab()},cc.game.pause=function(){t.autoSpinMiniGameWhenHideTab()}),this.addEventPreventDisconnect()},onDisable:function(){this.removeEventPreventDisconnect()},onDestroy:function(){this.removeGameEvent()},addGameEvent:function(){cc.V.resume||(cc.V.resume=cc.game.resume.bind(cc.game),cc.V.pause=cc.game.pause.bind(cc.game));var t=this;cc.game.pause=function(){cc.V.pause&&cc.V.pause(),t.isPlaying=!1,t.removeEventMiniGame()},cc.game.resume=function(){cc.V.resume&&cc.V.resume(),t.isPlaying=!0,t.addEventMiniGame()}},removeGameEvent:function(){cc.V.resume&&(cc.game.resume=cc.V.resume,cc.game.pause=cc.V.pause)},addEventMiniGame:function(){this.TaiXiu&&(this.TaiXiu.node.active?this.sendRequest.sendNoPrefixToZone(L.ADD_EVENT):this.sendRequest.sendNoPrefixToZone(L.GET_STATE)),this.MiniPoker&&this.MiniPoker.node.active&&this.sendRequest.sendNoPrefixToZone(R.ADD_EVENT),this.MiniBaCay&&this.MiniBaCay.node.active&&this.sendRequest.sendNoPrefixToZone(b.ADD_EVENT),this.Diamond&&this.Diamond.node.active&&this.sendRequest.sendNoPrefixToZone(M.ADD_EVENT),this.TrenDuoi&&this.TrenDuoi.node.active&&this.sendRequest.sendNoPrefixToZone(B.ADD_EVENT),this.Bom&&this.Bom.node.active&&this.sendRequest.sendNoPrefixToZone(y.ADD_EVENT),this.Wild&&this.Wild.node.active&&this.sendRequest.sendNoPrefixToZone(O.ADD_EVENT),this.MiniGameLottery&&this.MiniGameLottery.node.active&&this.sendRequest.sendNoPrefixToZone(A.ADD_EVENT),this.BauCua&&this.BauCua.node.active&&this.sendRequest.sendNoPrefixToZone(G.ADD_EVENT),this.Jackpot&&this.Jackpot.node.active&&this.sendRequest.sendNoPrefixToZone(k.ADD_EVENT)},removeEventMiniGame:function(){this.TaiXiu.node.active&&this.sendRequest.sendNoPrefixToZone(L.REMOVE_EVENT),this.MiniPoker.node.active&&this.sendRequest.sendNoPrefixToZone(R.REMOVE_EVENT),this.MiniBaCay.node.active&&this.sendRequest.sendNoPrefixToZone(b.REMOVE_EVENT),this.Diamond.node.active&&this.sendRequest.sendNoPrefixToZone(M.REMOVE_EVENT),this.TrenDuoi.node.active&&this.sendRequest.sendNoPrefixToZone(B.REMOVE_EVENT),this.Bom.node.active&&this.sendRequest.sendNoPrefixToZone(y.REMOVE_EVENT),this.Wild.node.active&&this.sendRequest.sendNoPrefixToZone(O.REMOVE_EVENT),this.MiniGameLottery.node.active&&this.sendRequest.sendNoPrefixToZone(A.REMOVE_EVENT),this.BauCua.node.active&&this.sendRequest.sendNoPrefixToZone(G.REMOVE_EVENT),this.Jackpot.node.active&&this.sendRequest.sendNoPrefixToZone(k.REMOVE_EVENT)},initShowMiniGame:function(){this.getTempData()[M.IS_SHOW]&&this.Diamond.setShowDiamond(!0),this.getTempData()[b.IS_SHOW]&&this.MiniBaCay.setShowMiniBaCay(!0),this.getTempData()[R.IS_SHOW]&&this.MiniPoker.setShowMiniPoker(!0),this.getTempData()[B.IS_SHOW]&&this.TrenDuoi.setShowTrenDuoi(!0),this.getTempData()[y.IS_SHOW]&&this.Bom.setShowBom(!0),this.getTempData()[O.IS_SHOW]&&this.Wild.setShowWild(!0),this.getTempData()[A.IS_SHOW]&&this.MiniGameLottery.setShowMiniGameLottery(!0),this.getTempData()[G.IS_SHOW]&&this.BauCua.setShowBauCua(!0),!1!==this.getTempData()[L.IS_SHOW]&&this.TaiXiu.setShowTaiXiu(!0)},initShowLuckyWheel:function(){if(this.getUser().is_new)this.showLuckyWheel();else{var t=cc.sys.localStorage.getItem(s.LUCKY_WHEEL_LAST_DATE_SHOW);if(t)t!==(new Date).toDateString()&&this.showLuckyWheel();else this.showLuckyWheel()}},showLuckyWheel:function(){this.LuckyWheel.node.active=!0;var t=(new Date).toDateString();cc.sys.localStorage.setItem(s.LUCKY_WHEEL_LAST_DATE_SHOW,t)},addEventPreventDisconnect:function(){},removeEventPreventDisconnect:function(){},onTouchBegan:function(t){return this.controller.checkSendEventDisconnect(),!0},onTouchMoved:function(t){},onTouchEnded:function(t){},handleRequest:function(t){if(this.isPlaying&&t.status){var e=t.data.game_name,i=t.data;switch(e){case s.TAIXIU:this.TaiXiu.handleRequest(i);break;case s.MINI_POKER:case s.MINI_POKER_2:this.MiniPoker.handleRequest(i);break;case s.MINI_BACAY:case s.MINI_BACAY_2:this.MiniBaCay.handleRequest(i);break;case s.LUCKY_WHEEL:this.LuckyWheel.handleRequest(i);break;case s.JACKPOT:this.Jackpot.handleRequest(i);break;case s.DIAMOND:case s.DIAMOND_2:this.Diamond.handleRequest(i);break;case s.TREN_DUOI:this.TrenDuoi.handleRequest(i);break;case s.BOM:case s.BOM_2:this.Bom.handleRequest(i);break;case s.WILD:case s.WILD_2:this.Wild.handleRequest(i);break;case s.MINIGAME_LOTTERY:this.MiniGameLottery.handleRequest(i);break;case s.BAU_CUA:this.BauCua.handleRequest(i);break;case s.HU_LOC:case s.TAN_LOC:this.BonusEvent&&this.BonusEvent.handleRequest(t)}}},initNumberSpinFreeGame:function(t){var e=t.data;this.timeOutLuckyWheel=setTimeout(function(){this.getUser().lucky_wheel_free=e.LUCKY_WHEEL,this.MiniPoker.initMiniGameSpinFree(e.minigame_free),this.MiniBaCay.initMiniGameSpinFree(e.minigame_free),this.Diamond.initMiniGameSpinFree(e.minigame_free)}.bind(this),1e3)},showBauCuaRankForm:function(){this.BauCuaRank.showDialog()},autoSpinMiniGameWhenHideTab:function(){clearTimeout(this.autoSpinHideTab),this.autoSpinHideTab=setInterval(function(){this.Diamond&&this.Diamond.isAutoSpin()&&this.Diamond.spin(),this.MiniBaCay&&this.MiniBaCay.isAutoSpin()&&this.MiniBaCay.spin(),this.MiniPoker&&this.MiniPoker.isAutoSpin()&&this.MiniPoker.spin()}.bind(this),s.TIME_AUTO_SPIN_WHEN_HIDE_TAB)},disableAutoSpinWhenHideTab:function(){this.autoSpinHideTab&&clearTimeout(this.autoSpinHideTab)},onTopClick:function(){this.controller.Audio.playClick(),this.Event.showDialog()}}),cc._RF.pop()},{"../../base/BaseController":"BaseController","./MiniGameCircle":"MiniGameCircle","./MiniGameConstant":"MiniGameConstant","./bau-cua/BauCua":"BauCua","./bau-cua/BauCuaConstant":"BauCuaConstant","./bom/Bom":"Bom","./bom/BomConstant":"BomConstant","./diamond/Diamond":"Diamond","./diamond/DiamondConstant":"DiamondConstant","./form/BauCuaRank":"BauCuaRank","./form/Event":"Event","./form/GameMiniHistory":"GameMiniHistory","./form/GameMiniRank":"GameMiniRank","./form/TaiXiuChain":"TaiXiuChain","./form/TaiXiuDetail":"TaiXiuDetail","./form/event/EventCenter":"EventCenter","./jackpot/Jackpot":"Jackpot","./jackpot/JackpotConstant":"JackpotConstant","./lucky-wheel/LuckyWheel":"LuckyWheel","./mini-bacay/MiniBaCay":"MiniBaCay","./mini-bacay/MiniBaCayConstant":"MiniBaCayConstant","./mini-poker/MiniPoker":"MiniPoker","./mini-poker/MiniPokerConstant":"MiniPokerConstant","./minigame-lottery/MiniGameLottery":"MiniGameLottery","./minigame-lottery/MiniGameLotteryConstant":"MiniGameLotteryConstant","./tai-xiu/TaiXiu":"TaiXiu","./tai-xiu/TaiXiuConstant":"TaiXiuConstant","./tan-loc-hu-loc/BonusEvent":"BonusEvent","./tren-duoi/TrenDuoi":"TrenDuoi","./tren-duoi/TrenDuoiConstant":"TrenDuoiConstant","./wild/Wild":"Wild","./wild/WildConstant":"WildConstant"}],MiniPokerCard:[function(t,e,i){"use strict";cc._RF.push(e,"3b844lr/0lNgbVg5r5XjXQP","MiniPokerCard");var n=cc.Enum({Spade:1,Club:2,Heart:3,Diamon:4}),o="NAN,A,2,3,4,5,6,7,8,9,10,J,Q,K".split(",");function s(t){var e=parseInt(t/100),i=t%4;this.trueValue=100*e+i,this.value=e,this.type=i;var s=e,a=++i;s=14===s?1:s,Object.defineProperties(this,{point:{value:s,writable:!1},suit:{value:a,writable:!1},id:{value:13*(a-1)+(s-1),writable:!1},pointName:{get:function(){return o[this.point]}},suitName:{get:function(){return n[this.suit]}},isBlackSuit:{get:function(){return 1===this.suit||2===this.suit}},isRedSuit:{get:function(){return 3===this.suit||4===this.suit}}})}s.prototype.toString=function(){return this.suitName+" "+this.pointName},e.exports=s,cc._RF.pop()},{}],MiniPokerConstant:[function(t,e,i){"use strict";cc._RF.push(e,"3d167c0jsdANYwX2lRXQ2+3","MiniPokerConstant");e.exports={REQUEST_MESSAGE:"MESSAGE",REQUEST_INFO:"INFO",REQUEST_SPIN:"SPIN",ADD_EVENT:"mini_poker.ADD_EVENT",REMOVE_EVENT:"mini_poker.REMOVE_EVENT",SPIN:"mini_poker.SPIN",IS_SHOW:"mini_poker_is_show",POSITION:"mini_poker_position",IS_AUTO_SPIN:"mini_poker_auto_spin",IS_SPIN_FAST:"mini_poker_spin_fast",BET_VALUE:"mini_poker_bet_value",BET_100:100,BET_1k:1e3,BET_10k:1e4,LINE_TYPE:"mini_poker_line_type",MONEY_TYPE:"mini_poker_money_type",MONEY_TYPE_GOLD:"GOLD",MONEY_TYPE_MONEY:"MONEY",GET_TOP_2:"GET_TOP",GET_TOP:"mini_poker.GET_TOP"},cc._RF.pop()},{}],MiniPokerHistories:[function(t,e,i){"use strict";cc._RF.push(e,"4788d7Qh1pMC5iqcI549fVe","MiniPokerHistories");var n=t("../../../../helper/Message");cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,moneyButtonNode:cc.Node,goldButtonNode:cc.Node,historyMiniPokerItemPrefab:cc.Prefab,historyScrollView:cc.ScrollView},init:function(t){this.controller=t},onLoad:function(){},onEnable:function(){this.data=null,this.onMoneyClick()},onDisable:function(){this.removeXhr()},onMoneyClick:function(){this.goldButtonNode.active=!0,this.moneyButtonNode.active=!1,this.loadData()},onGoldClick:function(){this.goldButtonNode.active=!1,this.moneyButtonNode.active=!0,this.loadData()},loadData:function(){var t=this;if(this.showLoadingNode(),this.historyScrollView.content.removeAllChildren(!0),this.data)this.initData();else{var e={token:this.controller.getToken(),user_id:this.controller.getUserId()};this.controller.api.getHistoryMiniPoker(e,function(e){t.data=e.data,t.initData()},function(e){t.showListNode(),t.controller.showDialogMessage(n.HISTORY_TITLE,e.msg)})}},initData:function(){if(this.showListNode(),this.data){var t=this.isMoneyType()?this.data[0]:this.data[1];for(var e in t){var i=cc.instantiate(this.historyMiniPokerItemPrefab);i.parent=this.historyScrollView.content,i.getComponent("MiniPokerHistoryItem").init(t[e],e)}}},getType:function(){return this.moneyOnButtonNode.active?0:1},isMoneyType:function(){return this.goldButtonNode.active},showLoadingNode:function(){this.loadingNode.active=!0,this.historyScrollView.node.active=!1},showListNode:function(){this.loadingNode.active=!1,this.historyScrollView.node.active=!0},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{"../../../../helper/Message":"Message"}],MiniPokerHistoryItem:[function(t,e,i){"use strict";cc._RF.push(e,"db801KkLnVFhZFt7jNpXAnC","MiniPokerHistoryItem");var n=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,idLabel:cc.Label,timeLabel:cc.Label,betLabel:cc.Label,resultLabel:cc.Label,getLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e){this.data=t,t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.idLabel.string=t.spin_id,this.timeLabel.string=n.getStringDateByTimeStamp(t.created_at),this.betLabel.string=n.numberWithCommas(t.total_bet_value),this.resultLabel.string=this.getResultBySlotData(t.slot_data),this.getLabel.string=n.numberWithCommas(t.total_prize_value);var i=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=i},onLoad:function(){},getResultBySlotData:function(t){t=JSON.parse(t);var e="";for(var i in t){e+=" ",e+=this.getResultByTrueValue(t[i])}return e},getResultByTrueValue:function(t){var e=parseInt(t/100);switch(e=11===(e=12===(e=13===(e=14===e?"A":e)?"K":e)?"Q":e)?"J":e,t%4){case 0:e+="\u2660";break;case 1:e+="\u2663";break;case 2:e+="\u2665";break;case 3:e+="\u2666"}return e}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil"}],MiniPokerReels:[function(t,e,i){"use strict";cc._RF.push(e,"5c64aWRPy9Mm5wrEwoWwNxf","MiniPokerReels");var n=t("./MiniPokerReel"),o=t("../../../util/FormatUtil"),s=t("../../../helper/Config");cc.Class({extends:cc.Component,properties:{reels:[n],resultNode:cc.Node,moneyLabel:cc.Label},init:function(t){for(var e in this.MiniPoker=t,this.reels)this.reels[e].init(t,this)},onEnable:function(){this.reset()},onDisable:function(){this.reset()},spinReelsShowMoney:function(t,e,i,n,o,a,r){for(var c in this.reels)c==this.reels.length-1?this.reels[c].spin(t[c],s.MINIPOKER_NUMBER_CARDS_SPIN+2*c,!0,!0,e,a,i,n,o,r):this.reels[c].spin(t[c],s.MINIPOKER_NUMBER_CARDS_SPIN+2*c,!0)},spinReelsNotShowMoney:function(t,e,i,n,o,a){for(var r in this.reels)r==this.reels.length-1?this.reels[r].spin(t[r],s.MINIPOKER_NUMBER_CARDS_SPIN+2*r,!1,!0,e,a,i,n,o,!0):this.reels[r].spin(t[r],s.MINIPOKER_NUMBER_CARDS_SPIN+2*r,!1)},showMoney:function(t){this.resultNode.active=!0,this.moneyLabel.string=o.numberWithCommas(t),clearTimeout(this.resultTimeout),this.resultTimeout=setTimeout(function(){this.reset()}.bind(this),1500)},isSpinning:function(){return 0!==cc.director.getActionManager().getNumberOfRunningActionsInTarget(this.reels[0].node)},reset:function(){this.resultNode.active=!1,clearTimeout(this.resultTimeout)}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../util/FormatUtil":"FormatUtil","./MiniPokerReel":"MiniPokerReel"}],MiniPokerReel:[function(t,e,i){"use strict";cc._RF.push(e,"90bf9xbmQhNeow9z/HlKWat","MiniPokerReel");var n=t("./MiniPokerCard"),o=t("../MiniGameConstant"),s=t("../../../util/RandomUtil"),a=t("../../../helper/Config");cc.Class({extends:cc.Component,properties:{cardPrefab:cc.Prefab},init:function(t,e){this.MiniPoker=t,this.MiniPokerUI=t.MiniPokerUI,this.MiniGameResult=t.MiniGameResult,this.MiniPokerReels=e},onLoad:function(){this.trueValue=null,this.pool=new cc.NodePool;for(var t=0;t<20;t++){var e=cc.instantiate(this.cardPrefab);this.pool.put(e)}this.randomCard()},spin:function(t,e,i,n,s,r,c,h,l,u){this.reset(),this.setCard(this.trueValue),this.trueValue=t;for(var d=1;d<e;d++){var m=t;d!=e-1&&(m=this.getRandomTrueValue());var p=this.instanceCard(m);p.setPosition(0,d*a.MINIPOKER_DISTANCE_TWO_CARD),p.parent=this.node}var f=(e-1)*a.MINIPOKER_DISTANCE_TWO_CARD,_=f/(this.MiniPoker.isSpinFast()?a.MINIPOKER_SPEED_FAST_SPIN_CARD:a.MINIPOKER_SPEED_SPIN_CARD),S=cc.moveTo(_,this.node.x,-f).easing(cc.easeInOut(3)),g=cc.callFunc(function(){this.setCard(t),n&&this.MiniPoker.node.active&&(u&&(h===o.WIN_TYPE_JACKPOT?this.MiniPokerUI.showJackPot(r,l):this.MiniGameResult.show(r,c)),i&&this.MiniPokerReels.showMoney(s))},this),N=this.MiniPoker.isSpinFast()?cc.delayTime(0):cc.delayTime(a.MINIPOKER_DELAY_SPIN),I=cc.callFunc(function(){this.setCard(t),n&&this.MiniPoker.node.active&&this.MiniPoker.isAutoSpin()&&this.MiniPoker.spin()},this);this.node.runAction(cc.sequence(S,g,N,I)),h!==o.WIN_TYPE_JACKPOT||this.MiniPoker.node.active||(this.MiniPoker.node.active=!0,this.MiniPokerUI.showJackPot(r,l))},getRandomTrueValue:function(){return 100*s.getRandomInt(2,14)+s.getRandomInt(0,3)},randomCard:function(){var t=this.getRandomTrueValue();this.reset(),this.setCard(t)},setCard:function(t){this.trueValue=t;var e=this.instanceCard(t);e.setPosition(0,0),e.parent=this.node},instanceCard:function(t){var e=void 0;this.pool&&(e=this.pool.get()),e||(e=cc.instantiate(this.cardPrefab));var i=e.getComponent("CardController"),o=new n(t);return i.init(o),i.reveal(!0),e.setScale(a.MINIPOKER_SCALE_CARD),e.cardController=i,e},putAllChipToPool:function(){if(this.pool){var t=this.node.getChildren(),e=[];for(var i in t)e.push(t[i]);for(var n in e)this.pool.put(e[n])}},reset:function(){this.node.stopAllActions(!0),this.node.setPosition(this.node.x,0),this.putAllChipToPool()}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../util/RandomUtil":"RandomUtil","../MiniGameConstant":"MiniGameConstant","./MiniPokerCard":"MiniPokerCard"}],MiniPokerUI:[function(t,e,i){"use strict";cc._RF.push(e,"11859dR/fNBRZ281RbwHHTm","MiniPokerUI");var n=t("../../../util/FormatUtil"),o=t("../../../helper/Config");cc.Class({extends:cc.Component,properties:{bet1OnLabel:cc.Label,bet1OffLabel:cc.Label,bet2OnLabel:cc.Label,bet2OffLabel:cc.Label,bet3OnLabel:cc.Label,bet3OffLabel:cc.Label,betOnButton1Node:cc.Node,betOffButton1Node:cc.Node,betOnButton2Node:cc.Node,betOffButton2Node:cc.Node,betOnButton3Node:cc.Node,betOffButton3Node:cc.Node,jackpotPrefab:cc.Prefab,jackpotNode:cc.Node,notifySpinFreeNode:cc.Node,notifySpinFreeLabel:cc.Label,bgSmallNode:cc.Node,bgBigNode:cc.Node,topNode:cc.Node,bottomNode:cc.Node,reels1Node:cc.Node,reels2Node:cc.Node,reels3Node:cc.Node,toggleOnNode:cc.Node,toggleOffNode:cc.Node,toggleLabel:cc.Label},showSmallReels:function(){this.bgSmallNode.active=!0,this.bgBigNode.active=!1,this.topNode.y=210,this.bottomNode.y=-105,this.node.height=335,this.reels1Node.active=!1,this.reels2Node.active=!0,this.reels3Node.active=!1,this.toggleOnNode.active=!1,this.toggleOffNode.active=!0,this.toggleLabel.string="Quay 1 d\xf2ng"},showBigReels:function(){this.bgSmallNode.active=!1,this.bgBigNode.active=!0,this.topNode.y=340,this.bottomNode.y=-225,this.node.height=580,this.reels1Node.active=!0,this.reels2Node.active=!0,this.reels3Node.active=!0,this.toggleOnNode.active=!0,this.toggleOffNode.active=!1,this.toggleLabel.string="Quay 3 d\xf2ng"},showMiniGameSpinFree:function(t){this.notifySpinFreeLabel.string=t,this.notifySpinFreeNode.active=!0},hideMiniGameSpinFree:function(){this.notifySpinFreeNode.active=!1},showJackPot:function(t,e){this.jackpotNode.removeAllChildren(!0);var i=cc.instantiate(this.jackpotPrefab);this.jackpotNode.addChild(i),i.getComponent("JackpotEffect").show(t,e),i.position=new cc.Vec2(0,0)},setBetByRoomType:function(t){t?this.setBetMoney():this.setBetGold()},setBetMoney:function(){var t=o.MINIPOKER_LIST_BET_MONEY;this.setBetGoldByList(t[0],t[1],t[2])},setBetGold:function(){var t=o.MINIPOKER_LIST_BET_GOLD;this.setBetGoldByList(t[0],t[1],t[2])},setBetGoldByList:function(t,e,i){this.bet1OnLabel.string=n.nFormatter(t),this.bet1OffLabel.string=n.nFormatter(t),this.bet2OnLabel.string=n.nFormatter(e),this.bet2OffLabel.string=n.nFormatter(e),this.bet3OnLabel.string=n.nFormatter(i),this.bet3OffLabel.string=n.nFormatter(i)},enableBet1Button:function(){this.hideAllBetButtons(),this.betOnButton1Node.active=!0,this.betOffButton2Node.active=!0,this.betOffButton3Node.active=!0},enableBet2Button:function(){this.hideAllBetButtons(),this.betOffButton1Node.active=!0,this.betOnButton2Node.active=!0,this.betOffButton3Node.active=!0},enableBet3Button:function(){this.hideAllBetButtons(),this.betOffButton1Node.active=!0,this.betOffButton2Node.active=!0,this.betOnButton3Node.active=!0},hideAllBetButtons:function(){this.betOnButton1Node.active=!1,this.betOffButton1Node.active=!1,this.betOnButton2Node.active=!1,this.betOffButton2Node.active=!1,this.betOnButton3Node.active=!1,this.betOffButton3Node.active=!1}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../util/FormatUtil":"FormatUtil"}],MiniPoker:[function(t,e,i){"use strict";cc._RF.push(e,"93290oJAe5H2Y7Is3BhEFnC","MiniPoker");var n=t("../../../base/BaseController"),o=t("./MiniPokerConstant"),s=t("./MiniPokerUI"),a=t("./MiniPokerReels"),r=t("../MiniGameResult"),c=t("../item/JackpotItem"),h=t("../../../object/JackpotX"),l=t("../../../helper/Config"),u=t("../../../helper/Constant"),d=t("../../../helper/Message"),m=t("../../../object/RoomType"),p=t("../MiniGameConstant");cc.Class({extends:n,properties:{idLabel:cc.Label,moneyNode:cc.Node,goldNode:cc.Node,autoSpinToggle:cc.Toggle,spinFastToggle:cc.Toggle,MiniPokerReels1:a,MiniPokerReels2:a,MiniPokerReels3:a,JackpotItem:c,JackpotX:h,notificationNode:cc.Node,notificationLabel:cc.Label,toastPrefab:cc.Prefab,MiniPokerUI:s,MiniGameResult:r},init:function(t){this.controller=t},onLoad:function(){this._super(),this.data=null,this.isShow=!0,this.isMoneyType=!0,this.is1LineType=!0,this.betOrder=0,this.intervalSpin=null,this.MiniPokerReels1.init(this),this.MiniPokerReels2.init(this),this.MiniPokerReels3.init(this),this.initTypeRoom(),this.setTypeRoom(this.isMoneyType),this.setTypeLine(this.is1LineType),this.reset(),this.initData()},onEnable:function(){this.removeIntervalSpin(),this.initTempData(),this.sendRequest.sendNoPrefixToZone(o.ADD_EVENT)},onDisable:function(){this.destroyGame()},onDestroy:function(){this.removeIntervalSpin()},destroyGame:function(){this.reset(),this.sendRequest.sendNoPrefixToZone(o.REMOVE_EVENT)},initData:function(){this.initSaveData(),this.initTempData()},initTypeRoom:function(){this.isMoneyType=!0,this.getTempData()[o.MONEY_TYPE]===o.MONEY_TYPE_GOLD&&(this.isMoneyType=!1),this.is1LineType=!0,!1===this.getTempData()[o.LINE_TYPE]&&(this.is1LineType=!1)},setTypeLine:function(t){this.is1LineType=t,this.is1LineType?this.MiniPokerUI.showSmallReels():this.MiniPokerUI.showBigReels()},initTempData:function(){var t=this.getTempData(),e=t[o.IS_AUTO_SPIN],i=t[o.IS_SPIN_FAST],n=t[o.BET_VALUE];switch(i&&this.spinFastToggle.check(),e&&(this.autoSpinToggle.check(),this.spin()),n){case o.BET_100:this.setBet1();break;case o.BET_1k:this.setBet2();break;case o.BET_10k:this.setBet3()}!this.node.active&&e?this.notificationNode.active=!0:this.notificationNode.active=!1},initSaveData:function(){var t=cc.sys.localStorage.getItem(o.POSITION);t&&(t=JSON.parse(t),this.positionX=t.x,this.positionY=t.y)},initMiniGameSpinFree:function(t){for(var e in t){var i=t[e].minigame_config_id,n=t[e].quantity;i===o.MINIGAME_CONFIG_ID&&(n>0?this.MiniPokerUI.showMiniGameSpinFree(n):this.MiniPokerUI.hideMiniGameSpinFree())}},initSpinFree:function(){var t=this.getUser().mini_poker_free,e=this.getTempData()[o.IS_AUTO_SPIN];t&&t>0?(this.notificationNode.active=!0,this.notificationLabel.string=t):e&&!this.node.active?(this.notificationNode.active=!0,this.notificationLabel.string="\u25ba"):this.notificationNode.active=!1},handleRequest:function(t){var e=t.game_cmd,i=t.game_data,n=t.game_msg;switch(e){case o.GET_TOP_2:this.controller.MiniGame.GameMiniRank.initDataTop(i);break;case o.REQUEST_INFO:this.handleInfo(i);break;case o.REQUEST_SPIN:this.handleSpin(i);break;case o.REQUEST_MESSAGE:this.handleMessage(n)}},handleInfo:function(t){this.data=t,this.setSendSpin(!1),this.initJackpot()},handleMessage:function(t){this.setSendSpin(!1),this.removeIntervalSpin(),this.showMessage(t)},handleSpin:function(t){this.setSendSpin(!1);var e=t.spin_id;if(this.idLabel.string=String.format(d.MINIGAME_ID,e),1===t.group_cards_type.length){var i=[t.slot_data[0],t.slot_data[1],t.slot_data[2],t.slot_data[3],t.slot_data[4]],n=t.group_cards_type[0],o=t.array_win_prize[0];this.MiniPokerReels2.spinReelsNotShowMoney(i,o,n,t.win_type,this.isMoneyType,t.total_prize_value)}else if(3===t.group_cards_type.length){var s=[t.slot_data[0],t.slot_data[1],t.slot_data[2],t.slot_data[3],t.slot_data[4]],a=[t.slot_data[5],t.slot_data[6],t.slot_data[7],t.slot_data[8],t.slot_data[9]],r=[t.slot_data[10],t.slot_data[11],t.slot_data[12],t.slot_data[13],t.slot_data[14]],c=t.group_cards_type[0],h=this.getTotalGroupCards(t.array_win_prize,t.group_cards_type),l=t.group_cards_type[2],u=t.array_win_prize[0],m=t.array_win_prize[1],p=t.array_win_prize[2];this.MiniPokerReels1.spinReelsShowMoney(s,u,c,t.win_type,this.isMoneyType,t.total_prize_value,!1),this.MiniPokerReels2.spinReelsShowMoney(a,m,h,t.win_type,this.isMoneyType,t.total_prize_value,!0),this.MiniPokerReels3.spinReelsShowMoney(r,p,l,t.win_type,this.isMoneyType,t.total_prize_value,!1)}},getTotalGroupCards:function(t,e){var i=[];for(var n in t)t[n]>0&&i.push(e[n]);return i.length>0?i.join(" - "):e[0]},onSpinClick:function(){this.spin()},isSpinning:function(){return this.MiniPokerReels2.isSpinning()},spin:function(){if(!this.isSendSpin()){this.setSendSpin(!0);var t={money_type:this.isMoneyType?m.MONEY_CODE:m.GOLD_CODE,money_value:this.getCurrentBet(),number_line:this.is1LineType?1:3};this.sendRequest.sendNoPrefixToZone(o.SPIN,t),this.MiniGameResult.reset()}},onHelpClick:function(){this.controller.Tutorial.showDialog(),this.controller.Tutorial.showTutorialByGameName(u.MINI_POKER)},onHistoriesClick:function(){this.controller.MiniGame.GameMiniHistory.showMiniPokerHistories(),this.controller.MiniGame.GameMiniHistory.showDialog()},onRankClick:function(){this.controller.MiniGame.GameMiniRank.setMiniGameName(p.MINI_POKER),this.controller.MiniGame.GameMiniRank.showDialog(),this.isMoneyType?this.controller.MiniGame.GameMiniRank.onMoneyClick():this.controller.MiniGame.GameMiniRank.onGoldClick()},onCloseClick:function(){this.setShowMiniPoker(!1)},onGoldClick:function(){this.isSpinning()||this.isAutoSpin()?this.showMessage(d.AUTO_SPIN_NOT_CHANGE_MONEY_TYPE):this.setTypeRoom(!this.isMoneyType)},onMoneyClick:function(){this.isSpinning()||this.isAutoSpin()?this.showMessage(d.AUTO_SPIN_NOT_CHANGE_MONEY_TYPE):this.setTypeRoom(!this.isMoneyType)},onToggleClick:function(){this.isSpinning()||this.isAutoSpin()?this.showMessage(d.AUTO_SPIN_NOT_CHANGE_NUMBER_LINE):this.setTypeLine(!this.is1LineType)},onBet1ButtonClick:function(){this.isAutoSpin()||this.isSpinning()?this.showMessage(d.AUTO_SPIN_NOT_CHANGE_BET):this.setBet1()},setBet1:function(){this.betOrder=0,this.initJackpot(),this.MiniPokerUI.enableBet1Button(),this.getTempData()[o.BET_VALUE]=o.BET_100},onBet2ButtonClick:function(){this.isAutoSpin()||this.isSpinning()?this.showMessage(d.AUTO_SPIN_NOT_CHANGE_BET):this.setBet2()},setBet2:function(){this.betOrder=1,this.initJackpot(),this.MiniPokerUI.enableBet2Button(),this.getTempData()[o.BET_VALUE]=o.BET_1k},onBet3ButtonClick:function(){this.isAutoSpin()||this.isSpinning()?this.showMessage(d.AUTO_SPIN_NOT_CHANGE_BET):this.setBet3()},setBet3:function(){this.betOrder=2,this.initJackpot(),this.MiniPokerUI.enableBet3Button(),this.getTempData()[o.BET_VALUE]=o.BET_10k},onMiniPokerClick:function(){this.setShowMiniPoker(!this.isShow)},onAutoSpinToggle:function(){var t=this.isAutoSpin();this.getTempData()[o.IS_AUTO_SPIN]=t},onSpinFastToggle:function(){var t=this.isSpinFast();this.getTempData()[o.IS_SPIN_FAST]=t},setShowMiniPoker:function(t){this.node.active=t,this.isShow=t,this.getTempData()[o.IS_SHOW]=t},initIntervalSpin:function(){this.removeIntervalSpin();var t=this.isSpinFast()?l.MINIPOKER_TIME_FAST_SPIN:l.MINIPOKER_TIME_SPIN;this.intervalSpin=setInterval(function(){this.spin()}.bind(this),1e3*t)},removeIntervalSpin:function(){clearInterval(this.intervalSpin)},initJackpot:function(){if(this.data){var t=this.data.gold,e=this.data.money;if(this.isMoneyType){this.JackpotItem.setMoney(e[this.betOrder]);var i=e[3]?e[3]:null;i&&this.JackpotX.showSlotX(i[this.betOrder])}else this.JackpotItem.setMoney(t[this.betOrder]),this.JackpotX.showSlotX(1)}},showMessage:function(t){var e=cc.instantiate(this.toastPrefab);e.setScale(l.MINIGAME_SCALE_TOAST),e.setPosition(l.MINIGAME_POSITION_TOAST_X,l.MINIGAME_POSITION_TOAST_Y),e.parent=this.node,e.getComponent("Toast").showToast(t)},setTypeRoom:function(t){this.isMoneyType=t,this.moneyNode.active=t,this.goldNode.active=!t,this.initJackpot(),this.MiniPokerUI.setBetByRoomType(this.isMoneyType)},getCurrentBet:function(){return(this.isMoneyType?l.MINIPOKER_LIST_BET_MONEY:l.MINIPOKER_LIST_BET_GOLD)[this.betOrder]},isAutoSpin:function(){return this.autoSpinToggle.isChecked},isSpinFast:function(){return this.spinFastToggle.isChecked},setSendSpin:function(t){this.is_send_spin=t},isSendSpin:function(){return this.is_send_spin},reset:function(){this.MiniGameResult.reset()}}),cc._RF.pop()},{"../../../base/BaseController":"BaseController","../../../helper/Config":"Config","../../../helper/Constant":"Constant","../../../helper/Message":"Message","../../../object/JackpotX":"JackpotX","../../../object/RoomType":"RoomType","../MiniGameConstant":"MiniGameConstant","../MiniGameResult":"MiniGameResult","../item/JackpotItem":"JackpotItem","./MiniPokerConstant":"MiniPokerConstant","./MiniPokerReels":"MiniPokerReels","./MiniPokerUI":"MiniPokerUI"}],Music:[function(t,e,i){"use strict";cc._RF.push(e,"dccf06mRztJGIIuAQH9EWrn","Music");var n=t("../helper/Constant");cc.Class({extends:cc.Component,properties:{menuNode:cc.Node,soundOnNode:cc.Node,soundOffNode:cc.Node,musicOnNode:cc.Node,musicOffNode:cc.Node,slotMusic:{type:cc.AudioClip,default:null},spinAudio:{type:cc.AudioClip,default:null},winNormalAudio:{type:cc.AudioClip,default:null},bigWinAudio:{type:cc.AudioClip,default:null},megaWinAudio:{type:cc.AudioClip,default:null},jackpotAudio:{type:cc.AudioClip,default:null}},onLoad:function(){this.isSound=!0,this.isMusic=!0,this.loadConfig(),this.startMusic()},loadConfig:function(){var t=cc.sys.localStorage.getItem(n.IS_SOUND_SLOT),e=cc.sys.localStorage.getItem(n.IS_MUSIC_SLOT);t="true"===t||!0===t||"false"!==t&&!1!==t,e="true"===e||!0===e||"false"!==e&&!1!==e,this.isSound=t,this.isMusic=e,this.initSound(),this.initMusic()},onMenuClick:function(){this.menuNode.active=!this.menuNode.active},onSoundClick:function(){this.setSound(!this.isSound)},onMusicClick:function(){this.setMusic(!this.isMusic),this.isMusic?this.resumeMusic():this.pauseMusic()},initSound:function(){this.soundOnNode.active=this.isSound,this.soundOffNode.active=!this.isSound},initMusic:function(){this.musicOnNode.active=this.isMusic,this.musicOffNode.active=!this.isMusic},startMusic:function(){cc.audioEngine.stopAll(),this.isMusic&&(this.musicId=cc.audioEngine.play(this.slotMusic,!0,.4))},pauseMusic:function(){this.musicId?cc.audioEngine.pause(this.musicId):cc.audioEngine.stopAll()},resumeMusic:function(){this.musicId?cc.audioEngine.resume(this.musicId):this.startMusic()},stopMusic:function(){this.musicId&&cc.audioEngine.stop(this.musicId)},setSound:function(t){this.isSound=t,cc.sys.localStorage.setItem(n.IS_SOUND_SLOT,t),this.initSound()},setMusic:function(t){this.isMusic=t,cc.sys.localStorage.setItem(n.IS_MUSIC_SLOT,t),this.initMusic()},onDisable:function(){this.musicId&&cc.audioEngine.stopAll()},soundSpin:function(){this.isSound&&cc.audioEngine.playEffect(this.spinAudio,!1)},soundWinNormal:function(){this.isSound&&cc.audioEngine.playEffect(this.winNormalAudio,!1)},soundBigWin:function(){this.isSound&&cc.audioEngine.playEffect(this.bigWinAudio,!1)},soundMegaWin:function(){this.isSound&&cc.audioEngine.playEffect(this.megaWinAudio,!1)},soundJackpot:function(){this.isSound&&cc.audioEngine.playEffect(this.jackpotAudio,!1)}}),cc._RF.pop()},{"../helper/Constant":"Constant"}],NewsItem:[function(t,e,i){"use strict";cc._RF.push(e,"09ca9rttK5Av4AotsiJp1bK","NewsItem");var n=t("../../util/FormatUtil"),o=t("../../util/Util");cc.Class({extends:cc.Component,properties:{bigWinLayout:cc.Layout,playerLabel:cc.Label,winLabel:cc.Label,amountLabel:cc.Label,moneyLabel:cc.Label,gameLabel:cc.Label,newsRichText:cc.RichText},init:function(t){if(this.data=t,"big_win"==t.type){this.bigWinLayout.node.active=!0,this.newsRichText.node.active=!1,this.playerLabel.string=o.getServerID(t.server_id)+t.nick_name,this.playerLabel._updateRenderData(!0),this.amountLabel.string=n.numberWithCommas(t.amount),this.amountLabel._updateRenderData(!0),this.gameLabel.string="("+o.getGameNameByShortName(t.game_name)+")",this.gameLabel._updateRenderData(!0);var e=this.playerLabel.node.width+this.winLabel.node.width+this.amountLabel.node.width+this.moneyLabel.node.width+this.gameLabel.node.width+30;this.node.width=e}else this.bigWinLayout.node.active=!1,this.newsRichText.node.active=!0,this.newsRichText.string=t.msg,this.node.width=this.newsRichText.node.width},onLoad:function(){}}),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil","../../util/Util":"Util"}],News:[function(t,e,i){"use strict";cc._RF.push(e,"4863a4o7cVHEZJfI+HuFdAw","News");var n=t("../base/BaseController"),o=t("../helper/Config"),s=t("../helper/Constant");cc.Class({extends:n,properties:{newsItemPrefab:cc.Prefab,newsContent:cc.Node,checkShowNode:cc.Node},onLoad:function(){this._super(),this.listNews=[],this.pool=new cc.NodePool;for(var t=0;t<o.NEWS_MAX;t++){var e=cc.instantiate(this.newsItemPrefab);this.pool.put(e)}this.getSceneName()!==s.SCENE_GAME_CENTER||this.isConnected()?this.node.active=!1:this.addDefaultTextMarquee()},addNews:function(t){if(this.getSceneName()===s.SCENE_GAME_CENTER){var e=t.data,i=e.msg,n=e.order;this.addNewsNode(e,i,n)}},addNewsNode:function(t,e,i){if(this.checkShowNode&&!this.checkShowNode.active);else if(e&&!cc.game.isPaused()&&(this.listNews.length<=o.NEWS_MAX||i)){var n=void 0;this.pool&&(n=this.pool.get()),n||(n=cc.instantiate(this.newsItemPrefab)),n.getComponent("NewsItem").init(t),n.parent=this.newsContent,this.moveItem(n),this.listNews.push(n)}},moveItem:function(t){this.node.active=!0,t.y=0;var e=0,i=-t.width-this.newsContent.width/2-250;0===this.listNews.length?e=this.newsContent.width/2:(e+=this.listNews[this.listNews.length-1].x,e+=this.listNews[this.listNews.length-1].width,(e+=o.DISTANCE_TWO_NEWS)<this.newsContent.width/2&&(e=this.newsContent.width/2)),t.x=e;var n=(e-i)/o.SPEED_MOVE_NEWS;t.runAction(cc.sequence(cc.moveTo(n,i,0),cc.callFunc(function(){this.pool.put(t),this.removeItemFromListItems(t),0===this.listNews.length&&(this.getSceneName()!==s.SCENE_GAME_CENTER||this.isConnected()?this.node.active=!1:this.addDefaultTextMarquee())},this)))},addDefaultTextMarquee:function(){var t=this.getGeneralConfig();if(t){var e={data:{msg:t.DEFAULT_TEXT_MARQUEE.content,url:t.DEFAULT_TEXT_MARQUEE.url}};this.addNews(e)}else this.node.active=!1},removeItemFromListItems:function(t){for(var e=0,i=this.listNews.length;e<i;e++)if(this.listNews[e]===t)return void this.listNews.splice(e,1)}}),cc._RF.pop()},{"../base/BaseController":"BaseController","../helper/Config":"Config","../helper/Constant":"Constant"}],NodeUtil:[function(t,e,i){"use strict";cc._RF.push(e,"17792Be7J9O5pw0vd39rBfR","NodeUtil");var n={getDistanceTwoNode:function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}};e.exports=n,cc._RF.pop()},{}],OTPLogin:[function(t,e,i){"use strict";cc._RF.push(e,"471e6zEjuNOI6BT0h5wsES5","OTPLogin");var n=t("../../../helper/Message");cc.Class({extends:cc.Component,properties:{otpEditBox:cc.EditBox,syntaxSMSRichText:cc.RichText},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI},onLoad:function(){this.initData()},onEnable:function(){this.clear()},initData:function(){var t=this.GameCenter.getGeneralConfig();if(t){var e=t.OTP_FORGOT_PASS;if(e){var i=e.content,o=e.service_number,s=String.format(n.LOGIN_SECURITY_SMS_2,i,o);this.syntaxSMSRichText.getComponent(cc.RichText).string=s}}},setAccount:function(t,e){this.isLoginFacebook=!1,this.username=t,this.password=e},setLoginFacebook:function(t,e,i,n){this.isLoginFacebook=!0,this.socialId=t,this.email=e,this.socialType=i,this.accessToken=n,this.isShow=!0},onConfirmClick:function(){this.GameCenter.Audio.playClick();var t=this.otpEditBox.string;t?this.isLoginFacebook?(this.GameCenter.showProcessingNode(),this.GameCenter.loginSocial(this.socialId,this.email,this.socialType,this.accessToken,t)):this.username&&(this.GameCenter.showProcessingNode(),this.GameCenter.Login.login(this.username,this.password,t)):this.GameCenter.showDialogMessage(n.OTP_LOGIN_TITLE,n.MISSING_INFO)},onGetOTPClick:function(){var t=this,e=this.GameCenter.getTime(),i=void 0;i=this.isLoginFacebook?{social_id:this.socialId,email:this.email,social_type:this.socialType,access_token:this.accessToken}:{username:this.username,password:this.password,time:e,sign:this.GameCenter.getDK(this.username,e)};var o=function(e){t.GameCenter.hideProcessingNode(),t.GameCenter.showDialogMessage(n.OTP_LOGIN_TITLE,e.msg),t.clear()},s=function(e){t.GameCenter.hideProcessingNode(),t.GameCenter.showDialogMessage(n.OTP_LOGIN_TITLE,e.msg),t.clear()};this.GameCenter.showProcessingNode(),this.isLoginFacebook?this.GameCenter.api.getOTPLoginSocial(i,o,s):this.GameCenter.api.getOTPLogin(i,o,s)},isShowForm:function(){return this.isShow},clear:function(){this.otpEditBox.string=""}}),cc._RF.pop()},{"../../../helper/Message":"Message"}],Online:[function(t,e,i){"use strict";cc._RF.push(e,"782e9Y26gJNabU6bEjinbsa","Online");var n=t("../../../base/BaseController"),o=t("../../../helper/Constant");cc.Class({extends:n,properties:{playerOnlineItemPrefab:cc.Prefab,listPlayersScrollView:cc.ScrollView},init:function(t){this.GameCenter=t},onLoad:function(){var t=this;this._super(),this.onUserEnterRoom=function(e){e.room.name.indexOf(o.LOBBY)>-1&&t.addPlayer(e.user)},this.onUserExitRoom=function(e){e.room.name.indexOf(o.LOBBY)>-1&&(e.user.isItMe||t.removePlayer(e.user))}},onEnable:function(){this.listPlayers=[],this.initPlayersOnline(),this.GameCenter.getSFS()&&(this.GameCenter.getSFS().addEventListener(this.SFS2X.SFSEvent.USER_ENTER_ROOM,this.onUserEnterRoom),this.GameCenter.getSFS().addEventListener(this.SFS2X.SFSEvent.USER_EXIT_ROOM,this.onUserExitRoom))},onDisable:function(){this.GameCenter.getSFS()&&(this.GameCenter.getSFS().removeEventListener(this.SFS2X.SFSEvent.USER_ENTER_ROOM,this.onUserEnterRoom),this.GameCenter.getSFS().removeEventListener(this.SFS2X.SFSEvent.USER_EXIT_ROOM,this.onUserExitRoom))},initPlayersOnline:function(){this.listPlayersScrollView.content.removeAllChildren(!0);var t=this.GameCenter.getListUserByRoom();for(var e in t)this.addPlayer(t[e])},addPlayer:function(t){var e=this.GameCenter.getSFSMySelf();if(t.variables.user_id.value!==e.variables.user_id.value&&!this.getPlayerByUserId(t.variables.user_id.value)){var i=cc.instantiate(this.playerOnlineItemPrefab),n=i.getComponent("PlayerOnlineItem"),o=t.variables.avatar.value,s=t.variables.nick_name.value;n.setAvatar(o),n.setNickname(s),i.parent=this.listPlayersScrollView.content,t.playerNode=i,this.listPlayers.push(t)}},removePlayer:function(t){var e=t.variables.user_id.value,i=this.getPlayerByUserId(e);i&&(this.removePlayerFromListByPlayer(i),i.playerNode.removeFromParent(!0))},getPlayerByUserId:function(t){for(var e in this.listPlayers)if(this.listPlayers[e].variables.user_id.value===t)return this.listPlayers[e];return null},removePlayerFromListByPlayer:function(t){for(var e in this.listPlayers)if(this.listPlayers[e]===t)return void this.listPlayers.splice(e,1)}}),cc._RF.pop()},{"../../../base/BaseController":"BaseController","../../../helper/Constant":"Constant"}],OtpFirstAccount:[function(t,e,i){"use strict";cc._RF.push(e,"b9a57qg7fpK5KIxX9Vb1Bc3","OtpFirstAccount");var n=t("../../../helper/Message");t("../../../helper/Constant");cc.Class({extends:cc.Component,properties:{messageRichText:cc.RichText},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI},onLoad:function(){this.dialogForm=this.node.getComponent("DialogForm"),this.initData()},initData:function(){if(this.GameCenter.getGeneralConfig()){var t=n.OTP_FIRST_ACCOUNT;this.messageRichText.string=t}},onCancelClick:function(){this.GameCenter.Audio.playClick(),this.dialogForm.hideDialog()},onConfirmClick:function(){this.GameCenter.Audio.playClick(),this.dialogForm.hideDialog(),this.GameCenterUI.showInfoNode(),this.GameCenter.GameInfo.showSercurity()}}),cc._RF.pop()},{"../../../helper/Constant":"Constant","../../../helper/Message":"Message"}],PaginationItem:[function(t,e,i){"use strict";cc._RF.push(e,"ce9e4ewsI9EbpuZcPFCXtiN","PaginationItem"),cc.Class({extends:cc.Component,properties:{pageOnButtonNode:cc.Node,pageOffButtonNode:cc.Node,pageOnLabel:cc.Label,pageOffLabel:cc.Label},init:function(t,e){this.pageOnLabel.string=t,this.pageOffLabel.string=t,this.page=e},onLoad:function(){},enable:function(){this.pageOnButtonNode.active=!1,this.pageOffButtonNode.active=!0},disable:function(){this.pageOnButtonNode.active=!0,this.pageOffButtonNode.active=!1},getPage:function(){return this.page}}),cc._RF.pop()},{}],PlayHistoryItem:[function(t,e,i){"use strict";cc._RF.push(e,"f9907hg641KIq7nVtlLFbeL","PlayHistoryItem");var n=t("../../util/FormatUtil"),o=t("../../helper/Config");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,idLabel:cc.Label,timeLabel:cc.Label,nameLabel:cc.Label,playBalanceLabel:cc.Label,remainBalanceLabel:cc.Label,noteLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e){this.data=t,t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.idLabel.string=t.id,this.timeLabel.string=n.getStringDateByTimeStamp(t.created_at),this.playBalanceLabel.string=n.numberWithCommas(t.money_change),this.remainBalanceLabel.string=n.numberWithCommas(t.balance);var i=t.content||"",s=t.game_name||"";i.length>o.MAX_LENGTH_CONTENT&&(i=i.substring(0,o.MAX_LENGTH_CONTENT-3)+"..."),s.length>o.MAX_LENGTH_CONTENT-7&&(s=s.substring(0,o.MAX_LENGTH_CONTENT-10)+"..."),this.noteLabel.string=i,this.nameLabel.string=s;var a=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=a},onLoad:function(){}}),cc._RF.pop()},{"../../helper/Config":"Config","../../util/FormatUtil":"FormatUtil"}],PlayerInvite:[function(t,e,i){"use strict";cc._RF.push(e,"17e39TMQWFOsr+oSPhEHQcu","PlayerInvite");var n=t("../../../helper/Constant"),o=t("../../../helper/Message"),s=t("../../../util/Util"),a=t("../../../util/FormatUtil"),r=t("../../../object/RoomType");cc.Class({extends:cc.Component,init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI},properties:{contentRichText:cc.RichText,inviteToggle:cc.Toggle},onLoad:function(){this.dialogForm=this.node.getComponent("DialogForm")},initData:function(t){this.data=t;var e=s.getGameNameByRoomName(t.game_name),i=a.numberWithCommas(t.min_bet),n=t.nick_name,r=s.getRoomTypeByRoomTypeCode(t.room_type+"");this.contentRichText.string=String.format(o.INVITE_MESSAGE,n,e,i,r),this.inviteToggle.isChecked=!0},onInviteToggle:function(){var t={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId()};this.GameCenter.api.updateInviteGame(t,function(t){},function(t){}),this.GameCenter.getUser().invite_on=1==this.GameCenter.getUser().invite_on?0:1},onCancelClick:function(){this.GameCenter.Audio.playClick(),this.dialogForm.hideDialog()},onConfirmClick:function(){if(this.GameCenter.Audio.playClick(),this.data.is_buy_in)this.initBuyInForm(),this.GameCenterUI.showBuyInFormNode();else{var t={room_name:this.data.room_name};this.GameCenter.sendRequest.sendNoPrefixToZone(n.REQUEST_ACCEPT_INVITE,t)}this.saveInvite(),this.dialogForm.hideDialog()},initBuyInForm:function(){var t=this.data.game_name,e=this.data.min_bet,i=this.GameCenter.BuyInForm,c=0;this.data.room_type==r.GOLD_CODE?c=this.GameCenter.getGold():this.data.room_type==r.MONEY_CODE&&(c=this.GameCenter.getMoney());var h=this.getGameDataByGameList(t),l=h[n.MIN_BUY]*e,u=h[n.MAX_BUY]*e,d=s.getRoomTypeByRoomTypeCode(this.data.room_type);if(l>c){var m=String.format(o.NOT_ENOUGH_MONEY_TO_JOIN_GAME,a.numberWithCommas(l),d);this.GameCenter.showDialogMessage(o.JOIN_ROOM_TITLE,m)}else u>c&&(u=c),i.setInvite(!0),i.initDataInvite(this.data),i.setRound(e),i.setMinValue(l),i.setMaxValue(u),this.GameCenterUI.showBuyInFormNode()},getGameDataByGameList:function(t){var e=this.GameCenter.getConfig().list_game;for(var i in e)if(e[i][n.SHORT_NAME]===t)return e[i]},saveInvite:function(){if(!this.inviteToggle.isChecked){var t={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId()};this.GameCenter.api.updateInviteGame(t,function(t){},function(t){}),this.GameCenter.getUser().invite_on=1==this.GameCenter.getUser().invite_on?0:1}}}),cc._RF.pop()},{"../../../helper/Constant":"Constant","../../../helper/Message":"Message","../../../object/RoomType":"RoomType","../../../util/FormatUtil":"FormatUtil","../../../util/Util":"Util"}],PlayerOnlineItem:[function(t,e,i){"use strict";cc._RF.push(e,"97a92qpC6VNI6MSnccS5KID","PlayerOnlineItem"),cc.Class({extends:cc.Component,properties:{avatarSprite:cc.Sprite,nameLabel:cc.Label},onLoad:function(){},init:function(t,e){this.setNickname(t),this.setAvatar(e)},setNickname:function(t){this.nameLabel.string=t},setAvatar:function(t){var e=this;t&&cc.loader.load(t,function(t,i){if(i instanceof cc.Texture2D){var n=new cc.SpriteFrame(i,cc.Rect(0,0,90,128));e.avatarSprite.spriteFrame=n}})}}),cc._RF.pop()},{}],Processing:[function(t,e,i){"use strict";cc._RF.push(e,"bb9764pvXJAsbMOgTzWN97c","Processing");var n=t("../helper/Config");cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=this;this.timeoutProcessing=null,this.timeoutCallback=function(){t.node.active=!1}},onEnable:function(){clearTimeout(this.timeoutProcessing),this.timeoutProcessing=setTimeout(this.timeoutCallback,1e3*n.PROCESSING_TIME_OUT)},onDisable:function(){clearTimeout(this.timeoutProcessing)},clearTimeout:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){clearTimeout(this.timeoutProcessing)})}),cc._RF.pop()},{"../helper/Config":"Config"}],QuestNotificationItem:[function(t,e,i){"use strict";cc._RF.push(e,"ec1a2VO1DNN74u89Se3mN+o","QuestNotificationItem");var n=t("../../helper/Config");cc.Class({extends:cc.Component,properties:{messageLabel:cc.Label},onLoad:function(){this.initY=this.node.parent.height/2;var t=this.initY+200;this.node.y=t,this.node.runAction(cc.moveTo(.5,this.node.x,this.initY)),this.hideAction=cc.sequence(cc.moveTo(.5,this.node.x,t),cc.callFunc(function(){this.node.removeFromParent(!0)},this)),this.hideTimeout=setTimeout(function(){this.node.runAction(this.hideAction)}.bind(this),1e3*n.QUEST_TIME_SHOW_NOTIFICATION)},onDestroy:function(){clearTimeout(this.hideTimeout)},setMessage:function(t){this.messageLabel.string=t},onCloseClick:function(){clearTimeout(this.hideTimeout),this.node.runAction(this.hideAction)}}),cc._RF.pop()},{"../../helper/Config":"Config"}],QuickChatItem:[function(t,e,i){"use strict";cc._RF.push(e,"133edh2JF5Pl70SZEFuICJM","QuickChatItem"),cc.Class({extends:cc.Component,properties:{textLabel:cc.Label},init:function(t,e){this.GameCommon=t,this.textLabel.string=e},onLoad:function(){},onClick:function(){this.GameCommon.sendChat(this.textLabel.string),this.GameCommon.hideQuickChatNode()}}),cc._RF.pop()},{}],RandomUtil:[function(t,e,i){"use strict";cc._RF.push(e,"96681onZOpKKqSVyoK05Khb","RandomUtil");var n={getRandom:function(t,e){return Math.random()*(e-t)+t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t}};e.exports=n,cc._RF.pop()},{}],RankEventItem:[function(t,e,i){"use strict";cc._RF.push(e,"92a32xC1k5MeZE9vuKOIyLO","RankEventItem");var n=t("../../../util/FormatUtil"),o=(t("../../../helper/Constant"),t("../../../util/Util"));cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,noLabel:cc.Label,timeLabel:cc.Label,prefixNickNameLabel:cc.Label,nickNameLabel:cc.Label,prizeLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e){if(t){this.noLabel.string=e+1,this.prefixNickNameLabel&&(this.prefixNickNameLabel.string=o.getServerID(t.server_id),this.prefixNickNameLabel.node.color=new cc.Color(255,173,0,255),this.nickNameLabel.node.color=new cc.Color(255,244,141,255)),this.nickNameLabel.string=t.nick_name,this.timeLabel.string=n.getStringDateByTimeStamp(t.created_at),this.prizeLabel.string=n.nFormatter(t.prize);var i=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=i}else this.node.active=!1},onLoad:function(){}}),cc._RF.pop()},{"../../../helper/Constant":"Constant","../../../util/FormatUtil":"FormatUtil","../../../util/Util":"Util"}],RankItem:[function(t,e,i){"use strict";cc._RF.push(e,"b7888h/DQ1JHbhoQLHq9BQs","RankItem");var n=t("../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{noSprite:cc.Sprite,noSpriteFrames:[cc.SpriteFrame],noLabel:cc.Label,nameLabel:cc.Label,valueLabel:cc.Label,avatarSprite:cc.Sprite},onLoad:function(){},init:function(t,e){this.initNo(e),this.nameLabel.string=t.nick_name;var i=t.sum_total_amount||t.best_money_win;this.valueLabel.string=n.numberWithCommas(i),this.setAvatar(t.avatar)},initNo:function(t){if(t<3){this.noSprite.node.active=!0,this.noLabel.node.active=!1;var e=this.noSpriteFrames[t];this.noSprite.spriteFrame=e}else this.noSprite.node.active=!1,this.noLabel.node.active=!0,this.noLabel.string=parseInt(t)+1},setAvatar:function(t){var e=t,i=this;e&&n.validateUrlImage(e)&&cc.loader.load(e,function(t,e){if(e instanceof cc.Texture2D){var n=new cc.SpriteFrame(e,cc.Rect(0,0,90,128));i.avatarSprite.spriteFrame=n}})}}),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil"}],RechargeCardItem:[function(t,e,i){"use strict";cc._RF.push(e,"33c67dny9FJv6OpDYqHaxmP","RechargeCardItem");t("../../util/BrowserUtil");var n=t("../../util/FormatUtil"),o=t("../../helper/Message"),s=t("../../helper/Constant");cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,valueLabel:cc.Label,seriLabel:cc.Label,codeLabel:cc.Label},init:function(t,e){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI,this.data=e,this.nameLabel.string=e.type_card,this.valueLabel.string=String.format(o.CHARGE_CARD_ITEM_VALUE,n.numberWithCommas(e.amount)),this.seriLabel.string=e.seri_card,this.codeLabel.string=e.number_card},onLoad:function(){},onRechargeClick:function(){if(this.data){var t=this.data.seri_card,e=this.data.number_card,i=this.data.type_card,n=this.data.amount,o=String.format(s.HOST_RECHARGE_CARD,t,e,i,n);console.log(o),cc.sys.openURL(o)}}}),cc._RF.pop()},{"../../helper/Constant":"Constant","../../helper/Message":"Message","../../util/BrowserUtil":"BrowserUtil","../../util/FormatUtil":"FormatUtil"}],RechargeGoldHistoryItem:[function(t,e,i){"use strict";cc._RF.push(e,"b8e082sJ7xN5LJkDf6k7Uky","RechargeGoldHistoryItem");var n=t("../../util/FormatUtil"),o=t("../../helper/Message");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,idLabel:cc.Label,timeLabel:cc.Label,nameLabel:cc.Label,playBalanceLabel:cc.Label,remainBalanceLabel:cc.Label,noteLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e){this.data=t,t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.idLabel.string=t.id,this.timeLabel.string=n.getStringDateByTimeStamp(t.created_at),this.nameLabel.string=o.RECHARGE_GOLD_HISTORY_NAME,this.playBalanceLabel.string=n.numberWithCommas(t.money),this.remainBalanceLabel.string="",this.noteLabel.string=String.format(o.RECHARGE_GOLD_HISTORY_NOTE,n.numberWithCommas(t.gold));var i=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=i},onLoad:function(){}}),cc._RF.pop()},{"../../helper/Message":"Message","../../util/FormatUtil":"FormatUtil"}],RechargeGold:[function(t,e,i){"use strict";cc._RF.push(e,"c7c1cLiWf5Nr4H2VaX/Gkv5","RechargeGold");t("../../../util/BrowserUtil");var n=t("../../../util/FormatUtil"),o=t("../../../helper/Constant"),s=t("../../../helper/Message");cc.Class({extends:cc.Component,properties:{valueEditBox:cc.EditBox,moneyLabel:cc.Label,goldLabel:cc.Label},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI},onLoad:function(){this.editboxs=[this.valueEditBox]},onEnable:function(){this.clear(),this.initData()},initData:function(){this.moneyLabel.string=n.numberWithCommas(this.GameCenter.getMoney())},onChangeValue:function(){this.initTotalGold()},initTotalGold:function(){var t=parseInt(this.GameCenter.getConfig().RATE_CONVERT_MONEY_TO_GOLD),e=parseInt(this.valueEditBox.string||0);this.goldLabel.string=n.numberWithCommas(e*t)},onConfirmClick:function(){this.GameCenter.Audio.playClick();var t=this.valueEditBox.string;this.checkAllEditboxNotEmpty()?(t=parseInt(t))>0?this.rechargeGold(t):this.GameCenter.showDialogMessage(s.RECHARGE_GOLD_TITLE,s.NUMBER_MONEY_LARGER_ZERO):this.GameCenter.showDialogMessage(s.RECHARGE_GOLD_TITLE,s.MISSING_INFO)},rechargeGold:function(t){this.GameCenter.showProcessingNode();var e={money:t};this.GameCenter.sendRequest.sendToZone(o.REQUEST_RECHARGE_GOLD,e)},checkAllEditboxNotEmpty:function(){for(var t in this.editboxs)if(""===this.editboxs[t].string)return!1;return!0},clear:function(){for(var t in this.editboxs)this.editboxs[t].string="";this.initData(),this.initTotalGold()}}),cc._RF.pop()},{"../../../helper/Constant":"Constant","../../../helper/Message":"Message","../../../util/BrowserUtil":"BrowserUtil","../../../util/FormatUtil":"FormatUtil"}],RechargeHistoryItem:[function(t,e,i){"use strict";cc._RF.push(e,"9fa7frrAH5AgY2ujfEygUiH","RechargeHistoryItem");var n=t("../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,idLabel:cc.Label,timeLabel:cc.Label,nameLabel:cc.Label,playBalanceLabel:cc.Label,remainBalanceLabel:cc.Label,noteLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e){this.data=t,t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.idLabel.string=t.id,this.timeLabel.string=n.getStringDateByTimeStamp(t.created_at),this.nameLabel.string=t.service_name,this.playBalanceLabel.string=n.numberWithCommas(t.money),this.remainBalanceLabel.string=n.numberWithCommas(t.amount),this.noteLabel.string=t.content;var i=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=i},onLoad:function(){}}),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil"}],RechargeSMS:[function(t,e,i){"use strict";cc._RF.push(e,"445b8zu4FpNbIKaDxD8T6J1","RechargeSMS"),cc.Class({extends:cc.Component,properties:{backButtonNode:cc.Node,smsItemPrefab:cc.Prefab,listSMSNode:cc.Node,listSMSViettelNode:cc.Node,vinaButtonOnNode:cc.Node,mobiButtonOnNode:cc.Node,viettelButtonOnNode:cc.Node,vinaButtonOffNode:cc.Node,mobiButtonOffNode:cc.Node,viettelButtonOffNode:cc.Node,contentSMSVinaMobiNode:cc.Node,contentSMSViettelNode:cc.Node,rechargeAllButtonNode:cc.Node},init:function(t){this.GameCenter=t},onLoad:function(){this.initListData()},onEnable:function(){this.backButtonNode.active=!1},onDisable:function(){this.backButtonNode.active=!0},initListData:function(){this.listSMSNode.removeAllChildren(!0);var t=this.GameCenter.getGeneralConfig();if(t){var e=t.SMS_RECHARGE;if(e){var i=e.service_number,n=e.content.MOBIFONE;if(n)for(var o in n){var s=cc.instantiate(this.smsItemPrefab);s.getComponent("SMSItem").init(this.GameCenter,n[o],i),s.parent=this.listSMSNode}}}},initViettel:function(){this.listSMSViettelNode.removeAllChildren(!0);var t=cc.instantiate(this.smsItemPrefab);t.getComponent("SMSItem").init(this.GameCenter,{CODE:"NAP ROY tendangnhap",MONEY:6e3,TELCO:"VIETTEL",VND:15e3},7778),t.parent=this.listSMSViettelNode},onVinaClick:function(){this.hideAllButton(),this.hideAllContent(),this.contentSMSVinaMobiNode.active=!0,this.vinaButtonOnNode.active=!0,this.vinaButtonOffNode.active=!1},onMobiClick:function(){this.hideAllButton(),this.hideAllContent(),this.contentSMSVinaMobiNode.active=!0,this.mobiButtonOnNode.active=!0,this.mobiButtonOffNode.active=!1},onViettelClick:function(){this.hideAllButton(),this.hideAllContent(),this.contentSMSViettelNode.active=!0,this.viettelButtonOnNode.active=!0,this.viettelButtonOffNode.active=!1},hideAllButton:function(){this.vinaButtonOnNode.active=!1,this.mobiButtonOnNode.active=!1,this.viettelButtonOnNode.active=!1,this.vinaButtonOffNode.active=!0,this.mobiButtonOffNode.active=!0,this.viettelButtonOffNode.active=!0},hideAllContent:function(){this.contentSMSViettelNode.active=!1,this.contentSMSVinaMobiNode.active=!1},onBackClick:function(){this.rechargeAllButtonNode.active=!0,this.node.active=!1}}),cc._RF.pop()},{}],Register:[function(t,e,i){"use strict";cc._RF.push(e,"f18abfgZWhHM7RsM1T+YiBN","Register");var n=t("../../../helper/Message"),o=t("../../../helper/Constant");cc.Class({extends:cc.Component,properties:{usernameEditBox:cc.EditBox,passwordEditBox:cc.EditBox,rePasswordEditBox:cc.EditBox,saveToggle:cc.Toggle},init:function(t){this.GameCenter=t},onLoad:function(){this.editboxs=[this.usernameEditBox,this.passwordEditBox,this.rePasswordEditBox],this.dialogForm=this.node.getComponent("DialogForm")},onRegisterClick:function(){var t=this.usernameEditBox.string,e=this.passwordEditBox.string,i=this.rePasswordEditBox.string,o=this.saveToggle.isChecked;""===t?this.GameCenter.showDialogMessage(n.REGISTER_TITLE,n.REGISTER_MISSING_USERNAME):""===e?this.GameCenter.showDialogMessage(n.REGISTER_TITLE,n.REGISTER_MISSING_PASSWORD):""===i?this.GameCenter.showDialogMessage(n.REGISTER_TITLE,n.REGISTER_MISSING_REPASSWORD):e!==i?this.GameCenter.showDialogMessage(n.REGISTER_TITLE,n.REGISTER_REPASSWORD_NOT_CORRECT):this.register(t,e,o)},register:function(t,e,i){var s=this;this.GameCenter.showProcessingNode();var a=this.GameCenter.getTime(),r={username:t,password:e,register_code:this.GameCenter.getRegisterCode(),time:a,sign:this.GameCenter.getDK(t,a),device_id:this.GameCenter.getDeviceID()};this.GameCenter.api.register(r,function(n){i&&(s.GameCenter.setAutoLogin(!0),s.GameCenter.setAccountType(o.ACCOUNT_TYPE_LOGIN),s.GameCenter.setAccount(t,e)),s.GameCenter.initDataAndConnectSFS(n.data)},function(t){s.GameCenter.hideProcessingNode(),s.GameCenter.showDialogMessage(n.REGISTER_TITLE,t.msg)})},onEnable:function(){this.clear()},checkAllEditboxNotEmpty:function(){for(var t in this.editboxs)if(""===this.editboxs[t].string)return!1;return!0},clear:function(){for(var t in this.editboxs)this.editboxs[t].string=""}}),cc._RF.pop()},{"../../../helper/Constant":"Constant","../../../helper/Message":"Message"}],RoomType:[function(t,e,i){"use strict";cc._RF.push(e,"7a8caNDKwpE5qVeREkdyI05","RoomType");e.exports={MONEY:"MONEY",GOLD:"GOLD",MONEY_CODE:"0",GOLD_CODE:"1"},cc._RF.pop()},{}],SFS2X_API_JS:[function(t,e,i){"use strict";cc._RF.push(e,"683aaS+NLNDwJB8/UpFbdbo","SFS2X_API_JS");var n,o,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r={};o=(n={SmartFox:function(t){this._majVersion=1,this._minVersion=2,this._subVersion=0,this._socketEngine=new n.SocketEngine,this._eventDispatcher=new n.EventDispatcher,this._lagMonitor=null,this._log=n.Logger,this._inited=this._isJoining=!1,this._currentZone=null,this._clientDetails="JavaScript",this.version=this._majVersion+"."+this._minVersion+"."+this._subVersion,this.config=t,this.debug=!1,null!=this.config&&this.config.debug&&(this.debug=!0),this.logger=this._log,this.lastJoinedRoom=this.mySelf=this.buddyManager=this.userManager=this.roomManager=this.sessionToken=null,this._controllers={},this._initialize(),this._log.info("SmartFox instance ready!")}}).SmartFox,n.SmartFox.prototype.addEventListener=function(t,e,i){this._eventDispatcher.addEventListener(t,e,i)},n.SmartFox.prototype.removeEventListener=function(t,e){this._eventDispatcher.removeEventListener(t,e)},n.SmartFox.prototype.setClientDetails=function(t,e){this.isConnected()?this._log.warn("SetClientDetails must be called before the connection is started"):(this._clientDetails=null!=t?t.replace(":"," "):"",this._clientDetails+=":",this._clientDetails+=null!=e?e.replace(":"," "):"")},n.SmartFox.prototype.connect=function(t,e,i){if(this.isConnected())this._log.warn("Already connected");else if(this._socketEngine.isConnecting)this._log.warn("A connection attempt is already in progress");else{var n=null!=this.config&&null!=this.config.host?this.config.host:null,o=null!=this.config&&null!=this.config.port?this.config.port:null,s=null!=this.config&&this.config.useSSL;null!=t&&(n=t),null!=e&&(o=e),null!=i&&(s=i),null==n||0==n.length?this._log.error("Invalid connection host/address"):"number"!=typeof o||0>o||65535<o?this._log.error("Invalid TCP port"):("boolean"!=typeof s&&(s=!1),this._socketEngine.connect(n,o,s))}},n.SmartFox.prototype.disconnect=function(){this.isConnected()?(0<this._socketEngine.reconnectionSeconds&&this.send(new n.Requests.System.ManualDisconnectionRequest),setTimeout(function(t){t._handleClientDisconnection(n.Utils.ClientDisconnectionReason.MANUAL)},100,this)):this._log.info("You are not connected")},n.SmartFox.prototype.enableLagMonitor=function(t,e,i){null==this.mySelf?this._log.warn("Lag Monitoring requires that you are logged in a Zone; please retry after completing the login process"):(null!=this._lagMonitor&&this._lagMonitor.destroy(),t&&(this._lagMonitor=new n.Utils.LagMonitor(this,e,i),this._lagMonitor.start()))},n.SmartFox.prototype.isConnected=function(){return null!=this._socketEngine&&this._socketEngine.isConnected},n.SmartFox.prototype.getMaxMessageSize=function(){return null!=this._socketEngine?this._socketEngine._maxMessageSize:0},n.SmartFox.prototype.send=function(t){if(this.isConnected()){if(null!=t.validate&&null!=t.execute){try{t.validate(this),t.execute(this)}catch(i){if(!(i instanceof n.Exceptions.SFSValidationError&&null!=i.getMessage))throw i;if(t=i.getMessage(),null!=i.getErrors()){t=t+":";for(var e=0;e<i.getErrors().length;e++)1<i.getErrors().length&&(t+=" "+(e+1)+")"),t+=" "+i.getErrors()[e]}return this._log.error("Request failed | "+t),!1}return this.debug&&(this._log.info("OUTGOING DATA\n"+n.DebugHelper.getDump(t.getMessage())),this._log.info("OUT > "+n.Requests.getRequestNameFromId(t._id))),this._socketEngine.send(t.getMessage()),!0}this._log.error("An invalid request was passed: "+t),this._log.debug("Object dump:\n"+n.DebugHelper.getDump(t))}else this._log.error("You are not connected. Request cannot be sent: "+n.Requests.getRequestNameFromId(t._id))},n.SmartFox.prototype.getRoomById=function(t){return this.roomManager.getRoomById(t)},n.SmartFox.prototype.getRoomByName=function(t){return this.roomManager.getRoomByName(t)},n.SmartFox.prototype.getRoomList=function(){return this.roomManager.getRoomList()},n.SmartFox.prototype.getRoomListFromGroup=function(t){return this.roomManager.getRoomListFromGroup(t)},n.SmartFox.prototype.getJoinedRooms=function(){return this.roomManager.getJoinedRooms()},n.SmartFox.prototype._initialize=function(){this._inited||(this._socketEngine=new n.SocketEngine(this),this._socketEngine.addEventListener(n.SocketEvent.CONNECT,this._onSocketConnect,this),this._socketEngine.addEventListener(n.SocketEvent.DISCONNECT,this._onSocketDisconnect,this),this._socketEngine.addEventListener(n.SocketEvent.DATA,this._onSocketData,this),this._socketEngine.addEventListener(n.SocketEvent.IOERROR,this._onSocketIOError,this),this._controllers[0]=new n.Controllers.SystemController(this),this._controllers[1]=new n.Controllers.ExtensionController(this),this._inited=!0,this._reset())},n.SmartFox.prototype._reset=function(t){null!=this.buddyManager&&this.buddyManager._clearAll(),this.userManager=new n.Managers.GlobalUserManager(this),this.roomManager=new n.Managers.RoomManager(this),this.buddyManager=new n.Managers.BuddyManager(this),null!=this._lagMonitor&&this._lagMonitor.destroy(),this._isJoining=!1,this.mySelf=this.lastJoinedRoom=this._currentZone=null,t&&(this.sessionToken=null)},n.SmartFox.prototype._dispatchEvent=function(t,e){this._eventDispatcher.dispatchEvent(t,e)},n.SmartFox.prototype._onSocketConnect=function(t){t.success?(t=new n.Requests.System.HandshakeRequest(this.version,this._clientDetails,t.isReconnection?this.sessionToken:null),this.send(t)):this._dispatchEvent(n.SFSEvent.CONNECTION,{success:!1})},n.SmartFox.prototype._onSocketDisconnect=function(t){this._dispatchEvent(n.SFSEvent.CONNECTION_LOST,{reason:t.reason}),this._reset(!0)},n.SmartFox.prototype._onSocketData=function(t){this.debug&&this._log.info("INCOMING DATA\n"+n.DebugHelper.getDump(t));var e=t[n.Controllers.CONTROLLER_ID],i=t[n.Controllers.ACTION_ID];t=t[n.Controllers.PARAM_ID];null==e?this._log.error("Message rejected: Controller ID is missing"):null==e?this._log.error("Message rejected: Action ID missing"):this._controllers[e].handleMessage(t,i)},n.SmartFox.prototype._onSocketIOError=function(t){this._dispatchEvent(n.SFSEvent.SOCKET_ERROR,{message:t})},n.SmartFox.prototype._handleHandShake=function(t){var e=t[n.Controllers.KEY_ERROR_CODE];null==e?(this.sessionToken=t[n.Requests.System.HandshakeRequest.KEY_SESSION_TOKEN],this._socketEngine._maxMessageSize=t[n.Requests.System.HandshakeRequest.KEY_MAX_MESSAGE_SIZE],this._socketEngine._isReconnecting?this._socketEngine._isReconnecting=!1:this._dispatchEvent(n.SFSEvent.CONNECTION,{success:!0})):(t={success:!1,errorMessage:n.ErrorCodes.getErrorMessage(e,t[n.Controllers.KEY_ERROR_PARAMS]),errorCode:e},this._dispatchEvent(n.SFSEvent.CONNECTION,t))},n.SmartFox.prototype._handleLogout=function(){this._reset(!1)},n.SmartFox.prototype._handleClientDisconnection=function(t){this.isConnected()&&this._socketEngine.disconnect(t)},function(){var t=!1,e=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},this.Class.extend=function i(n){function o(){!t&&this.init&&this.init.apply(this,arguments)}var s=this.prototype;t=!0;var a=new this;for(var r in t=!1,n)a[r]="function"==typeof n[r]&&"function"==typeof s[r]&&e.test(n[r])?function(t,e){return function(){var i=this._super;this._super=s[t];var n=e.apply(this,arguments);return this._super=i,n}}(r,n[r]):n[r];return o.prototype=a,o.prototype.constructor=o,o.extend=i,o}}.bind(r)();var c=0,h="";function l(t){return d(u(m(t)))}function u(t){return f(_(p(t),8*t.length))}function d(t){for(var e,i=c?"0123456789ABCDEF":"0123456789abcdef",n="",o=0;o<t.length;o++)e=t.charCodeAt(o),n+=i.charAt(e>>>4&15)+i.charAt(15&e);return n}function m(t){for(var e,i,n="",o=-1;++o<t.length;)e=t.charCodeAt(o),i=o+1<t.length?t.charCodeAt(o+1):0,55296<=e&&56319>=e&&56320<=i&&57343>=i&&(e=65536+((1023&e)<<10)+(1023&i),o++),127>=e?n+=String.fromCharCode(e):2047>=e?n+=String.fromCharCode(192|e>>>6&31,128|63&e):65535>=e?n+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):2097151>=e&&(n+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return n}function p(t){for(var e=Array(t.length>>2),i=0;i<e.length;i++)e[i]=0;for(i=0;i<8*t.length;i+=8)e[i>>5]|=(255&t.charCodeAt(i/8))<<i%32;return e}function f(t){for(var e="",i=0;i<32*t.length;i+=8)e+=String.fromCharCode(t[i>>5]>>>i%32&255);return e}function _(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var i=1732584193,n=-271733879,o=-1732584194,s=271733878,a=0;a<t.length;a+=16){var r=i,c=n,h=o,l=s;n=C(n=C(n=C(n=C(n=I(n=I(n=I(n=I(n=N(n=N(n=N(n=N(n=g(n=g(n=g(n=g(n,o=g(o,s=g(s,i=g(i,n,o,s,t[a+0],7,-680876936),n,o,t[a+1],12,-389564586),i,n,t[a+2],17,606105819),s,i,t[a+3],22,-1044525330),o=g(o,s=g(s,i=g(i,n,o,s,t[a+4],7,-176418897),n,o,t[a+5],12,1200080426),i,n,t[a+6],17,-1473231341),s,i,t[a+7],22,-45705983),o=g(o,s=g(s,i=g(i,n,o,s,t[a+8],7,1770035416),n,o,t[a+9],12,-1958414417),i,n,t[a+10],17,-42063),s,i,t[a+11],22,-1990404162),o=g(o,s=g(s,i=g(i,n,o,s,t[a+12],7,1804603682),n,o,t[a+13],12,-40341101),i,n,t[a+14],17,-1502002290),s,i,t[a+15],22,1236535329),o=N(o,s=N(s,i=N(i,n,o,s,t[a+1],5,-165796510),n,o,t[a+6],9,-1069501632),i,n,t[a+11],14,643717713),s,i,t[a+0],20,-373897302),o=N(o,s=N(s,i=N(i,n,o,s,t[a+5],5,-701558691),n,o,t[a+10],9,38016083),i,n,t[a+15],14,-660478335),s,i,t[a+4],20,-405537848),o=N(o,s=N(s,i=N(i,n,o,s,t[a+9],5,568446438),n,o,t[a+14],9,-1019803690),i,n,t[a+3],14,-187363961),s,i,t[a+8],20,1163531501),o=N(o,s=N(s,i=N(i,n,o,s,t[a+13],5,-1444681467),n,o,t[a+2],9,-51403784),i,n,t[a+7],14,1735328473),s,i,t[a+12],20,-1926607734),o=I(o,s=I(s,i=I(i,n,o,s,t[a+5],4,-378558),n,o,t[a+8],11,-2022574463),i,n,t[a+11],16,1839030562),s,i,t[a+14],23,-35309556),o=I(o,s=I(s,i=I(i,n,o,s,t[a+1],4,-1530992060),n,o,t[a+4],11,1272893353),i,n,t[a+7],16,-155497632),s,i,t[a+10],23,-1094730640),o=I(o,s=I(s,i=I(i,n,o,s,t[a+13],4,681279174),n,o,t[a+0],11,-358537222),i,n,t[a+3],16,-722521979),s,i,t[a+6],23,76029189),o=I(o,s=I(s,i=I(i,n,o,s,t[a+9],4,-640364487),n,o,t[a+12],11,-421815835),i,n,t[a+15],16,530742520),s,i,t[a+2],23,-995338651),o=C(o,s=C(s,i=C(i,n,o,s,t[a+0],6,-198630844),n,o,t[a+7],10,1126891415),i,n,t[a+14],15,-1416354905),s,i,t[a+5],21,-57434055),o=C(o,s=C(s,i=C(i,n,o,s,t[a+12],6,1700485571),n,o,t[a+3],10,-1894986606),i,n,t[a+10],15,-1051523),s,i,t[a+1],21,-2054922799),o=C(o,s=C(s,i=C(i,n,o,s,t[a+8],6,1873313359),n,o,t[a+15],10,-30611744),i,n,t[a+6],15,-1560198380),s,i,t[a+13],21,1309151649),o=C(o,s=C(s,i=C(i,n,o,s,t[a+4],6,-145523070),n,o,t[a+11],10,-1120210379),i,n,t[a+2],15,718787259),s,i,t[a+9],21,-343485551),i=E(i,r),n=E(n,c),o=E(o,h),s=E(s,l)}return[i,n,o,s]}function S(t,e,i,n,o,s){return E(T(E(E(e,t),E(n,s)),o),i)}function g(t,e,i,n,o,s,a){return S(e&i|~e&n,t,e,o,s,a)}function N(t,e,i,n,o,s,a){return S(e&n|i&~n,t,e,o,s,a)}function I(t,e,i,n,o,s,a){return S(e^i^n,t,e,o,s,a)}function C(t,e,i,n,o,s,a){return S(i^(e|~n),t,e,o,s,a)}function E(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function T(t,e){return t<<e|t>>>32-e}n.Utils={},n.Utils.md5_crypt=function(t,e){"undefined"!=typeof VarType&&(t=VarType.toStr(t),e=VarType.toStr(e));var i=h;h="";var n=chrsz;chrsz=8,"$1$"==e.substr(0,3)&&(e=e.substr(3)),(0>(a=e.indexOf("$"))||8<a)&&(a=8);for(var o=t+"$1$"+(e=e.substr(0,a)),s=str_md5(t+e+t),a=t.length;0<a;a-=16)o=16<=a?o+s:o+s.substr(0,a);for(a=t.length;0!=a;a>>=1)o=0!=(1&a)?o+String.fromCharCode(0):o+t.charAt(0);var r="$1$"+e+"$";for(s=str_md5(o),a=0;1e3>a;a++)o="",o=0!=(1&a)?o+t:o+s,0!=a%3&&(o+=e),0!=a%7&&(o+=t),o=0!=(1&a)?o+s:o+t,s=str_md5(o);for(s+=s.charAt(5),a=0;5>a;a++)o=s.charCodeAt(a)<<16|s.charCodeAt(a+6)<<8|s.charCodeAt(a+12),r+=md5_to64(o,4);return o=s.charCodeAt(11),r+=md5_to64(o,2),h=i,chrsz=n,r},n.Utils.ClientDisconnectionReason={IDLE:"idle",KICK:"kick",BAN:"ban",MANUAL:"manual",UNKNOWN:"unknown"},n.Utils.ClientDisconnectionReason.getReason=function(t){switch(t){case 0:return this.IDLE;case 1:return this.KICK;case 2:return this.BAN;case 3:return this.MANUAL;case 4:return this.UNKNOWN}},n.Utils.ArrayUtil={},n.Utils.ArrayUtil.objToArray=function(t){var e,i=[];for(e in t)t.hasOwnProperty(e)&&i.push(t[e]);return i},n.Utils.ArrayUtil.removeItem=function(t,e){var i=t.indexOf(e);-1<i&&t.splice(i,1)},n.Utils.HashTable=function(t){for(var e in this.length=0,this.items={},t)t.hasOwnProperty(e)&&(this.items[e]=t[e],this.length++)},n.Utils.HashTable.prototype.setItem=function(t,e){var i=void 0;return this.hasItem(t)?i=this.items[t]:this.length++,this.items[t]=e,i},n.Utils.HashTable.prototype.getItem=function(t){return this.hasItem(t)?this.items[t]:void 0},n.Utils.HashTable.prototype.hasItem=function(t){return this.items.hasOwnProperty(t)},n.Utils.HashTable.prototype.removeItem=function(t){if(this.hasItem(t))return s=this.items[t],this.length--,delete this.items[t],s},n.Utils.HashTable.prototype.keys=function(){var t,e=[];for(t in this.items)this.hasItem(t)&&e.push(t);return e},n.Utils.HashTable.prototype.values=function(){var t,e=[];for(t in this.items)this.hasItem(t)&&e.push(this.items[t]);return e},n.Utils.HashTable.prototype.each=function(t){for(var e in this.items)this.hasItem(e)&&t(e,this.items[e])},n.Utils.HashTable.prototype.clear=function(){this.items={},this.length=0},n.Utils.LagMonitor=function(t,e,i){(null==e||1>e)&&(e=4),(null==i||1>i)&&(i=10),this._sfs=t,this._valueQueue=[],this._interval=e,this._queueSize=i,this._thread=null,this._lastReqTime=-1},n.Utils.LagMonitor.prototype.start=function(){!this.isRunning()&&null!=this._sfs&&(this._thread=setInterval(this._threadRunner,1e3*this._interval,this))},n.Utils.LagMonitor.prototype.stop=function(){this.isRunning()&&(clearInterval(this._thread),this._thread=null,this._valueQueue=[])},n.Utils.LagMonitor.prototype.destroy=function(){this.stop(),this._sfs=null},n.Utils.LagMonitor.prototype.isRunning=function(){return null!=this._thread},n.Utils.LagMonitor.prototype.getLastPingTime=function(){return 0<this._valueQueue.length?this._valueQueue[this._valueQueue.length-1]:0},n.Utils.LagMonitor.prototype._threadRunner=function(t){t._lastReqTime=(new Date).getTime(),t._sfs.send(new n.Requests.System.PingPongRequest)},n.Utils.LagMonitor.prototype._onPingPong=function(){var t=(new Date).getTime()-this._lastReqTime;return this._valueQueue.length>=this._queueSize&&this._valueQueue.shift(),this._valueQueue.push(t),this._getAveragePingTime()},n.Utils.LagMonitor.prototype._getAveragePingTime=function(){if(0==this._valueQueue.length)return 0;for(var t=0,e=0;e<this._valueQueue.length;e++)t+=this._valueQueue[e];return t/this._valueQueue.length},n.Utils.BuddyOnlineState={ONLINE:0,OFFLINE:1,LEFT_THE_SERVER:2},n.Controllers={},n.Controllers.CONTROLLER_ID="c",n.Controllers.ACTION_ID="a",n.Controllers.PARAM_ID="p",n.Controllers.KEY_ERROR_CODE="ec",n.Controllers.KEY_ERROR_PARAMS="ep",n.Controllers.ROOM_PARAM="r",n.Controllers.USER_PARAM="u",n.Controllers.USER_COUNT_PARAM="uc",n.Controllers.SPECT_COUNT_PARAM="sc",n.Controllers.SystemController=function(t){this._sfs=t,this._id=0,this._requestHandlers={},this._initRequestHandlers(),this._log=n.Logger},n.Controllers.SystemController.prototype.getId=function(){return this._id},n.Controllers.SystemController.prototype.handleMessage=function(t,e){this._sfs.debug&&this._log.info("IN < "+this._getEvtName(e));var i=this._requestHandlers[e];null!=i?this[i](t):this._log.warn("Unknown message id: "+t.id)},n.Controllers.SystemController.prototype._initRequestHandlers=function(){this._requestHandlers[n.Requests.Handshake]="_fnHandshake",this._requestHandlers[n.Requests.Login]="_fnLogin",this._requestHandlers[n.Requests.Logout]="_fnLogout",this._requestHandlers[n.Requests.JoinRoom]="_fnJoinRoom",this._requestHandlers[n.Requests.CreateRoom]="_fnCreateRoom",this._requestHandlers[n.Requests.ChangeRoomName]="_fnChangeRoomName",this._requestHandlers[n.Requests.ChangeRoomPassword]="_fnChangeRoomPassword",this._requestHandlers[n.Requests.ChangeRoomCapacity]="_fnChangeRoomCapacity",this._requestHandlers[n.Requests.GenericMessage]="_fnGenericMessage",this._requestHandlers[n.Requests.SetRoomVariables]="_fnSetRoomVariables",this._requestHandlers[n.Requests.SetUserVariables]="_fnSetUserVariables",this._requestHandlers[n.Requests.SubscribeRoomGroup]="_fnSubscribeRoomGroup",this._requestHandlers[n.Requests.UnsubscribeRoomGroup]="_fnUnsubscribeRoomGroup",this._requestHandlers[n.Requests.SpectatorToPlayer]="_fnSpectatorToPlayer",this._requestHandlers[n.Requests.PlayerToSpectator]="_fnPlayerToSpectator",this._requestHandlers[n.Requests.InitBuddyList]="_fnInitBuddyList",this._requestHandlers[n.Requests.AddBuddy]="_fnAddBuddy",this._requestHandlers[n.Requests.RemoveBuddy]="_fnRemoveBuddy",this._requestHandlers[n.Requests.BlockBuddy]="_fnBlockBuddy",this._requestHandlers[n.Requests.GoOnline]="_fnGoOnline",this._requestHandlers[n.Requests.SetBuddyVariables]="_fnSetBuddyVariables",this._requestHandlers[n.Requests.FindRooms]="_fnFindRooms",this._requestHandlers[n.Requests.FindUsers]="_fnFindUsers",this._requestHandlers[n.Requests.InviteUsers]="_fnInviteUsers",this._requestHandlers[n.Requests.InvitationReply]="_fnInvitationReply",this._requestHandlers[n.Requests.QuickJoinGame]="_fnQuickJoinGame",this._requestHandlers[n.Requests.PingPong]="_fnPingPong",this._requestHandlers[n.Requests.SetUserPosition]="_fnSetUserPosition",this._requestHandlers[1e3]="_fnUserEnterRoom",this._requestHandlers[1001]="_fnUserCountChange",this._requestHandlers[1002]="_fnUserLost",this._requestHandlers[1003]="_fnRoomLost",this._requestHandlers[1004]="_fnUserExitRoom",this._requestHandlers[1005]="_fnClientDisconnection",this._requestHandlers[1007]="_fnSetMMOItemVariables"},n.Controllers.SystemController.prototype._getEvtName=function(t){return this._requestHandlers[t].substr(3)},n.Controllers.SystemController.prototype._fnHandshake=function(t){this._sfs._handleHandShake(t)},n.Controllers.SystemController.prototype._fnLogin=function(t){if(null==t[n.Controllers.KEY_ERROR_CODE]){this._populateRoomList(t[n.Requests.System.LoginRequest.KEY_ROOMLIST]),this._sfs.mySelf=new n.Entities.SFSUser(t[n.Requests.System.LoginRequest.KEY_ID],t[n.Requests.System.LoginRequest.KEY_USER_NAME],!0),this._sfs.mySelf._setUserManager(this._sfs.userManager),this._sfs.mySelf.privilegeId=t[n.Requests.System.LoginRequest.KEY_PRIVILEGE_ID],this._sfs.userManager._addUser(this._sfs.mySelf),this._sfs._socketEngine.reconnectionSeconds=t[n.Requests.System.LoginRequest.KEY_RECONNECTION_SECONDS];var e={};e.zone=t[n.Requests.System.LoginRequest.KEY_ZONE_NAME],e.user=this._sfs.mySelf,e.data=t[n.Requests.System.LoginRequest.KEY_PARAMS],this._sfs._dispatchEvent(n.SFSEvent.LOGIN,e)}else e=t[n.Controllers.KEY_ERROR_CODE],t=n.ErrorCodes.getErrorMessage(e,t[n.Controllers.KEY_ERROR_PARAMS]),this._sfs._dispatchEvent(n.SFSEvent.LOGIN_ERROR,{errorMessage:t,errorCode:e})},n.Controllers.SystemController.prototype._fnLogout=function(t){this._sfs._handleLogout();var e={};e.zone=t[n.Requests.System.LogoutRequest.KEY_ZONE_NAME],this._sfs._dispatchEvent(n.SFSEvent.LOGOUT,e)},n.Controllers.SystemController.prototype._fnJoinRoom=function(t){var e=this._sfs.roomManager,i={};this._sfs._isJoining=!1;var o=t[n.Controllers.KEY_ERROR_CODE];if(null==o){for(o=t[n.Requests.System.JoinRoomRequest.KEY_USER_LIST],(t=n.Entities.SFSRoom.fromArray(t[n.Requests.System.JoinRoomRequest.KEY_ROOM]))._setRoomManager(e),t=e._replaceRoom(t,e.containsGroup(t.groupId)),e=0;e<o.length;e++){var s=o[e],a=this._getOrCreateUser(s,!0,t);a._setPlayerId(s[3],t),t._addUser(a)}t.isJoined=!0,this._sfs.lastJoinedRoom=t,i.room=t,this._sfs._dispatchEvent(n.SFSEvent.ROOM_JOIN,i)}else t=n.ErrorCodes.getErrorMessage(o,t[n.Controllers.KEY_ERROR_PARAMS]),i.errorMessage=t,i.errorCode=o,this._sfs._dispatchEvent(n.SFSEvent.ROOM_JOIN_ERROR,i)},n.Controllers.SystemController.prototype._fnCreateRoom=function(t){var e={};if(null==t[n.Controllers.KEY_ERROR_CODE]){var i=this._sfs.roomManager;(t=n.Entities.SFSRoom.fromArray(t[n.Requests.System.CreateRoomRequest.KEY_ROOM]))._setRoomManager=i,i._addRoom(t),e.room=t,this._sfs._dispatchEvent(n.SFSEvent.ROOM_ADD,e)}else i=t[n.Controllers.KEY_ERROR_CODE],t=n.ErrorCodes.getErrorMessage(i,t[n.Controllers.KEY_ERROR_PARAMS]),e.errorMessage=t,e.errorCode=i,this._sfs._dispatchEvent(n.SFSEvent.ROOM_CREATION_ERROR,e)},n.Controllers.SystemController.prototype._fnChangeRoomName=function(t){var e={};if(null==t[n.Controllers.KEY_ERROR_CODE]){var i=this._sfs.roomManager.getRoomById(t[n.Requests.System.ChangeRoomNameRequest.KEY_ROOM]);null!=i?(e.oldName=i.name,this._sfs.roomManager._changeRoomName(i,t[n.Requests.System.ChangeRoomNameRequest.KEY_NAME]),e.room=i,this._sfs._dispatchEvent(n.SFSEvent.ROOM_NAME_CHANGE,e)):this._log.warn("RoomNameChange event, unknown Room id: "+rId)}else i=t[n.Controllers.KEY_ERROR_CODE],t=n.ErrorCodes.getErrorMessage(i,t[n.Controllers.KEY_ERROR_PARAMS]),e.errorMessage=t,e.errorCode=i,this._sfs._dispatchEvent(n.SFSEvent.ROOM_NAME_CHANGE_ERROR,e)},n.Controllers.SystemController.prototype._fnChangeRoomPassword=function(t){var e={};if(null==t[n.Controllers.KEY_ERROR_CODE]){var i=this._sfs.roomManager.getRoomById(t[n.Requests.System.ChangeRoomNameRequest.KEY_ROOM]);null!=i?(this._sfs.roomManager._changeRoomPasswordState(i,t[n.Requests.System.ChangeRoomPasswordStateRequest.KEY_PASS]),e.room=i,this._sfs._dispatchEvent(n.SFSEvent.ROOM_PASSWORD_STATE_CHANGE,e)):this._log.warn("RoomPasswordChange event, unknown Room id: "+rId)}else i=t[n.Controllers.KEY_ERROR_CODE],t=n.ErrorCodes.getErrorMessage(i,t[n.Controllers.KEY_ERROR_PARAMS]),e.errorMessage=t,e.errorCode=i,this._sfs._dispatchEvent(n.SFSEvent.ROOM_PASSWORD_STATE_CHANGE_ERROR,e)},n.Controllers.SystemController.prototype._fnChangeRoomCapacity=function(t){var e={};if(null==t[n.Controllers.KEY_ERROR_CODE]){var i=this._sfs.roomManager.getRoomById(t[n.Requests.System.ChangeRoomNameRequest.KEY_ROOM]);null!=i?(this._sfs.roomManager._changeRoomCapacity(i,t[n.Requests.System.ChangeRoomCapacityRequest.KEY_USER_SIZE],t[n.Requests.System.ChangeRoomCapacityRequest.KEY_SPEC_SIZE]),e.room=i,this._sfs._dispatchEvent(n.SFSEvent.ROOM_CAPACITY_CHANGE,e)):this._log.warn("RoomPasswordChange event, unknown Room id: "+rId)}else i=t[n.Controllers.KEY_ERROR_CODE],t=n.ErrorCodes.getErrorMessage(i,t[n.Controllers.KEY_ERROR_PARAMS]),e.errorMessage=t,e.errorCode=i,this._sfs._dispatchEvent(n.SFSEvent.ROOM_CAPACITY_CHANGE_ERROR,e)},n.Controllers.SystemController.prototype._fnGenericMessage=function(t){switch(t[n.Requests.System.GenericMessageRequest.KEY_MESSAGE_TYPE]){case n.Requests.GenericMessageType.PUBLIC_MSG:this._handlePublicMessage(t);break;case n.Requests.GenericMessageType.PRIVATE_MSG:this._handlePrivateMessage(t);break;case n.Requests.GenericMessageType.BUDDY_MSG:this._handleBuddyMessage(t);break;case n.Requests.GenericMessageType.MODERATOR_MSG:this._handleModMessage(t);break;case n.Requests.GenericMessageType.ADMING_MSG:this._handleAdminMessage(t);break;case n.Requests.GenericMessageType.OBJECT_MSG:this._handleObjectMessage(t)}},n.Controllers.SystemController.prototype._handlePublicMessage=function(t){var e={},i=t[n.Requests.System.GenericMessageRequest.KEY_ROOM_ID],o=this._sfs.roomManager.getRoomById(i);null!=o?(e.room=o,e.sender=this._sfs.userManager.getUserById(t[n.Requests.System.GenericMessageRequest.KEY_USER_ID]),e.message=t[n.Requests.System.GenericMessageRequest.KEY_MESSAGE],e.data=t[n.Requests.System.GenericMessageRequest.KEY_XTRA_PARAMS],this._sfs._dispatchEvent(n.SFSEvent.PUBLIC_MESSAGE,e)):this._log.warn("Unexpected, public message target Room doesn't exist; Room id: "+i)},n.Controllers.SystemController.prototype._handlePrivateMessage=function(t){var e={},i=this._sfs.userManager.getUserById(t[n.Requests.System.GenericMessageRequest.KEY_USER_ID]);if(null==i){if(null==t[n.Requests.System.GenericMessageRequest.KEY_SENDER_DATA])return void this._log.warn("Unexpected, private message has no sender details");i=n.Entities.SFSUser.fromArray(t[n.Requests.System.GenericMessageRequest.KEY_SENDER_DATA])}e.sender=i,e.message=t[n.Requests.System.GenericMessageRequest.KEY_MESSAGE],e.data=t[n.Requests.System.GenericMessageRequest.KEY_XTRA_PARAMS],this._sfs._dispatchEvent(n.SFSEvent.PRIVATE_MESSAGE,e)},n.Controllers.SystemController.prototype._handleBuddyMessage=function(t){var e={},i=t[n.Requests.System.GenericMessageRequest.KEY_USER_ID],o=this._sfs.buddyManager.getBuddyById(i);e.isItMe=this._sfs.mySelf.id==i,e.buddy=o,e.message=t[n.Requests.System.GenericMessageRequest.KEY_MESSAGE],e.data=t[n.Requests.System.GenericMessageRequest.KEY_XTRA_PARAMS],this._sfs._dispatchEvent(n.SFSBuddyEvent.BUDDY_MESSAGE,e)},n.Controllers.SystemController.prototype._handleModMessage=function(t){var e={};e.sender=n.Entities.SFSUser.fromArray(t[n.Requests.System.GenericMessageRequest.KEY_SENDER_DATA]),e.message=t[n.Requests.System.GenericMessageRequest.KEY_MESSAGE],e.data=t[n.Requests.System.GenericMessageRequest.KEY_XTRA_PARAMS],this._sfs._dispatchEvent(n.SFSEvent.MODERATOR_MESSAGE,e)},n.Controllers.SystemController.prototype._handleAdminMessage=function(t){var e={};e.sender=n.Entities.SFSUser.fromArray(t[n.Requests.System.GenericMessageRequest.KEY_SENDER_DATA]),e.message=t[n.Requests.System.GenericMessageRequest.KEY_MESSAGE],e.data=t[n.Requests.System.GenericMessageRequest.KEY_XTRA_PARAMS],this._sfs._dispatchEvent(n.SFSEvent.ADMIN_MESSAGE,e)},n.Controllers.SystemController.prototype._handleObjectMessage=function(t){var e={};e.sender=this._sfs.userManager.getUserById(t[n.Requests.System.GenericMessageRequest.KEY_USER_ID]),e.message=t[n.Requests.System.GenericMessageRequest.KEY_XTRA_PARAMS],this._sfs._dispatchEvent(n.SFSEvent.OBJECT_MESSAGE,e)},n.Controllers.SystemController.prototype._fnSetRoomVariables=function(t){var e=t[n.Requests.System.SetRoomVariablesRequest.KEY_VAR_ROOM],i=t[n.Requests.System.SetRoomVariablesRequest.KEY_VAR_LIST],o=[];if(null!=(t=this._sfs.roomManager.getRoomById(e))){for(e=0;e<i.length;e++){var s=n.Entities.Variables.SFSRoomVariable.fromArray(i[e]);t._setVariable(s),o.push(s.name)}(i={}).changedVars=o,i.room=t,this._sfs._dispatchEvent(n.SFSEvent.ROOM_VARIABLES_UPDATE,i)}else this._log.warn("RoomVariablesUpdate event, unknown Room id: "+e)},n.Controllers.SystemController.prototype._fnSetUserVariables=function(t){var e=t[n.Requests.System.SetUserVariablesRequest.KEY_USER],i=t[n.Requests.System.SetUserVariablesRequest.KEY_VAR_LIST],o=[];if(null!=(t=this._sfs.userManager.getUserById(e))){for(e=0;e<i.length;e++){var s=n.Entities.Variables.SFSUserVariable.fromArray(i[e]);t._setVariable(s),o.push(s.name)}(i={}).changedVars=o,i.user=t,this._sfs._dispatchEvent(n.SFSEvent.USER_VARIABLES_UPDATE,i)}else this._log.warn("UserVariablesUpdate event, unknown User id: "+e)},n.Controllers.SystemController.prototype._fnSubscribeRoomGroup=function(t){var e={};if(null==t[n.Controllers.KEY_ERROR_CODE]){var i=t[n.Requests.System.SubscribeRoomGroupRequest.KEY_GROUP_ID];t=t[n.Requests.System.SubscribeRoomGroupRequest.KEY_ROOM_LIST];this._sfs.roomManager.containsGroup(i)&&this._log.warn("Subscribe Group error: Group '"+i+"' already subscribed"),this._populateRoomList(t),e.groupId=i,e.newRooms=this._sfs.roomManager.getRoomListFromGroup(i),this._sfs._dispatchEvent(n.SFSEvent.ROOM_GROUP_SUBSCRIBE,e)}else i=t[n.Controllers.KEY_ERROR_CODE],t=n.ErrorCodes.getErrorMessage(i,t[n.Controllers.KEY_ERROR_PARAMS]),e.errorMessage=t,e.errorCode=i,this._sfs._dispatchEvent(n.SFSEvent.ROOM_GROUP_SUBSCRIBE_ERROR,e)},n.Controllers.SystemController.prototype._fnUnsubscribeRoomGroup=function(t){var e={};if(null==t[n.Controllers.KEY_ERROR_CODE]){var i=t[n.Requests.System.UnsubscribeRoomGroupRequest.KEY_GROUP_ID];this._sfs.roomManager.containsGroup(i)||this._log.warn("Unsubscribe Group error: Group '"+i+"' not found (maybe never subscribed, or the Room Manager doesn't contain Rooms belonging to that Group)"),this._sfs.roomManager._removeGroup(i),e.groupId=i,this._sfs._dispatchEvent(n.SFSEvent.ROOM_GROUP_UNSUBSCRIBE,e)}else i=t[n.Controllers.KEY_ERROR_CODE],t=n.ErrorCodes.getErrorMessage(i,t[n.Controllers.KEY_ERROR_PARAMS]),e.errorMessage=t,e.errorCode=i,this._sfs._dispatchEvent(n.SFSEvent.ROOM_GROUP_UNSUBSCRIBE_ERROR,e)},n.Controllers.SystemController.prototype._fnSpectatorToPlayer=function(t){var e={};if(null==t[n.Controllers.KEY_ERROR_CODE]){var i=t[n.Requests.System.SpectatorToPlayerRequest.KEY_ROOM_ID],o=t[n.Requests.System.SpectatorToPlayerRequest.KEY_USER_ID],s=(t=t[n.Requests.System.SpectatorToPlayerRequest.KEY_PLAYER_ID],this._sfs.userManager.getUserById(o)),a=this._sfs.roomManager.getRoomById(i);null!=a?null!=s?s.isJoinedInRoom(a)?(s._setPlayerId(t,a),e.room=a,e.user=s,e.playerId=t,this._sfs._dispatchEvent(n.SFSEvent.SPECTATOR_TO_PLAYER,e)):this._log.warn("SpectatorToPlayer event, user "+s+" not joined in Room ",a):this._log.warn("SpectatorToPlayer event, unknown User id: "+o):this._log.warn("SpectatorToPlayer event, unknown Room id: "+i)}else i=t[n.Controllers.KEY_ERROR_CODE],o=n.ErrorCodes.getErrorMessage(i,t[n.Controllers.KEY_ERROR_PARAMS]),e.errorMessage=o,e.errorCode=i,this._sfs._dispatchEvent(n.SFSEvent.SPECTATOR_TO_PLAYER_ERROR,e)},n.Controllers.SystemController.prototype._fnPlayerToSpectator=function(t){var e={};if(null==t[n.Controllers.KEY_ERROR_CODE]){var i=t[n.Requests.System.PlayerToSpectatorRequest.KEY_ROOM_ID],o=(t=t[n.Requests.System.PlayerToSpectatorRequest.KEY_USER_ID],this._sfs.userManager.getUserById(t)),s=this._sfs.roomManager.getRoomById(i);null!=s?null!=o?o.isJoinedInRoom(s)?(o._setPlayerId(-1,s),e.room=s,e.user=o,this._sfs._dispatchEvent(n.SFSEvent.PLAYER_TO_SPECTATOR,e)):this._log.warn("PlayerToSpectator event, user "+o+" not joined in Room ",s):this._log.warn("PlayerToSpectator event, unknown User id: "+t):this._log.warn("PlayerToSpectator event, unknown Room id: "+i)}else i=t[n.Controllers.KEY_ERROR_CODE],t=n.ErrorCodes.getErrorMessage(i,t[n.Controllers.KEY_ERROR_PARAMS]),e.errorMessage=t,e.errorCode=i,this._sfs._dispatchEvent(n.SFSEvent.PLAYER_TO_SPECTATOR_ERROR,e)},n.Controllers.SystemController.prototype._fnFindRooms=function(t){for(var e={},i=(t=t[n.Requests.System.FindRoomsRequest.KEY_FILTERED_ROOMS],[]),o=0;o<t.length;o++){var s=n.Entities.SFSRoom.fromArray(t[o]),a=this._sfs.roomManager.getRoomById(s.id);null!=a&&(s.isJoined=a.isJoined),i.push(s)}e.rooms=i,this._sfs._dispatchEvent(n.SFSEvent.ROOM_FIND_RESULT,e)},n.Controllers.SystemController.prototype._fnFindUsers=function(t){for(var e={},i=(t=t[n.Requests.System.FindUsersRequest.KEY_FILTERED_USERS],[]),o=this._sfs.mySelf,s=0;s<t.length;s++){var a=n.Entities.SFSUser.fromArray(t[s]);a.id==o.id&&(a=o),i.push(a)}e.users=i,this._sfs._dispatchEvent(n.SFSEvent.USER_FIND_RESULT,e)},n.Controllers.SystemController.prototype._fnInviteUsers=function(t){var e={},i=null!=t[n.Requests.Game.InviteUsersRequest.KEY_USER_ID]?this._sfs.userManager.getUserById(t[n.Requests.Game.InviteUsersRequest.KEY_USER_ID]):n.Entities.SFSUser.fromArray(t[n.Requests.Game.InviteUsersRequest.KEY_USER]),o=t[n.Requests.Game.InviteUsersRequest.KEY_INVITATION_ID];(t=new n.Entities.Invitation.SFSInvitation(i,this._sfs.mySelf,t[n.Requests.Game.InviteUsersRequest.KEY_TIME],t[n.Requests.Game.InviteUsersRequest.KEY_PARAMS])).id=o,e.invitation=t,this._sfs._dispatchEvent(n.SFSEvent.INVITATION,e)},n.Controllers.SystemController.prototype._fnInvitationReply=function(t){var e={};if(null==t[n.Controllers.KEY_ERROR_CODE]){var i=null,o=(i=null!=t[n.Requests.Game.InviteUsersRequest.KEY_USER_ID]?this._sfs.userManager.getUserById(t[n.Requests.Game.InviteUsersRequest.KEY_USER_ID]):n.Entities.SFSUser.fromArray(t[n.Requests.Game.InviteUsersRequest.KEY_USER]),t[n.Requests.Game.InviteUsersRequest.KEY_REPLY_ID]);t=t[n.Requests.Game.InviteUsersRequest.KEY_PARAMS];e.invitee=i,e.reply=o,e.data=t,this._sfs._dispatchEvent(n.SFSEvent.INVITATION_REPLY,e)}else i=t[n.Controllers.KEY_ERROR_CODE],t=n.ErrorCodes.getErrorMessage(i,t[n.Controllers.KEY_ERROR_PARAMS]),e.errorMessage=t,e.errorCode=i,this._sfs._dispatchEvent(n.SFSEvent.INVITATION_REPLY_ERROR,e)},n.Controllers.SystemController.prototype._fnQuickJoinGame=function(t){if(null!=t[n.Controllers.KEY_ERROR_CODE]){var e=t[n.Controllers.KEY_ERROR_CODE],i=(t=n.ErrorCodes.getErrorMessage(e,t[n.Controllers.KEY_ERROR_PARAMS]),{});i.errorMessage=t,i.errorCode=e,this._sfs._dispatchEvent(n.SFSEvent.ROOM_JOIN_ERROR,i)}},n.Controllers.SystemController.prototype._fnPingPong=function(){var t=this._sfs._lagMonitor._onPingPong(),e={};e.lagValue=t,this._sfs._dispatchEvent(n.SFSEvent.PING_PONG,e)},n.Controllers.SystemController.prototype._fnSetUserPosition=function(t){var e={},i=this._sfs.roomManager.getRoomById(t[n.Requests.MMO.SetUserPositionRequest.KEY_ROOM]),o=t[n.Requests.MMO.SetUserPositionRequest.KEY_MINUS_USER_LIST],s=t[n.Requests.MMO.SetUserPositionRequest.KEY_PLUS_USER_LIST],a=t[n.Requests.MMO.SetUserPositionRequest.KEY_MINUS_ITEM_LIST],r=(t=t[n.Requests.MMO.SetUserPositionRequest.KEY_PLUS_ITEM_LIST],[]),c=[],h=[],l=[],u=0;if(null!=o)for(u=0;u<o.length;u++){var d=i.getUserById(o[u]);null!=d&&(i._removeUser(d),c.push(d))}if(null!=s)for(u=0;u<s.length;u++)d=s[u],o=this._getOrCreateUser(d,!0,i),r.push(o),i._addUser(o),null!=(d=d[5])&&(o.aoiEntryPoint=n.Entities.Data.Vec3D.fromArray(d));if(null!=a)for(u=0;u<a.length;u++)null!=(s=i.getMMOItem(a[u]))&&(i._removeItem(s),l.push(s));if(null!=t)for(u=0;u<t.length;u++)s=t[u],a=n.Entities.MMOItem.fromArray(s),h.push(a),i._addMMOItem(a),null!=(s=s[2])&&(a.aoiEntryPoint=n.Entities.Data.Vec3D.fromArray(s));e.addedItems=h,e.removedItems=l,e.removedUsers=c,e.addedUsers=r,e.room=i,this._sfs._dispatchEvent(n.SFSEvent.PROXIMITY_LIST_UPDATE,e)},n.Controllers.SystemController.prototype._fnSetMMOItemVariables=function(t){var e={},i=this._sfs.roomManager.getRoomById(t[n.Requests.MMO.SetMMOItemVariables.KEY_ROOM_ID]),o=t[n.Requests.MMO.SetMMOItemVariables.KEY_ITEM_ID],s=(t=t[n.Requests.MMO.SetMMOItemVariables.KEY_VAR_LIST],[]);if(null!=i&&null!=(o=i.getMMOItem(o))){for(var a=0;a<t.length;a++){var r=n.Entities.Variables.MMOItemVariable.fromArray(t[a]);o._setVariable(r),s.push(r.name)}e.changedVars=s,e.mmoItem=o,e.room=i,this._sfs._dispatchEvent(n.SFSEvent.MMOITEM_VARIABLES_UPDATE,e)}},n.Controllers.SystemController.prototype._fnUserEnterRoom=function(t){var e=this._sfs.roomManager.getRoomById(t[n.Controllers.ROOM_PARAM]);if(null!=e){t=this._getOrCreateUser(t[n.Controllers.USER_PARAM],!0,e),e._addUser(t);var i={};i.user=t,i.room=e,this._sfs._dispatchEvent(n.SFSEvent.USER_ENTER_ROOM,i)}},n.Controllers.SystemController.prototype._fnUserCountChange=function(t){var e=this._sfs.roomManager.getRoomById(t[n.Controllers.ROOM_PARAM]);if(null!=e){var i=t[n.Controllers.USER_COUNT_PARAM],o=0;null!=t.sc&&(o=t[n.Controllers.SPECT_COUNT_PARAM]),e._userCount=i,e._specCount=o,(t={}).room=e,t.uCount=i,t.sCount=o,this._sfs._dispatchEvent(n.SFSEvent.USER_COUNT_CHANGE,t)}},n.Controllers.SystemController.prototype._fnUserLost=function(t){if(null!=(t=this._sfs.userManager.getUserById(t[n.Controllers.USER_PARAM]))){var e=this._sfs.roomManager.getUserRooms(t);this._sfs.roomManager._removeUser(t),this._sfs.userManager._removeUser(t);for(var i=0;i<e.length;i++){var o={};o.user=t,o.room=e[i],this._sfs._dispatchEvent(n.SFSEvent.USER_EXIT_ROOM,o)}}},n.Controllers.SystemController.prototype._fnRoomLost=function(t){t=this._sfs.roomManager.getRoomById(t[n.Controllers.ROOM_PARAM]);var e=this._sfs.userManager;if(null!=t){this._sfs.roomManager._removeRoom(t);for(var i=t.getUserList(),o=0;o<i.length;o++)e._removeUser(i[o]);(e={}).room=t,this._sfs._dispatchEvent(n.SFSEvent.ROOM_REMOVE,e)}},n.Controllers.SystemController.prototype._fnUserExitRoom=function(t){var e=this._sfs.roomManager.getRoomById(t[n.Controllers.ROOM_PARAM]);t=this._sfs.userManager.getUserById(t[n.Controllers.USER_PARAM]);if(null!=e&&null!=t){e._removeUser(t),this._sfs.userManager._removeUser(t),t.isItMe&&e.isJoined&&(e.isJoined=!1,0==this._sfs.roomManager.getJoinedRooms().length&&(this._sfs.lastJoinedRoom=null),e._isManaged||this._sfs.roomManager._removeRoom(e));var i={};i.user=t,i.room=e,this._sfs._dispatchEvent(n.SFSEvent.USER_EXIT_ROOM,i)}else this._log.debug("Failed to handle UserExit event. Room: "+e+", User: "+t)},n.Controllers.SystemController.prototype._fnClientDisconnection=function(t){this._sfs._handleClientDisconnection(n.Utils.ClientDisconnectionReason.getReason(t.dr))},n.Controllers.SystemController.prototype._fnInitBuddyList=function(t){var e={};if(null==t[n.Controllers.KEY_ERROR_CODE]){var i=t[n.Requests.BuddyList.InitBuddyListRequest.KEY_BLIST],o=t[n.Requests.BuddyList.InitBuddyListRequest.KEY_MY_VARS],s=t[n.Requests.BuddyList.InitBuddyListRequest.KEY_BUDDY_STATES];for(this._sfs.buddyManager._clearAll(),t=0;t<i.length;t++){var a=n.Entities.SFSBuddy.fromArray(i[t]);this._sfs.buddyManager._addBuddy(a)}for(null!=s&&this._sfs.buddyManager._setBuddyStates(s),i=[],t=0;t<o.length;t++)s=n.Entities.Variables.SFSBuddyVariable.fromArray(o[t]),i.push(s);this._sfs.buddyManager._setMyVariables(i),this._sfs.buddyManager._setInited(),e.buddyList=this._sfs.buddyManager.getBuddyList(),e.myVariables=this._sfs.buddyManager.getMyVariables(),this._sfs._dispatchEvent(n.SFSBuddyEvent.BUDDY_LIST_INIT,e)}else o=t[n.Controllers.KEY_ERROR_CODE],t=n.ErrorCodes.getErrorMessage(o,t[n.Controllers.KEY_ERROR_PARAMS]),e.errorMessage=t,e.errorCode=o,this._sfs._dispatchEvent(n.SFSBuddyEvent.BUDDY_ERROR,e)},n.Controllers.SystemController.prototype._fnAddBuddy=function(t){var e={};if(null==t[n.Controllers.KEY_ERROR_CODE]){var i=n.Entities.SFSBuddy.fromArray(t[n.Requests.BuddyList.AddBuddyRequest.KEY_BUDDY_NAME]);this._sfs.buddyManager._addBuddy(i),e.buddy=i,this._sfs._dispatchEvent(n.SFSBuddyEvent.BUDDY_ADD,e)}else i=t[n.Controllers.KEY_ERROR_CODE],t=n.ErrorCodes.getErrorMessage(i,t[n.Controllers.KEY_ERROR_PARAMS]),e.errorMessage=t,e.errorCode=i,this._sfs._dispatchEvent(n.SFSBuddyEvent.BUDDY_ERROR,e)},n.Controllers.SystemController.prototype._fnRemoveBuddy=function(t){var e={};if(null==t[n.Controllers.KEY_ERROR_CODE]){var i=t[n.Requests.BuddyList.RemoveBuddyRequest.KEY_BUDDY_NAME];null!=(t=this._sfs.buddyManager._removeBuddyByName(i))?(e.buddy=t,this._sfs._dispatchEvent(n.SFSBuddyEvent.BUDDY_REMOVE,e)):this._log.warn("Unexpected: buddy removal failed, can't find "+i+" in local buddy list")}else i=t[n.Controllers.KEY_ERROR_CODE],t=n.ErrorCodes.getErrorMessage(i,t[n.Controllers.KEY_ERROR_PARAMS]),e.errorMessage=t,e.errorCode=i,this._sfs._dispatchEvent(n.SFSBuddyEvent.BUDDY_ERROR,e)},n.Controllers.SystemController.prototype._fnBlockBuddy=function(t){var e={};if(null==t[n.Controllers.KEY_ERROR_CODE]){var i=t[n.Requests.BuddyList.BlockBuddyRequest.KEY_BUDDY_NAME],o=this._sfs.buddyManager.getBuddyByName(i);null!=o?(o.blocked=t[n.Requests.BuddyList.BlockBuddyRequest.KEY_BUDDY_BLOCK_STATE],e.buddy=o,this._sfs._dispatchEvent(n.SFSBuddyEvent.BUDDY_BLOCK,e)):this._log.warn("Unexpected: buddy blocking/unblocking failed, can't find "+i+" in local buddy list")}else i=t[n.Controllers.KEY_ERROR_CODE],t=n.ErrorCodes.getErrorMessage(i,t[n.Controllers.KEY_ERROR_PARAMS]),e.errorMessage=t,e.errorCode=i,this._sfs._dispatchEvent(n.SFSBuddyEvent.BUDDY_ERROR,e)},n.Controllers.SystemController.prototype._fnGoOnline=function(t){var e={};if(null==t[n.Controllers.KEY_ERROR_CODE]){var i=t[n.Requests.BuddyList.GoOnlineRequest.KEY_BUDDY_NAME],o=this._sfs.buddyManager.getBuddyByName(i),s=i==this._sfs.mySelf.name,a=t[n.Requests.BuddyList.GoOnlineRequest.KEY_ONLINE],r=a==n.Utils.BuddyOnlineState.ONLINE,c=!0;if(s)this._sfs.buddyManager.getMyOnlineState()!=r&&(this._log.warn("Unexpected: myOnlineState is not in synch with the server; resynching to: "+r),this._sfs.buddyManager._setMyOnlineState(r));else{if(null==o)return void this._log.warn("Unexpected:  buddy '"+i+"' not found in local Buddy List when trying to set his online state");o.id=t[n.Requests.BuddyList.GoOnlineRequest.KEY_BUDDY_ID],o._setVariable(new n.Entities.Variables.SFSBuddyVariable(n.Entities.Variables.ReservedBuddyVariables.BV_ONLINE,r)),a==n.Utils.BuddyOnlineState.LEFT_THE_SERVER&&o._clearVolatileVariables(),c=this._sfs.buddyManager.getMyOnlineState()}c&&(e.buddy=o,e.isItMe=s,this._sfs._dispatchEvent(n.SFSBuddyEvent.BUDDY_ONLINE_STATE_CHANGE,e))}else i=t[n.Controllers.KEY_ERROR_CODE],t=n.ErrorCodes.getErrorMessage(i,t[n.Controllers.KEY_ERROR_PARAMS]),e.errorMessage=t,e.errorCode=i,this._sfs._dispatchEvent(n.SFSBuddyEvent.BUDDY_ERROR,e)},n.Controllers.SystemController.prototype._fnSetBuddyVariables=function(t){var e={};if(null==t[n.Controllers.KEY_ERROR_CODE]){for(var i=t[n.Requests.BuddyList.SetBuddyVariablesRequest.KEY_BUDDY_NAME],o=(t=t[n.Requests.BuddyList.SetBuddyVariablesRequest.KEY_BUDDY_VARS],this._sfs.buddyManager.getBuddyByName(i)),s=i==this._sfs.mySelf.name,a=[],r=[],c=!0,h=0;h<t.length;h++){var l=n.Entities.Variables.SFSBuddyVariable.fromArray(t[h]);r.push(l),a.push(l.name)}if(s)this._sfs.buddyManager._setMyVariables(r);else{if(null==o)return void this._log.warn("Unexpected:  buddy '"+i+"' not found in local Buddy List when trying to set his Buddy Variables");o._setVariables(r),c=sfs.buddyManager.getMyOnlineState()}c&&(e.buddy=o,e.isItMe=s,e.changedVars=a,this._sfs._dispatchEvent(n.SFSBuddyEvent.BUDDY_VARIABLES_UPDATE,e))}else i=t[n.Controllers.KEY_ERROR_CODE],t=n.ErrorCodes.getErrorMessage(i,t[n.Controllers.KEY_ERROR_PARAMS]),e.errorMessage=t,e.errorCode=i,this._sfs._dispatchEvent(n.SFSBuddyEvent.BUDDY_ERROR,e)},n.Controllers.SystemController.prototype._populateRoomList=function(t){for(var e=this._sfs.roomManager,i=0;i<t.length;i++){var o=n.Entities.SFSRoom.fromArray(t[i]);e._replaceRoom(o)}},n.Controllers.SystemController.prototype._getOrCreateUser=function(t,e,i){null==e&&(e=!1);var o=this._sfs.userManager.getUserById(t[0]);if(null==o)(o=n.Entities.SFSUser.fromArray(t,i))._setUserManager(this._sfs.userManager);else if(null!=i)for(o._setPlayerId(t[3],i),t=t[4],i=0;i<t.length;i++)o._setVariable(n.Entities.Variables.SFSUserVariable.fromArray(t[i]));return e&&this._sfs.userManager._addUser(o),o},n.Controllers.ExtensionController=function(t){this.KEY_CMD="c",this.KEY_PARAMS="p",this.KEY_ROOM="r",this._sfs=t,this._id=1,this._log=n.Logger},n.Controllers.ExtensionController.prototype.getId=function(){return this._id},n.Controllers.ExtensionController.prototype.handleMessage=function(t){this._sfs.debug&&this._log.info("IN < ExtensionResponse");var e={};e.cmd=t[this.KEY_CMD],e.params=t[this.KEY_PARAMS],null!=t[this.KEY_ROOM]&&(e.sourceRoom=t[this.KEY_ROOM]),this._sfs._dispatchEvent(n.SFSEvent.EXTENSION_RESPONSE,e)},n.DebugHelper={},n.DebugHelper.getDump=function(t){return void 0==t?"<Null>":t instanceof Object?this._dumpObject(t):"<Not An Object>"},n.DebugHelper._dumpObject=function(t){var e=[];return function t(e,i,o){var s=null;for(var a in n.DebugHelper._getTabs(o),e){var r=e[a];if(null==r)s="Null";else{var c=r.constructor,h=void 0;c===Array||c===Object?(s=null,h=c===Array?"[Array]":"[Object]",t(r,i,o+1)):s=r.constructor===Number?"Num":r.constructor===Boolean?"Bool":r.constructor===String?"Str":"Unsupported"}i.push(n.DebugHelper._getTabs(o)+a+": "+(void 0==h?r:h)+(void 0==s?"":" ("+s+")"))}}(t,e,0),n.DebugHelper._prettyPrint(e)},n.DebugHelper._getTabs=function(t){if(0>=t)return"";if(1==t)return"\t";for(var e="",i=0;i<t;i++)e+="\t";return e},n.DebugHelper._prettyPrint=function(t){for(var e="",i=t.length-1;-1<i;i--)e+=t[i]+"\n";return e},n.Entities={},n.Entities.Data={},n.Entities.Variables={},n.Entities.Match={},n.Entities.Invitation={},n.Entities.SFSRoom=r.Class.extend({init:function(t,e,i){this.id=t,this.name=e,this.groupId=null!=i?i:"default",this.isPasswordProtected=this.isJoined=this.isHidden=this.isGame=!1,this._specCount=this._userCount=this.maxSpectators=this.maxUsers=0,this._isManaged=!0,this.variables={},this.properties={},this._userManager=new n.Managers.UserManager,this._roomManager=null},toString:function(){return"[Room: "+this.name+", Id: "+this.id+", Group id: "+this.groupId+"]"},getUserCount:function(){return this.isJoined?this.isGame?this.getPlayerList().length:this._userManager.getUserCount():this._userCount},getSpectatorCount:function(){return this.isGame?this.isJoined?this.getSpectatorList().length:this._specCount:0},getCapacity:function(){return this.maxUsers+this.maxSpectators},getUserByName:function(t){return this._userManager.getUserByName(t)},getUserById:function(t){return this._userManager.getUserById(t)},containsUser:function(t){return this._userManager.containsUser(t)},getUserList:function(){return this._userManager.getUserList()},getPlayerList:function(){for(var t=[],e=this._userManager.getUserList(),i=0;i<e.length;i++){var n=e[i];n.isPlayerInRoom(this)&&t.push(n)}return t},getSpectatorList:function(){for(var t=[],e=this._userManager.getUserList(),i=0;i<e.length;i++){var n=e[i];n.isSpectatorInRoom(this)&&t.push(n)}return t},getVariable:function(t){return this.variables[t]},containsVariable:function(t){return null!=this.variables[t]},getVariables:function(){return n.Utils.ArrayUtil.objToArray(this.variables)},getRoomManager:function(){return this._roomManager},_addUser:function(t){this._userManager._addUser(t)},_removeUser:function(t){this._userManager._removeUser(t)},_setVariables:function(t){for(var e=0;e<t.length;e++)this._setVariable(t[e])},_setVariable:function(t){t.isNull()?delete this.variables[t.name]:this.variables[t.name]=t},_setRoomManager:function(t){if(null!=this._roomManager)throw new n.Exceptions.SFSError("Room Manager already assigned to Room "+this.toString());this._roomManager=t},_merge:function(t){for(var e in this.variables=[],t.variables)this.variables[e]=t.variables[e];for(this._userManager._clearAll(),t=t.getUserList(),e=0;e<t.length;e++)this._userManager._addUser(t[e])}}),n.Entities.SFSRoom.fromArray=function(t){var e=14==t.length,i=null;(i=e?new n.Entities.MMORoom(t[0],t[1],t[2]):new n.Entities.SFSRoom(t[0],t[1],t[2])).isGame=t[3],i.isHidden=t[4],i.isPasswordProtected=t[5],i._userCount=t[6],i.maxUsers=t[7];var o=t[8];if(null!=o)for(var s=0;s<o.length;s++){var a=n.Entities.Variables.SFSRoomVariable.fromArray(o[s]);i._setVariable(a)}return i.isGame&&(i._specCount=t[9],i.maxSpectators=t[10]),e&&(i.defaultAOI=n.Entities.Data.Vec3D.fromArray(t[11]),null!=t[13]&&(i.lowerMapLimit=n.Entities.Data.Vec3D.fromArray(t[12]),i.higherMapLimit=n.Entities.Data.Vec3D.fromArray(t[13]))),i},n.Entities.MMORoom=n.Entities.SFSRoom.extend({init:function(t,e,i){this._super(t,e,i),this.higherMapLimit=this.lowerMapLimit=this.defaultAOI=null,this._itemsById={}},getMMOItem:function(t){return this._itemsById[t]},getMMOItems:function(){return n.Utils.ArrayUtil.objToArray(this._itemsById)},_addMMOItem:function(t){this._itemsById[t.id]=t},_removeItem:function(t){delete this._itemsById[t]}}),n.Entities.SFSUser=function(t,e,i){this.id=t,this.name=e,this.isItMe=null!=i&&i,this.privilegeId=0,this.properties={},this.aoiEntryPoint=null,this.variables={},this._playerIdByRoomId={},this._userManager=null},n.Entities.SFSUser.fromArray=function(t,e){var i=new n.Entities.SFSUser(t[0],t[1]);i.privilegeId=t[2],null!=e&&i._setPlayerId(t[3],e);var o=t[4];if(null!=o)for(var s=0;s<o.length;s++){var a=n.Entities.Variables.SFSUserVariable.fromArray(o[s]);i._setVariable(a)}return i},n.Entities.SFSUser.prototype.toString=function(){return"[User: "+this.name+", Id: "+this.id+", Is me: "+this.isItMe+"]"},n.Entities.SFSUser.prototype.isJoinedInRoom=function(t){return t.containsUser(this)},n.Entities.SFSUser.prototype.isGuest=function(){return this.privilegeId==n.Entities.UserPrivileges.GUEST},n.Entities.SFSUser.prototype.isStandardUser=function(){return this.privilegeId==n.Entities.UserPrivileges.STANDARD},n.Entities.SFSUser.prototype.isModerator=function(){return this.privilegeId==n.Entities.UserPrivileges.MODERATOR},n.Entities.SFSUser.prototype.isAdmin=function(){return this.privilegeId==n.Entities.UserPrivileges.ADMINISTRATOR},n.Entities.SFSUser.prototype.isPlayer=function(){return this.isPlayerInRoom(this._userManager._sfs.lastJoinedRoom)},n.Entities.SFSUser.prototype.isSpectator=function(){return this.isSpectatorInRoom(this._userManager._sfs.lastJoinedRoom)},n.Entities.SFSUser.prototype.getPlayerId=function(t){var e=0;return null!=this._playerIdByRoomId[t.id]&&(e=this._playerIdByRoomId[t.id]),e},n.Entities.SFSUser.prototype.isPlayerInRoom=function(t){return!(null==t||!t.isGame)&&0<this._playerIdByRoomId[t.id]},n.Entities.SFSUser.prototype.isSpectatorInRoom=function(t){return!(null==t||!t.isGame)&&0>this._playerIdByRoomId[t.id]},n.Entities.SFSUser.prototype.getVariable=function(t){return this.variables[t]},n.Entities.SFSUser.prototype.containsVariable=function(t){return null!=this.variables[t]},n.Entities.SFSUser.prototype.getVariables=function(){return n.Utils.ArrayUtil.objToArray(this.variables)},n.Entities.SFSUser.prototype.getUserManager=function(){return this._userManager},n.Entities.SFSUser.prototype._setPlayerId=function(t,e){this._playerIdByRoomId[e.id]=t},n.Entities.SFSUser.prototype._removePlayerId=function(t){delete this._playerIdByRoomId[t.id]},n.Entities.SFSUser.prototype._setVariables=function(t){for(var e=0;e<t.length;e++)this._setVariable(t[e])},n.Entities.SFSUser.prototype._setVariable=function(t){t.isNull()?delete this.variables[t.name]:this.variables[t.name]=t},n.Entities.SFSUser.prototype._setUserManager=function(t){if(null!=this._userManager)throw new n.Exceptions.SFSError("User Manager already assigned to user "+this.toString());this._userManager=t},n.Entities.SFSBuddy=function(t,e,i,n){this.id=t,this.name=e,this.blocked=null!=i&&i,this.temp=null!=n&&n,this.variables={}},n.Entities.SFSBuddy.fromArray=function(t){for(var e=new n.Entities.SFSBuddy(t[0],t[1],t[2],4<t.length&&t[4]),i=(t=t[3],0);i<t.length;i++){var o=n.Entities.Variables.SFSBuddyVariable.fromArray(t[i]);e._setVariable(o)}return e},n.Entities.SFSBuddy.prototype.toString=function(){return"[Buddy: "+this.name+", Id: "+this.id+"]"},n.Entities.SFSBuddy.prototype.isBlocked=function(){return this.blocked},n.Entities.SFSBuddy.prototype.isTemp=function(){return this.temp},n.Entities.SFSBuddy.prototype.isOnline=function(){var t=!0,e=n.Entities.Variables.ReservedBuddyVariables.BV_ONLINE;return this.containsVariable(e)&&(t=this.getVariable(e).value),t&&-1<this.id},n.Entities.SFSBuddy.prototype.getState=function(){var t=n.Entities.Variables.ReservedBuddyVariables.BV_STATE;return this.containsVariable(t)?this.getVariable(t).value:null},n.Entities.SFSBuddy.prototype.getNickName=function(){var t=n.Entities.Variables.ReservedBuddyVariables.BV_NICKNAME;return this.containsVariable(t)?this.getVariable(t).value:null},n.Entities.SFSBuddy.prototype.getVariable=function(t){return this.variables[t]},n.Entities.SFSBuddy.prototype.containsVariable=function(t){return null!=this.variables[t]},n.Entities.SFSBuddy.prototype.getVariables=function(){return n.Utils.ArrayUtil.objToArray(this.variables)},n.Entities.SFSBuddy.prototype.getOfflineVariables=function(){var t,e=[];for(t in this.variables){var i=this.variables[t];i.name.charAt(0)==n.Entities.Variables.SFSBuddyVariable.OFFLINE_PREFIX&&e.push(i)}return e},n.Entities.SFSBuddy.prototype.getOnlineVariables=function(){var t,e=[];for(t in this.variables){var i=this.variables[t];i.name.charAt(0)!=n.Entities.Variables.SFSBuddyVariable.OFFLINE_PREFIX&&e.push(i)}return e},n.Entities.SFSBuddy.prototype._setVariables=function(t){for(var e=0;e<t.length;e++)this._setVariable(t[e])},n.Entities.SFSBuddy.prototype._setVariable=function(t){t.isNull()?this._removeVariable(t.name):this.variables[t.name]=t},n.Entities.SFSBuddy.prototype._removeVariable=function(t){delete this.variables[t]},n.Entities.SFSBuddy.prototype._clearVolatileVariables=function(){for(var t in this.variables){var e=this.variables[t];e.name.charAt(0)!=n.Entities.Variables.SFSBuddyVariable.OFFLINE_PREFIX&&this._removeVariable(e.name)}},n.Entities.MMOItem=function(t){this.id=t,this.aoiEntryPoint=null,this.variables={}},n.Entities.MMOItem.fromArray=function(t){var e=new n.Entities.MMOItem(t[0]);if(null!=(t=t[1]))for(var i=0;i<t.length;i++){var o=n.Entities.Variables.MMOItemVariable.fromArray(t[i]);e._setVariable(o)}return e},n.Entities.MMOItem.prototype.toString=function(){return"[Item: "+this.id+"]"},n.Entities.MMOItem.prototype.getVariable=function(t){return this.variables[t]},n.Entities.MMOItem.prototype.containsVariable=function(t){return null!=this.variables[t]},n.Entities.MMOItem.prototype.getVariables=function(){return n.Utils.ArrayUtil.objToArray(this.variables)},n.Entities.MMOItem.prototype._setVariables=function(t){for(var e=0;e<t.length;e++)this._setVariable(t[e])},n.Entities.MMOItem.prototype._setVariable=function(t){null!=t&&(t.isNull()?delete this.variables[t.name]:this.variables[t.name]=t)},n.Entities.Variables.SFSUserVariable=r.Class.extend({init:function(t,e,i){this.name=t,this.value=e,this._setType(i)},toString:function(){return"[UserVar: "+this.name+", Type: "+this.type+", Value: "+this.value+"]"},toArray:function(){return[this.name,n.Entities.Variables.VariableType.getTypeIdFromName(this.type),this.value]},isNull:function(){return n.Entities.Variables.VariableType.getTypeIdFromName(this.type)==n.Entities.Variables.VariableType.NULL},_setType:function(t){null==t&&(t=-1),-1<t?this.type=this.getTypeName(t):null==this.value?this.type=this.getTypeName(n.Entities.Variables.VariableType.NULL):"boolean"==(t=a(this.value))?this.type=this.getTypeName(n.Entities.Variables.VariableType.BOOL):"number"==t?this.type=this.value===+this.value&&this.value===(0|this.value)?this.getTypeName(n.Entities.Variables.VariableType.INT):this.getTypeName(n.Entities.Variables.VariableType.DOUBLE):"string"==t?this.type=this.getTypeName(n.Entities.Variables.VariableType.STRING):"object"==t&&(this.type=this.value instanceof Array?this.getTypeName(n.Entities.Variables.VariableType.ARRAY):this.getTypeName(n.Entities.Variables.VariableType.OBJECT))},getTypeName:function(t){return n.Entities.Variables.VariableType.getTypeName(t)}}),n.Entities.Variables.SFSUserVariable.fromArray=function(t){return new n.Entities.Variables.SFSUserVariable(t[0],t[2],t[1])},n.Entities.Variables.SFSRoomVariable=n.Entities.Variables.SFSUserVariable.extend({init:function(t,e,i){this._super(t,e,i),this.isPersistent=this.isPrivate=!1},toString:function(){return"[RoomVar: "+this.name+", Type: "+this.type+", Value: "+this.value+", Is private: "+this.isPrivate+"]"},toArray:function(){var t=this._super();return t.push(this.isPrivate),t.push(this.isPersistent),t}}),n.Entities.Variables.SFSRoomVariable.fromArray=function(t){var e=new n.Entities.Variables.SFSRoomVariable(t[0],t[2],t[1]);return e.isPrivate=t[3],e.isPersistent=t[4],e},n.Entities.Variables.SFSBuddyVariable=n.Entities.Variables.SFSUserVariable.extend({init:function(t,e,i){this._super(t,e,i)},toString:function(){return"[BuddyVar: "+this.name+", Type: "+this.type+", Value: "+this.value+"]"},isOffline:function(){return this.name.charAt(0)==n.Entities.Variables.SFSBuddyVariable.OFFLINE_PREFIX}}),n.Entities.Variables.SFSBuddyVariable.OFFLINE_PREFIX="$",n.Entities.Variables.SFSBuddyVariable.fromArray=function(t){return new n.Entities.Variables.SFSBuddyVariable(t[0],t[2],t[1])},n.Entities.Variables.MMOItemVariable=n.Entities.Variables.SFSUserVariable.extend({init:function(t,e,i){this._super(t,e,i)},toString:function(){return"[ItemVar: "+this.name+", Type: "+this.type+", Value: "+this.value+"]"}}),n.Entities.Variables.MMOItemVariable.fromArray=function(t){return new n.Entities.Variables.MMOItemVariable(t[0],t[2],t[1])},n.Entities.Variables.VariableType={_typeStrings:"Null Bool Int Double String Object Array".split(" "),NULL:0,BOOL:1,INT:2,DOUBLE:3,STRING:4,OBJECT:5,ARRAY:6},n.Entities.Variables.VariableType.getTypeName=function(t){return this._typeStrings[t]},n.Entities.Variables.VariableType.getTypeIdFromName=function(t){return this._typeStrings.indexOf(t)},n.Entities.Variables.ReservedBuddyVariables={},n.Entities.Variables.ReservedBuddyVariables.BV_ONLINE="$__BV_ONLINE__",n.Entities.Variables.ReservedBuddyVariables.BV_STATE="$__BV_STATE__",n.Entities.Variables.ReservedBuddyVariables.BV_NICKNAME="$__BV_NICKNAME__",n.Entities.Variables.ReservedRoomVariables={},n.Entities.Variables.ReservedRoomVariables.RV_GAME_STARTED="$GS",n.Entities.UserPrivileges={},n.Entities.UserPrivileges.GUEST=0,n.Entities.UserPrivileges.STANDARD=1,n.Entities.UserPrivileges.MODERATOR=2,n.Entities.UserPrivileges.ADMINISTRATOR=3,n.Entities.Match.MatchExpression=function(t,e,i){this.varName=t,this.condition=e,this.value=i,this._parent=this.next=this.logicOp=null},n.Entities.Match.MatchExpression.chainedMatchExpression=function(t,e,i,o,s){return(t=new n.Entities.Match.MatchExpression(t,e,i)).logicOp=o,t._parent=s,t},n.Entities.Match.MatchExpression.prototype.and=function(t,e,i){return this.next=n.Entities.Match.MatchExpression.chainedMatchExpression(t,e,i,n.Entities.Match.LogicOperator.AND,this)},n.Entities.Match.MatchExpression.prototype.or=function(t,e,i){return this.next=n.Entities.Match.MatchExpression.chainedMatchExpression(t,e,i,n.Entities.Match.LogicOperator.OR,this)},n.Entities.Match.MatchExpression.prototype.hasNext=function(){return null!=this.next},n.Entities.Match.MatchExpression.prototype.rewind=function(){for(var t=this;null!=t._parent;)t=t._parent;return t},n.Entities.Match.MatchExpression.prototype.toString=function(){for(var t=this.rewind(),e=t._asString();t.hasNext();)e+=(t=t.next)._asString();return e},n.Entities.Match.MatchExpression.prototype._asString=function(){var t="";return null!=this.logicOp&&(t+=" "+this.logicOp.id+" "),(t=t+"("+this.varName+" "+this.condition.symbol+" "+("string"==typeof this.value?"'"+this.value+"'":this.value))+")"},n.Entities.Match.MatchExpression.prototype._toArray=function(){var t=this.rewind(),e=[];for(e.push(t._expressionAsArray());t.hasNext();)t=t.next,e.push(t._expressionAsArray());return e},n.Entities.Match.MatchExpression.prototype._expressionAsArray=function(){var t=[];return null!=this.logicOp?t.push(this.logicOp.id):t.push(null),t.push(this.varName),t.push(this.condition.type),t.push(this.condition.symbol),t.push(this.value),t},n.Entities.Match.LogicOperator=function(t){this.id=t},n.Entities.Match.LogicOperator.AND=new n.Entities.Match.LogicOperator("AND"),n.Entities.Match.LogicOperator.OR=new n.Entities.Match.LogicOperator("OR"),n.Entities.Match.BoolMatch=function(t){this.type=0,this.symbol=t},n.Entities.Match.BoolMatch.EQUALS=new n.Entities.Match.BoolMatch("=="),n.Entities.Match.BoolMatch.NOT_EQUALS=new n.Entities.Match.BoolMatch("!="),n.Entities.Match.NumberMatch=function(t){this.type=1,this.symbol=t},n.Entities.Match.NumberMatch.EQUALS=new n.Entities.Match.NumberMatch("=="),n.Entities.Match.NumberMatch.NOT_EQUALS=new n.Entities.Match.NumberMatch("!="),n.Entities.Match.NumberMatch.GREATER_THAN=new n.Entities.Match.NumberMatch(">"),n.Entities.Match.NumberMatch.GREATER_THAN_OR_EQUAL_TO=new n.Entities.Match.NumberMatch(">="),n.Entities.Match.NumberMatch.LESS_THAN=new n.Entities.Match.NumberMatch("<"),n.Entities.Match.NumberMatch.LESS_THAN_OR_EQUAL_TO=new n.Entities.Match.NumberMatch("<="),n.Entities.Match.StringMatch=function(t){this.type=2,this.symbol=t},n.Entities.Match.StringMatch.EQUALS=new n.Entities.Match.StringMatch("=="),n.Entities.Match.StringMatch.NOT_EQUALS=new n.Entities.Match.StringMatch("!="),n.Entities.Match.StringMatch.CONTAINS=new n.Entities.Match.StringMatch("contains"),n.Entities.Match.StringMatch.STARTS_WITH=new n.Entities.Match.StringMatch("startsWith"),n.Entities.Match.StringMatch.ENDS_WITH=new n.Entities.Match.StringMatch("endsWith"),n.Entities.Match.RoomProperties={},n.Entities.Match.RoomProperties.NAME="${N}",n.Entities.Match.RoomProperties.GROUP_ID="${G}",n.Entities.Match.RoomProperties.MAX_USERS="${MXU}",n.Entities.Match.RoomProperties.MAX_SPECTATORS="${MXS}",n.Entities.Match.RoomProperties.USER_COUNT="${UC}",n.Entities.Match.RoomProperties.SPECTATOR_COUNT="${SC}",n.Entities.Match.RoomProperties.IS_GAME="${ISG}",n.Entities.Match.RoomProperties.IS_PRIVATE="${ISP}",n.Entities.Match.RoomProperties.HAS_FREE_PLAYER_SLOTS="${HFP}",n.Entities.Match.RoomProperties.IS_TYPE_SFSGAME="${IST}",n.Entities.Match.UserProperties={},n.Entities.Match.UserProperties.NAME="${N}",n.Entities.Match.UserProperties.IS_PLAYER="${ISP}",n.Entities.Match.UserProperties.IS_SPECTATOR="${ISS}",n.Entities.Match.UserProperties.IS_NPC="${ISN}",n.Entities.Match.UserProperties.PRIVILEGE_ID="${PRID}",n.Entities.Match.UserProperties.IS_IN_ANY_ROOM="${IAR}",n.Entities.Invitation.SFSInvitation=function(t,e,i,n){this.id=-1,this.inviter=t,this.invitee=e,this.secondsForAnswer=null!=i?i:15,this.params=n},n.Entities.Invitation.InvitationReply={},n.Entities.Invitation.InvitationReply.ACCEPT=0,n.Entities.Invitation.InvitationReply.REFUSE=1,n.Entities.Data.Vec3D=function(t,e,i){this.px=null!=t?t:0,this.py=null!=e?e:0,this.pz=null!=i?i:0},n.Entities.Data.Vec3D.fromArray=function(t){return new n.Entities.Data.Vec3D(t[0],t[1],t[2])},n.Entities.Data.Vec3D.prototype.isFloat=function(){return!(this.px===parseInt(this.px)&&this.py===parseInt(this.py)&&this.pz===parseInt(this.pz))},n.Entities.Data.Vec3D.prototype._toString=function(){return"("+this.px+", "+this.py+", "+this.pz+")"},n.Entities.Data.Vec3D.prototype._toArray=function(){return[this.px,this.py,this.pz]},n.ErrorCodes={},n.ErrorCodes._errorsByCode=["Phi\xean b\u1ea3n c\u1ee7a ng\u01b0\u1eddi d\xf9ng \u0111\xe3 l\u1ed7i th\u1eddi: {0}; Phi\xean b\u1ea3n y\xeau c\u1ea7u: {1}","Y\xeau c\u1ea7u Zone {0} kh\xf4ng t\u1ed3n t\u1ea1i","Ng\u01b0\u1eddi d\xf9ng {0} kh\xf4ng t\u1ed3n t\u1ea1i","Sai m\u1eadt kh\u1ea9u {0}","Ng\u01b0\u1eddi d\xf9ng {0} \u0111\xe3 b\u1ecb x\xf3a","Zone {0} \u0111\xe3 \u0111\u1ea7y","T\xe0i kho\u1ea3n n\xe0y \u0111ang \u0111\u0103ng nh\u1eadp tr\xean thi\u1ebft b\u1ecb kh\xe1c ","Server \u0111\xe3 \u0111\u1ea7y","Zone {0} hi\u1ec7n kh\xf4ng ho\u1ea1t \u0111\u1ed9ng","Ng\u01b0\u1eddi d\xf9ng {0} ch\u1ee9a t\u1eeb nh\u1ea1y c\u1ea3m; L\u1ecdc ra: {1}","Ng\u01b0\u1eddi d\xf9ng kh\xf4ng \u0111\u01b0\u1ee3c ph\xe9p v\xe0o Zone {0}","\u0110\u1ecba ch\u1ec9 {0} \u0111\xe3 b\u1ecb x\xf3a","Room \u0111\xe3 t\u1ed3n t\u1ea1i: {0}","Y\xeau c\u1ea7u Group kh\xf4ng c\xf3 s\u1eb5n - Room: {0}; Group: {1}","Chi\u1ec1u d\xe0i t\xean Room kh\xf4ng h\u1ee3p l\u1ec7 -  Min: {0}; max: {1}; \u0111\xe3 v\u01b0\u1ee3t qua: {2} k\xfd t\u1ef1","T\xean Room ch\u1ee9a t\u1eeb ng\u1eef kh\xf4ng h\u1ee3p l\u1ec7: {0}","Zone \u0111\xe3 \u0111\u1ea7y; Kh\xf4ng th\u1ec3 th\xeam Room Game","B\u1ea1n kh\xf4ng th\u1ec3 t\u1ea1o th\xeam Room cho phi\xean l\xe0n vi\u1ec7c hi\u1ec7n t\u1ea1i: {0}","T\u1ea1o Room kh\xf4ng th\xe0nh c\xf4ng, sai th\xf4ng s\u1ed1: {0}","Ng\u01b0\u1eddi d\xf9ng {0} \u0111\xe3 v\xe0o Room","Room {0} \u0111\xe3 \u0111\u1ea7y","M\u1eadt kh\u1ea9u sai cho Room {0}","Y\xeau c\u1ea7u Room kh\xf4ng t\u1ed3n t\u1ea1i","Room {0} \u0111\xe3 kh\xf3a","Group {0} \u0111\xe3 \u0111\u0103ng \u0111\u01b0\u1ee3c \u0111\u0103ng k\xfd","Group {0} kh\xf4ng t\u1ed3n t\u1ea1i","Group {0} kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u0103ng k\xfd","Group {0} kh\xf4ng t\u1ed3n t\u1ea1i","{0}","L\u1ed7i quy\u1ec1n c\u1ee7a Room; Room {0} kh\xf4ng th\u1ec3 \u0111\u1ed5i t\xean","L\u1ed7i quy\u1ec1n c\u1ee7a Room; Room {0} kh\xf4ng th\u1ec3 thay \u0111\u1ed5i m\u1eadt kh\u1ea9u hi\u1ec7n t\u1ea1i","L\u1ed7i quy\u1ec1n c\u1ee7a Room; Room {0} kh\xf4ng th\u1ec3 thay \u0111\u1ed5i s\u1ee9c ch\u1ee9a","Chuy\u1ec3n l\u1ed7i ng\u01b0\u1eddi d\xf9ng; kh\xf4ng c\xf3 'slot' n\xe0o cho ng\u01b0\u1eddi d\xf9ng trong Room {0}","Chuy\u1ec3n l\u1ed7i ng\u01b0\u1eddi d\xf9ng; Kh\xf4ng c\xf3 kh\xe1n gi\u1ea3 trong Room {0}","Chuy\u1ec3n l\u1ed7i ng\u01b0\u1eddi d\xf9ng; Room {0} kh\xf4ng ph\u1ea3i Game Room","Chuy\u1ec3n h\u01b0\u1edbng ng\u01b0\u1eddi d\xf9ng; B\u1ea1n kh\xf4ng th\u1ec3 tham gia Room {0}","Buddy Manager initialization error, could not load buddy list: {0}","Buddy Manager error, your buddy list is full; size is {0}","Buddy Manager error, was not able to block buddy {0} because offline","Buddy Manager error, you are attempting to set too many Buddy Variables; limit is {0}","Game {0} access denied, user does not match access criteria","QuickJoinGame action failed: no matching Rooms were found","Your previous invitation reply was invalid or arrived too late"],n.ErrorCodes.setErrorMessage=function(t,e){this._errorsByCode[t]=e},n.ErrorCodes.getErrorMessage=function(t,e){return this.stringFormat(this._errorsByCode[t],e)},n.ErrorCodes.stringFormat=function(t,e){if(null==t)return"";if(null!=e)for(var i=0;i<e.length;i++)t=t.replace("{"+i+"}",e[i]);return t},n.EventDispatcher=function(){this.listenersByEvent={}},n.EventDispatcher.prototype.addEventListener=function(t,e,i){null==this.listenersByEvent[t]&&(this.listenersByEvent[t]=[]),this.listenersByEvent[t].push({listener:e,scope:i})},n.EventDispatcher.prototype.removeEventListener=function(t,e){var i=this.listenersByEvent[t];if(null!=i)for(var n=0;n<i.length;n++)if(i[n].listener===e){i.splice(n,1);break}},n.EventDispatcher.prototype.dispatchEvent=function(t,e){var i=this.listenersByEvent[t];if(i&&0<i.length)for(var n=0;n<i.length;n++)i[n].listener.call(i[n].scope,e)},n.EventDispatcher.prototype.getListeners=function(t){return listeners[t]},n.SFSEvent={HANDSHAKE:"handshake",CONNECTION:"connection",CONNECTION_LOST:"connectionLost",CONNECTION_RETRY:"connectionRetry",CONNECTION_RESUME:"connectionResume",LOGIN:"login",LOGIN_ERROR:"loginError",LOGOUT:"logout",ROOM_ADD:"roomAdd",ROOM_CREATION_ERROR:"roomCreationError",ROOM_REMOVE:"roomRemove",ROOM_JOIN:"roomJoin",ROOM_JOIN_ERROR:"roomJoinError",USER_ENTER_ROOM:"userEnterRoom",USER_EXIT_ROOM:"userExitRoom",USER_COUNT_CHANGE:"userCountChange",PROXIMITY_LIST_UPDATE:"proximityListUpdate",PLAYER_TO_SPECTATOR:"playerToSpectator",PLAYER_TO_SPECTATOR_ERROR:"playerToSpectatorError",SPECTATOR_TO_PLAYER:"spectatorToPlayer",SPECTATOR_TO_PLAYER_ERROR:"spectatorToPlayerError",ROOM_NAME_CHANGE:"roomNameChange",ROOM_NAME_CHANGE_ERROR:"roomNameChangeError",ROOM_PASSWORD_STATE_CHANGE:"roomPasswordStateChange",ROOM_PASSWORD_STATE_CHANGE_ERROR:"roomPasswordStateChangeError",ROOM_CAPACITY_CHANGE:"roomCapacityChange",ROOM_CAPACITY_CHANGE_ERROR:"roomCapacityChangeError",PUBLIC_MESSAGE:"publicMessage",PRIVATE_MESSAGE:"privateMessage",OBJECT_MESSAGE:"objectMessage",MODERATOR_MESSAGE:"moderatorMessage",ADMIN_MESSAGE:"adminMessage",EXTENSION_RESPONSE:"extensionResponse",ROOM_VARIABLES_UPDATE:"roomVariablesUpdate",USER_VARIABLES_UPDATE:"userVariablesUpdate",MMOITEM_VARIABLES_UPDATE:"mmoItemVariablesUpdate",ROOM_GROUP_SUBSCRIBE:"roomGroupSubscribe",ROOM_GROUP_SUBSCRIBE_ERROR:"roomGroupSubscribeError",ROOM_GROUP_UNSUBSCRIBE:"roomGroupUnsubscribe",ROOM_GROUP_UNSUBSCRIBE_ERROR:"roomGroupUnsubscribeError",ROOM_FIND_RESULT:"roomFindResult",USER_FIND_RESULT:"userFindResult",INVITATION:"invitation",INVITATION_REPLY:"invitationReply",INVITATION_REPLY_ERROR:"invitationReplyError",PING_PONG:"pingPong",SOCKET_ERROR:"socketError"},n.SFSBuddyEvent={BUDDY_LIST_INIT:"buddyListInit",BUDDY_ADD:"buddyAdd",BUDDY_REMOVE:"buddyRemove",BUDDY_BLOCK:"buddyBlock",BUDDY_ERROR:"buddyError",BUDDY_ONLINE_STATE_CHANGE:"buddyOnlineStateChange",BUDDY_VARIABLES_UPDATE:"buddyVariablesUpdate",BUDDY_MESSAGE:"buddyMessage"},n.Exceptions={},n.Exceptions.SFSError=r.Class.extend({init:function(t){this._messsage=t},getMessage:function(){return this._messsage}}),n.Exceptions.SFSValidationError=n.Exceptions.SFSError.extend({init:function(t,e){this._super(t),this._errrors=e},getErrors:function(){return this._errrors}}),n.LogLevel={DEBUG:0,INFO:1,WARN:2,ERROR:3},n._Logger=function(){this.isAvailable=void 0!=console,this.level=n.LogLevel.INFO},n.Logger=new n._Logger,n._Logger.prototype.setLevel=function(t){t<n.LogLevel.DEBUG||t>n.LogLevel.ERROR||(this.level=t)},n._Logger.prototype.debug=function(t){this.isAvailable&&this.level<=n.LogLevel.DEBUG&&console.log("[DEBUG] "+t)},n._Logger.prototype.info=function(t){this.isAvailable&&this.level<=n.LogLevel.INFO&&console.log("[INFO] "+t)},n._Logger.prototype.warn=function(t){this.isAvailable&&this.level<=n.LogLevel.WARN&&console.log("[WARN] "+t)},n._Logger.prototype.error=function(t){this.isAvailable&&console.log("[ERROR] "+t)},n.Managers={},n.Managers.UserManager=r.Class.extend({init:function(t){this._sfs=t,this._usersById=new n.Utils.HashTable,this._usersByName=new n.Utils.HashTable},containsUserName:function(t){return this._usersByName.hasItem(t)},containsUserId:function(t){return this._usersById.hasItem(t)},containsUser:function(t){return this._usersById.hasItem(t.id)},getUserById:function(t){return this._usersById.getItem(t)},getUserByName:function(t){return this._usersByName.getItem(t)},getUserCount:function(){return this._usersById.length},getUserList:function(){return this._usersById.values()},_addUser:function(t){this._usersById.hasItem(t.id)&&n.Logger.warn("Unexpected, duplicate user in UserManager: "+t.toString()),this.__addUser(t)},__addUser:function(t){this._usersByName.setItem(t.name,t),this._usersById.setItem(t.id,t)},_removeUser:function(t){this.__removeUser(t)},__removeUser:function(t){this._usersById.removeItem(t.id),this._usersByName.removeItem(t.name)},_removeUserById:function(){this._usersById.removeItem(user.id),this._usersByName.removeItem(user.name)},_clearAll:function(){this._usersById.clear(),this._usersByName.clear()}}),n.Managers.GlobalUserManager=n.Managers.UserManager.extend({init:function(t){this._super(t),this._roomRefCount=[]},_addUser:function(t){null==this._roomRefCount[t]?this._roomRefCount[t]=1:this._roomRefCount[t]++,this.__addUser(t)},_removeUser:function(t){null!=this._roomRefCount?1>this._roomRefCount[t]?n.Logger.warn("GlobalUserManager RefCount is already at zero. User: "+t):(this._roomRefCount[t]--,0==this._roomRefCount[t]&&(this.__removeUser(t),delete this._roomRefCount[t])):n.Logger.warn("Can't remove User from GlobalUserManager. RefCount missing. User: "+t)},dumpRefCount:function(){}}),n.Managers.RoomManager=function(t){this._sfs=t,this._ownerZone=null,this._groups=[],this._roomsById=new n.Utils.HashTable,this._roomsByName=new n.Utils.HashTable},n.Managers.RoomManager.prototype.getRoomGroups=function(){return this._groups},n.Managers.RoomManager.prototype.containsGroup=function(t){return-1<this._groups.indexOf(t)},n.Managers.RoomManager.prototype.containsRoom=function(t){return"number"==typeof t?this._roomsById.hasItem(t):this._roomsByName.hasItem(t)},n.Managers.RoomManager.prototype.containsRoomInGroup=function(t,e){var i,o=this.getRoomListFromGroup(e),s=!1,a="number"==typeof t;for(i in o){var r=o[i];if(r instanceof n.Entities.SFSRoom)if(a){if(r.id==t){s=!0;break}}else if(r.name==t){s=!0;break}}return s},n.Managers.RoomManager.prototype.getRoomById=function(t){return this._roomsById.getItem(t)},n.Managers.RoomManager.prototype.getRoomByName=function(t){return this._roomsByName.getItem(t)},n.Managers.RoomManager.prototype.getRoomList=function(){return this._roomsById.values()},n.Managers.RoomManager.prototype.getRoomCount=function(){return this._roomsById.length},n.Managers.RoomManager.prototype.getRoomListFromGroup=function(t){var e,i=[];for(e in this._roomsById.items){var o=this._roomsById.items[e];o instanceof n.Entities.SFSRoom&&o.groupId==t&&i.push(o)}return i},n.Managers.RoomManager.prototype.getJoinedRooms=function(){var t,e=[];for(t in this._roomsById.items){var i=this._roomsById.items[t];i instanceof n.Entities.SFSRoom&&i.isJoined&&e.push(i)}return e},n.Managers.RoomManager.prototype.getUserRooms=function(t){var e,i=[];for(e in this._roomsById.items){var o=this._roomsById.items[e];o instanceof n.Entities.SFSRoom&&o.containsUser(t)&&i.push(o)}return i},n.Managers.RoomManager.prototype._addRoom=function(t,e){null==e&&(e=!0),this._roomsById.setItem(t.id,t),this._roomsByName.setItem(t.name,t),e?this.containsGroup(t.groupId)||this._addGroup(t.groupId):t._isManaged=!1},n.Managers.RoomManager.prototype._replaceRoom=function(t,e){null==e&&(e=!0);var i=this.getRoomById(t.id);return null!=i?(i._merge(t),i):(this._addRoom(t,e),t)},n.Managers.RoomManager.prototype._removeRoom=function(t){this._roomsById.removeItem(t.id),this._roomsByName.removeItem(t.name)},n.Managers.RoomManager.prototype._removeRoomById=function(t){null!=(t=this.getRoomById(t))&&this._removeRoom(t)},n.Managers.RoomManager.prototype._removeRoomByName=function(t){null!=(t=this.getRoomByName(t))&&this._removeRoom(t)},n.Managers.RoomManager.prototype._changeRoomName=function(t,e){var i=t.name;t.name=e,this._roomsByName.setItem(e,t),this._roomsByName.removeItem(i)},n.Managers.RoomManager.prototype._changeRoomPasswordState=function(t,e){t.isPasswordProtected=e},n.Managers.RoomManager.prototype._changeRoomCapacity=function(t,e,i){t.maxUsers=e,t.maxSpectators=i},n.Managers.RoomManager.prototype._addGroup=function(t){this._groups.push(t)},n.Managers.RoomManager.prototype._removeGroup=function(t){n.Utils.ArrayUtil.removeItem(this._groups,t);var e;t=this.getRoomListFromGroup(t);for(e in t){var i=t[e];i instanceof n.Entities.SFSRoom&&(i.isJoined?i._isManaged=!1:this._removeRoom(i))}},n.Managers.RoomManager.prototype._removeUser=function(t){for(var e in this._roomsById.items){var i=this._roomsById.items[e];i instanceof n.Entities.SFSRoom&&i.containsUser(t)&&i._removeUser(t)}},n.Managers.BuddyManager=function(t){this._sfs=t,this._buddiesByName=[],this._myVariables=[],this._inited=!1,this._buddyStates=[]},n.Managers.BuddyManager.prototype.isInited=function(){return this._inited},n.Managers.BuddyManager.prototype.containsBuddy=function(t){return null!=this.getBuddyByName(t)},n.Managers.BuddyManager.prototype.getBuddyById=function(t){if(-1<t)for(var e in this._buddiesByName){var i=this._buddiesByName[e];if(i instanceof n.Entities.SFSBuddy&&i.id==t)return i}return null},n.Managers.BuddyManager.prototype.getBuddyByName=function(t){return this._buddiesByName[t]},n.Managers.BuddyManager.prototype.getBuddyByNickName=function(t){for(var e in this._buddiesByName){var i=this._buddiesByName[e];if(i instanceof n.Entities.SFSBuddy&&i.nickName==t)return i}return null},n.Managers.BuddyManager.prototype.getOfflineBuddies=function(){var t,e=[];for(t in this._buddiesByName){var i=this._buddiesByName[t];i instanceof n.Entities.SFSBuddy&&!i.isOnline()&&e.push(i)}return e},n.Managers.BuddyManager.prototype.getOnlineBuddies=function(){var t,e=[];for(t in this._buddiesByName){var i=this._buddiesByName[t];i instanceof n.Entities.SFSBuddy&&i.isOnline()&&e.push(i)}return e},n.Managers.BuddyManager.prototype.getBuddyList=function(){return n.Utils.ArrayUtil.objToArray(this._buddiesByName)},n.Managers.BuddyManager.prototype.getMyVariable=function(t){return this._myVariables[t]},n.Managers.BuddyManager.prototype.getMyVariables=function(){return n.Utils.ArrayUtil.objToArray(this._myVariables)},n.Managers.BuddyManager.prototype.getMyOnlineState=function(){if(!this._inited)return!1;var t=!0,e=this.getMyVariable(n.Entities.Variables.ReservedBuddyVariables.BV_ONLINE);return null!=e&&(t=e.value),t},n.Managers.BuddyManager.prototype.getMyNickName=function(){var t=this.getMyVariable(n.Entities.Variables.ReservedBuddyVariables.BV_NICKNAME);return null!=t?t.value:null},n.Managers.BuddyManager.prototype.getMyState=function(){var t=this.getMyVariable(n.Entities.Variables.ReservedBuddyVariables.BV_STATE);return null!=t?t.value:null},n.Managers.BuddyManager.prototype.getBuddyStates=function(){return this._buddyStates},n.Managers.BuddyManager.prototype._setInited=function(){this._inited=!0},n.Managers.BuddyManager.prototype._addBuddy=function(t){this._buddiesByName[t.name]=t},n.Managers.BuddyManager.prototype._clearAll=function(){this._buddiesByName=[]},n.Managers.BuddyManager.prototype._removeBuddyById=function(t){return null!=(t=this.getBuddyById(t))&&delete this._buddiesByName[t.name],t},n.Managers.BuddyManager.prototype._removeBuddyByName=function(t){var e=this.getBuddyByName(t);return null!=e&&delete this._buddiesByName[t],e},n.Managers.BuddyManager.prototype._setMyVariables=function(t){for(var e=0;e<t.length;e++)this._setMyVariable(t[e])},n.Managers.BuddyManager.prototype._setMyVariable=function(t){t.isNull()?delete this._myVariables[t.name]:this._myVariables[t.name]=t},n.Managers.BuddyManager.prototype._setMyOnlineState=function(t){t=new n.Entities.Variables.SFSBuddyVariable(n.Entities.Variables.ReservedBuddyVariables.BV_ONLINE,t),this._setMyVariable(t)},n.Managers.BuddyManager.prototype._setMyNickName=function(t){t=new n.Entities.Variables.SFSBuddyVariable(n.Entities.Variables.ReservedBuddyVariables.BV_NICKNAME,t),this._setMyVariable(t)},n.Managers.BuddyManager.prototype._setMyState=function(t){t=new n.Entities.Variables.SFSBuddyVariable(n.Entities.Variables.ReservedBuddyVariables.BV_STATE,t),this._setMyVariable(t)},n.Managers.BuddyManager.prototype._setBuddyStates=function(t){this._buddyStates=t},n.Requests={},n.Requests.System={},n.Requests.MMO={},n.Requests.BuddyList={},n.Requests.Game={},n.Requests._BaseRequest=r.Class.extend({init:function(t){this._reqObj={},this._id=t,this._targetController=0,this._log=n.Logger},getMessage:function(){return{a:this._id,c:this._targetController,p:this._reqObj}},validate:function(){this._log.error("BaseRequest.validate = no child-class implementation found!")},execute:function(){this._log.error("BaseRequest.execute = no child-class implementation found!")}}),n.Requests.System.HandshakeRequest=n.Requests._BaseRequest.extend({init:function(t,e,i){this._super(n.Requests.Handshake),this._apiVersion=t,this._clientDetails=e,this._reconnectionToken=i},validate:function(){},execute:function(){this._reqObj[this.constructor.KEY_API]=this._apiVersion,this._reqObj[this.constructor.KEY_CLIENT_TYPE]=this._clientDetails,null!=this._reconnectionToken&&(this.reqObj[this.constructor.KEY_RECONNECTION_TOKEN]=this._reconnectionToken)}}),n.Requests.System.HandshakeRequest.KEY_SESSION_TOKEN="tk",n.Requests.System.HandshakeRequest.KEY_API="api",n.Requests.System.HandshakeRequest.KEY_COMPRESSION_THRESHOLD="ct",n.Requests.System.HandshakeRequest.KEY_RECONNECTION_TOKEN="rt",n.Requests.System.HandshakeRequest.KEY_CLIENT_TYPE="cl",n.Requests.System.HandshakeRequest.KEY_MAX_MESSAGE_SIZE="ms",n.Requests.System.LoginRequest=n.Requests._BaseRequest.extend({init:function(t,e,i,o){this._super(n.Requests.Login),this._userName=t,this._password=e,this._params=i,this._zoneName=o},validate:function(t){if(null!=t.mySelf)throw new n.Exceptions.SFSValidationError("LoginRequest error",["You are already logged in; logout before attempting a new login"]);if(t=null!=t.config&&null!=t.config.zone?t.config.zone:null,null!=this._zoneName&&(t=this._zoneName),null==t||0==t.length)throw new n.Exceptions.SFSValidationError("LoginRequest Error",["Missing Zone name"]);this._zoneName=t,null==this._userName&&(this._userName=""),null==this._password&&(this._password="")},execute:function(t){this._reqObj[this.constructor.KEY_ZONE_NAME]=this._zoneName,this._reqObj[this.constructor.KEY_USER_NAME]=this._userName,this._reqObj[this.constructor.KEY_PASSWORD]=0<this._password.length?l(t.sessionToken+this._password):"",null!=this._params&&(this._reqObj[this.constructor.KEY_PARAMS]=this._params)}}),n.Requests.System.LoginRequest.KEY_ZONE_NAME="zn",n.Requests.System.LoginRequest.KEY_USER_NAME="un",n.Requests.System.LoginRequest.KEY_PASSWORD="pw",n.Requests.System.LoginRequest.KEY_PARAMS="p",n.Requests.System.LoginRequest.KEY_PRIVILEGE_ID="pi",n.Requests.System.LoginRequest.KEY_ID="id",n.Requests.System.LoginRequest.KEY_ROOMLIST="rl",n.Requests.System.LoginRequest.KEY_RECONNECTION_SECONDS="rs",n.Requests.System.LogoutRequest=n.Requests._BaseRequest.extend({init:function(){this._super(n.Requests.Logout)},validate:function(t){if(null==t.mySelf)throw new n.Exceptions.SFSValidationError("LogoutRequest error",["You are not logged in"])},execute:function(){}}),n.Requests.System.LogoutRequest.KEY_ZONE_NAME="zn",n.Requests.System.JoinRoomRequest=n.Requests._BaseRequest.extend({init:function(t,e,i,o){this._super(n.Requests.JoinRoom),"string"==typeof t?this._rName=t:"number"==typeof t?this._rId=t:t instanceof n.Entities.SFSRoom&&(this._rId=t.id,this._rName=t.name),this._password=e,this._roomIdToLeave=i,this._asSpectator="boolean"==typeof o&&o},validate:function(){if(null==this._rId&&null==this._rName)throw new n.Exceptions.SFSValidationError("JoinRoomRequest Error",["Missing Room id or name, please provide one of the two or an existing Room object"])},execute:function(t){t._isJoining=!0,0<=this._rId?this._reqObj[this.constructor.KEY_ROOM_ID]=this._rId:null!=this._rName&&(this._reqObj[this.constructor.KEY_ROOM_NAME]=this._rName),null!=this._password&&(this._reqObj[this.constructor.KEY_PASS]=this._password),null!=this._roomIdToLeave&&(this._reqObj[this.constructor.KEY_ROOM_TO_LEAVE]=this._roomIdToLeave),this._asSpectator&&(this._reqObj[this.constructor.KEY_AS_SPECTATOR]=this._asSpectator)}}),n.Requests.System.JoinRoomRequest.KEY_ROOM="r",n.Requests.System.JoinRoomRequest.KEY_USER_LIST="ul",n.Requests.System.JoinRoomRequest.KEY_ROOM_NAME="n",n.Requests.System.JoinRoomRequest.KEY_ROOM_ID="i",n.Requests.System.JoinRoomRequest.KEY_PASS="p",n.Requests.System.JoinRoomRequest.KEY_ROOM_TO_LEAVE="rl",n.Requests.System.JoinRoomRequest.KEY_AS_SPECTATOR="sp",n.Requests.System.CreateRoomRequest=n.Requests._BaseRequest.extend({init:function(t,e,i){this._super(n.Requests.CreateRoom),this._settings=t,this._autoJoin="boolean"==typeof e&&e,this._roomToLeave=i},validate:function(){var t=[];if((null==this._settings.name||0==this._settings.name.length)&&t.push("Missing Room name"),0>=this._settings.maxUsers&&t.push("Max number of users must be > 0"),null!=this._settings.extension&&((null==this._settings.extension.className||0==this._settings.extension.className.length)&&t.push("Missing Extension class name"),(null==this._settings.extension.id||0==this._settings.extension.id.length)&&t.push("Missing Extension id")),this._settings instanceof n.Requests.MMO.MMORoomSettings&&(null==this._settings.defaultAOI&&t.push("Missing default AoI (Area of Interest)"),null!=this._settings.mapLimits&&(null==this._settings.mapLimits.lowerLimit||null==this._settings.mapLimits.higherLimit)&&t.push("Map limits must be both defined")),0<t.length)throw new n.Exceptions.SFSValidationError("CreateRoomRequest Error",t)},execute:function(){if(this._reqObj[this.constructor.KEY_NAME]=this._settings.name,this._reqObj[this.constructor.KEY_GROUP_ID]=this._settings.groupId,this._reqObj[this.constructor.KEY_PASSWORD]=this._settings.password,this._reqObj[this.constructor.KEY_ISGAME]=this._settings.isGame,this._reqObj[this.constructor.KEY_MAXUSERS]=this._settings.maxUsers,this._reqObj[this.constructor.KEY_MAXSPECTATORS]=this._settings.maxSpectators,this._reqObj[this.constructor.KEY_MAXVARS]=this._settings.maxVariables,null!=this._settings.variables&&0<this._settings.variables.length){var t,e=[];for(t in this._settings.variables){var i=this._settings.variables[t];i instanceof n.Entities.Variables.SFSRoomVariable&&e.push(i.toArray())}this._reqObj[this.constructor.KEY_ROOMVARS]=e}null!=this._settings.permissions&&((e=[]).push(this._settings.permissions.allowNameChange),e.push(this._settings.permissions.allowPasswordStateChange),e.push(this._settings.permissions.allowPublicMessages),e.push(this._settings.permissions.allowResizing),this._reqObj[this.constructor.KEY_PERMISSIONS]=e),null!=this._settings.events&&((e=[]).push(this._settings.events.allowUserEnter),e.push(this._settings.events.allowUserExit),e.push(this._settings.events.allowUserCountChange),e.push(this._settings.events.allowUserVariablesUpdate),this._reqObj[this.constructor.KEY_EVENTS]=e),null!=this._settings.extension&&(this._reqObj[this.constructor.KEY_EXTID]=this._settings.extension.id,this._reqObj[this.constructor.KEY_EXTCLASS]=this._settings.extension.className,null!=this._settings.extension.propertiesFile&&0<this._settings.extension.propertiesFile.length&&(this._reqObj[this.constructor.KEY_EXTPROP]=this._settings.extension.propertiesFile)),this._settings instanceof n.Requests.MMO.MMORoomSettings&&(this._reqObj[this.constructor.KEY_MMO_DEFAULT_AOI]=this._settings.defaultAOI._toArray(),null!=this._settings.mapLimits&&(this._reqObj[this.constructor.KEY_MMO_MAP_LOW_LIMIT]=this._settings.mapLimits.lowerLimit._toArray(),this._reqObj[this.constructor.KEY_MMO_MAP_HIGH_LIMIT]=this._settings.mapLimits.higherLimit._toArray()),this._reqObj[this.constructor.KEY_MMO_USER_MAX_LIMBO_SECONDS]=this._settings.userMaxLimboSeconds,this._reqObj[this.constructor.KEY_MMO_PROXIMITY_UPDATE_MILLIS]=this._settings.proximityListUpdateMillis,this._reqObj[this.constructor.KEY_MMO_SEND_ENTRY_POINT]=this._settings.sendAOIEntryPoint),this._reqObj[this.constructor.KEY_AUTOJOIN]=this._autoJoin,null!=this._roomToLeave&&(this._reqObj[this.constructor.KEY_ROOM_TO_LEAVE]=this._roomToLeave.id)}}),n.Requests.System.CreateRoomRequest.KEY_ROOM="r",n.Requests.System.CreateRoomRequest.KEY_NAME="n",n.Requests.System.CreateRoomRequest.KEY_PASSWORD="p",n.Requests.System.CreateRoomRequest.KEY_GROUP_ID="g",n.Requests.System.CreateRoomRequest.KEY_ISGAME="ig",n.Requests.System.CreateRoomRequest.KEY_MAXUSERS="mu",n.Requests.System.CreateRoomRequest.KEY_MAXSPECTATORS="ms",n.Requests.System.CreateRoomRequest.KEY_MAXVARS="mv",n.Requests.System.CreateRoomRequest.KEY_ROOMVARS="rv",n.Requests.System.CreateRoomRequest.KEY_PERMISSIONS="pm",n.Requests.System.CreateRoomRequest.KEY_EVENTS="ev",n.Requests.System.CreateRoomRequest.KEY_EXTID="xn",n.Requests.System.CreateRoomRequest.KEY_EXTCLASS="xc",n.Requests.System.CreateRoomRequest.KEY_EXTPROP="xp",n.Requests.System.CreateRoomRequest.KEY_AUTOJOIN="aj",n.Requests.System.CreateRoomRequest.KEY_ROOM_TO_LEAVE="rl",n.Requests.System.CreateRoomRequest.KEY_MMO_DEFAULT_AOI="maoi",n.Requests.System.CreateRoomRequest.KEY_MMO_MAP_LOW_LIMIT="mllm",n.Requests.System.CreateRoomRequest.KEY_MMO_MAP_HIGH_LIMIT="mlhm",n.Requests.System.CreateRoomRequest.KEY_MMO_USER_MAX_LIMBO_SECONDS="muls",n.Requests.System.CreateRoomRequest.KEY_MMO_PROXIMITY_UPDATE_MILLIS="mpum",n.Requests.System.CreateRoomRequest.KEY_MMO_SEND_ENTRY_POINT="msep",n.Requests.System.GenericMessageRequest=n.Requests._BaseRequest.extend({init:function(){this._super(n.Requests.GenericMessage),this._type=-1,this._recipient=this._params=this._message=this._user=this._room=null,this._sendMode=-1},validate:function(t){if(0>this._type)throw new n.Exceptions.SFSValidationError("GenericMessageRequest Error",["Unsupported message type: "+this._type]);var e=[];switch(this._type){case n.Requests.GenericMessageType.PUBLIC_MSG:this._validatePublicMessage(t,e);break;case n.Requests.GenericMessageType.PRIVATE_MSG:this._validatePrivateMessage(t,e);break;case n.Requests.GenericMessageType.OBJECT_MSG:this._validateObjectMessage(t,e);break;case n.Requests.GenericMessageType.BUDDY_MSG:this._validateBuddyMessage(t,e);break;default:this._validateSuperUserMessage(t,e)}if(0<e.length)throw new n.Exceptions.SFSValidationError("GenericMessageRequest Error",e)},execute:function(t){switch(this._reqObj[n.Requests.System.GenericMessageRequest.KEY_MESSAGE_TYPE]=this._type,this._type){case n.Requests.GenericMessageType.PUBLIC_MSG:this._executePublicMessage(t);break;case n.Requests.GenericMessageType.PRIVATE_MSG:this._executePrivateMessage(t);break;case n.Requests.GenericMessageType.OBJECT_MSG:this._executeObjectMessage(t);break;case n.Requests.GenericMessageType.BUDDY_MSG:this._executeBuddyMessage(t);break;default:this._executeSuperUserMessage(t)}},_validatePublicMessage:function(t,e){(null==this._message||0==this._message.length)&&e.push("Public message is empty"),null!=this._room&&!t.mySelf.isJoinedInRoom(this._room)&&e.push("You are not joined in the target Room: "+this._room)},_validatePrivateMessage:function(t,e){(null==this._message||0==this._message.length)&&e.push("Private message is empty"),0>this._recipient&&e.push("Invalid recipient id: "+this._recipient)},_validateObjectMessage:function(t,e){null==this._params&&e.push("Object message is null")},_validateBuddyMessage:function(t,e){t.buddyManager.isInited||e.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),0==t.buddyManager.myOnlineState&&e.push("Can't send messages while you are offline in the Buddy List system"),(null==this._message||0==this._message.length)&&e.push("Buddy message is empty"),0>this._recipient&&e.push("Recipient is offline or not in your Buddy List")},_validateSuperUserMessage:function(t,e){switch((null==this._message||0==this._message.length)&&e.push("Moderator message is empty"),this._sendMode){case n.Requests.MessageRecipientMode.TO_USER:this._recipient instanceof n.Entities.SFSUser||e.push("SFSUser object expected as recipient");break;case n.Requests.MessageRecipientMode.TO_ROOM:this._recipient instanceof n.Entities.SFSRoom||e.push("SFSRoom object expected as recipient");break;case n.Requests.MessageRecipientMode.TO_GROUP:"string"!=typeof this._recipient&&e.push("String object (the groupId) expected as recipient")}},_executePublicMessage:function(t){if(null==this._room&&(this._room=t.lastJoinedRoom),null==this._room)throw new n.Exceptions.SFSError("User should be joined in a Room in order to send a public message");this._reqObj[n.Requests.System.GenericMessageRequest.KEY_ROOM_ID]=this._room.id,this._reqObj[n.Requests.System.GenericMessageRequest.KEY_USER_ID]=t.mySelf.id,this._reqObj[n.Requests.System.GenericMessageRequest.KEY_MESSAGE]=this._message,null!=this._params&&(this._reqObj[n.Requests.System.GenericMessageRequest.KEY_XTRA_PARAMS]=this._params)},_executePrivateMessage:function(){this._reqObj[n.Requests.System.GenericMessageRequest.KEY_RECIPIENT]=this._recipient,this._reqObj[n.Requests.System.GenericMessageRequest.KEY_MESSAGE]=this._message,null!=this._params&&(this._reqObj[n.Requests.System.GenericMessageRequest.KEY_XTRA_PARAMS]=this._params)},_executeBuddyMessage:function(){this._reqObj[n.Requests.System.GenericMessageRequest.KEY_RECIPIENT]=this._recipient,this._reqObj[n.Requests.System.GenericMessageRequest.KEY_MESSAGE]=this._message,null!=this._params&&(this._reqObj[n.Requests.System.GenericMessageRequest.KEY_XTRA_PARAMS]=this._params)},_executeSuperUserMessage:function(){switch(this._reqObj[n.Requests.System.GenericMessageRequest.KEY_MESSAGE]=this._message,null!=this._params&&(this._reqObj[n.Requests.System.GenericMessageRequest.KEY_XTRA_PARAMS]=this._params),this._reqObj[n.Requests.System.GenericMessageRequest.KEY_RECIPIENT_MODE]=this._sendMode,this._sendMode){case n.Requests.MessageRecipientMode.TO_USER:case n.Requests.MessageRecipientMode.TO_ROOM:this._reqObj[n.Requests.System.GenericMessageRequest.KEY_RECIPIENT]=this._recipient.id;break;case n.Requests.MessageRecipientMode.TO_GROUP:this._reqObj[n.Requests.System.GenericMessageRequest.KEY_RECIPIENT]=this._recipient}},_executeObjectMessage:function(t){if(null==this._room&&(this._room=t.lastJoinedRoom),null==this._room)throw new n.Exceptions.SFSError("User should be joined in a Room in order to send an object message");if(t=[],null!=this._recipient&&this._recipient instanceof Array){var e=this._recipient;if(e.length>this._room.capacity)throw new n.Exceptions.SFSError("The number of recipients is bigger than the target Room capacity: "+e.length);for(var i in e){var o=e[i];o instanceof n.Entities.SFSUser?t.push(o.id):this._log.warn("Bad recipient in ObjectMessage recipient list: "+(void 0===o?"undefined":a(o))+"; expected type: SFSUser")}}this._reqObj[n.Requests.System.GenericMessageRequest.KEY_ROOM_ID]=this._room.id,this._reqObj[n.Requests.System.GenericMessageRequest.KEY_XTRA_PARAMS]=this._params,0<t.length&&(this._reqObj[n.Requests.System.GenericMessageRequest.KEY_RECIPIENT]=t)}}),n.Requests.System.GenericMessageRequest.KEY_ROOM_ID="r",n.Requests.System.GenericMessageRequest.KEY_USER_ID="u",n.Requests.System.GenericMessageRequest.KEY_MESSAGE="m",n.Requests.System.GenericMessageRequest.KEY_MESSAGE_TYPE="t",n.Requests.System.GenericMessageRequest.KEY_RECIPIENT="rc",n.Requests.System.GenericMessageRequest.KEY_RECIPIENT_MODE="rm",n.Requests.System.GenericMessageRequest.KEY_XTRA_PARAMS="p",n.Requests.System.GenericMessageRequest.KEY_SENDER_DATA="sd",n.Requests.System.ChangeRoomNameRequest=n.Requests._BaseRequest.extend({init:function(t,e){this._super(n.Requests.ChangeRoomName),this._room=t,this._newName=e},validate:function(){var t=[];if(null==this._room&&t.push("Provided Room is null"),(null==this._newName||0==this._newName.length)&&t.push("Invalid new room name: it must be a non-null and non-empty string"),0<t.length)throw new n.Exceptions.SFSValidationError("ChangeRoomNameRequest Error",t)},execute:function(){this._reqObj[this.constructor.KEY_ROOM]=this._room.id,this._reqObj[this.constructor.KEY_NAME]=this._newName}}),n.Requests.System.ChangeRoomNameRequest.KEY_ROOM="r",n.Requests.System.ChangeRoomNameRequest.KEY_NAME="n",n.Requests.System.ChangeRoomPasswordStateRequest=n.Requests._BaseRequest.extend({init:function(t,e){this._super(n.Requests.ChangeRoomPassword),this._room=t,this._newPass=e},validate:function(){var t=[];if(null==this._room&&t.push("Provided Room is null"),null==this._newPass&&t.push("Invalid new room name: it must be a non-null string"),0<t.length)throw new n.Exceptions.SFSValidationError("ChangeRoomPasswordStateRequest Error",t)},execute:function(){this._reqObj[this.constructor.KEY_ROOM]=this._room.id,this._reqObj[this.constructor.KEY_PASS]=this._newPass}}),n.Requests.System.ChangeRoomPasswordStateRequest.KEY_ROOM="r",n.Requests.System.ChangeRoomPasswordStateRequest.KEY_PASS="p",n.Requests.System.ObjectMessageRequest=n.Requests.System.GenericMessageRequest.extend({init:function(t,e,i){this._super(),this._type=n.Requests.GenericMessageType.OBJECT_MSG,this._params=t,this._room=e,this._recipient=i}}),n.Requests.System.SetRoomVariablesRequest=n.Requests._BaseRequest.extend({init:function(t,e){this._super(n.Requests.SetRoomVariables),this._roomVariables=t,this._room=e},validate:function(t){var e=[];if(null!=this._room?this._room.containsUser(t.mySelf)||e.push("You are not joined in the target Room"):null==t.lastJoinedRoom&&e.push("You are not joined in any Room"),(null==this._roomVariables||0==this._roomVariables.length)&&e.push("No variables were specified"),0<e.length)throw new n.Exceptions.SFSValidationError("SetRoomVariablesRequest Error",e)},execute:function(t){var e,i=[];for(e in this._roomVariables){var o=this._roomVariables[e];o instanceof n.Entities.Variables.SFSRoomVariable&&i.push(o.toArray())}null==this._room&&(this._room=t.lastJoinedRoom),this._reqObj[this.constructor.KEY_VAR_LIST]=i,this._reqObj[this.constructor.KEY_VAR_ROOM]=this._room.id}}),n.Requests.System.SetRoomVariablesRequest.KEY_VAR_ROOM="r",n.Requests.System.SetRoomVariablesRequest.KEY_VAR_LIST="vl",n.Requests.System.SetUserVariablesRequest=n.Requests._BaseRequest.extend({init:function(t){this._super(n.Requests.SetUserVariables),this._userVariables=t},validate:function(){var t=[];if((null==this._userVariables||0==this._userVariables.length)&&t.push("No variables were specified"),0<t.length)throw new n.Exceptions.SFSValidationError("SetUserVariablesRequest Error",t)},execute:function(){var t,e=[];for(t in this._userVariables){var i=this._userVariables[t];i instanceof n.Entities.Variables.SFSUserVariable&&e.push(i.toArray())}this._reqObj[this.constructor.KEY_VAR_LIST]=e}}),n.Requests.System.SetUserVariablesRequest.KEY_USER="u",n.Requests.System.SetUserVariablesRequest.KEY_VAR_LIST="vl",n.Requests.System.ExtensionRequest=n.Requests._BaseRequest.extend({init:function(t,e,i){this._super(n.Requests.CallExtension),this._targetController=1,this._extCmd=t,this._params=e,this._room=i,null==this._params&&(this._params={})},validate:function(){var t=[];if((null==this._extCmd||0==this._extCmd.length)&&t.push("Missing extension command"),0<t.length)throw new n.Exceptions.SFSValidationError("ExtensionRequest Error",t)},execute:function(){this._reqObj[this.constructor.KEY_CMD]=this._extCmd,this._reqObj[this.constructor.KEY_ROOM]=null==this._room?-1:this._room.id,this._reqObj[this.constructor.KEY_PARAMS]=this._params}}),n.Requests.System.ExtensionRequest.KEY_CMD="c",n.Requests.System.ExtensionRequest.KEY_PARAMS="p",n.Requests.System.ExtensionRequest.KEY_ROOM="r",n.Requests.System.LeaveRoomRequest=n.Requests._BaseRequest.extend({init:function(t){this._super(n.Requests.LeaveRoom),this._room=t},validate:function(t){if(1>t.getJoinedRooms().length)throw new n.Exceptions.SFSValidationError("LeaveRoomRequest Error",["You are not joined in any room"])},execute:function(){null!=this._room&&(this._reqObj[this.constructor.KEY_ROOM_ID]=this._room.id)}}),n.Requests.System.LeaveRoomRequest.KEY_ROOM_ID="r",n.Requests.System.SubscribeRoomGroupRequest=n.Requests._BaseRequest.extend({init:function(t){this._super(n.Requests.SubscribeRoomGroup),this._groupId=t},validate:function(){var t=[];if((null==this._groupId||0==this._groupId.length)&&t.push("Invalid group id passed; must be a string with at least one character"),0<t.length)throw new n.Exceptions.SFSValidationError("SubscribeGroupRequest Error",t)},execute:function(){this._reqObj[this.constructor.KEY_GROUP_ID]=this._groupId}}),n.Requests.System.SubscribeRoomGroupRequest.KEY_GROUP_ID="g",n.Requests.System.SubscribeRoomGroupRequest.KEY_ROOM_LIST="rl",n.Requests.System.UnsubscribeRoomGroupRequest=n.Requests._BaseRequest.extend({init:function(t){this._super(n.Requests.UnsubscribeRoomGroup),this._groupId=t},validate:function(){var t=[];if((null==this._groupId||0==this._groupId.length)&&t.push("Invalid group id passed; must be a string with at least one character"),0<t.length)throw new n.Exceptions.SFSValidationError("UnsubscribeGroupRequest Error",t)},execute:function(){this._reqObj[this.constructor.KEY_GROUP_ID]=this._groupId}}),n.Requests.System.UnsubscribeRoomGroupRequest.KEY_GROUP_ID="g",n.Requests.System.SpectatorToPlayerRequest=n.Requests._BaseRequest.extend({init:function(t){this._super(n.Requests.SpectatorToPlayer),this._room=t},validate:function(t){if(1>t.getJoinedRooms().length)throw new n.Exceptions.SFSValidationError("SpectatorToPlayerRequest Error",["You are not joined in any room"])},execute:function(t){null==this._room&&(this._room=t.lastJoinedRoom),this._reqObj[this.constructor.KEY_ROOM_ID]=this._room.id}}),n.Requests.System.SpectatorToPlayerRequest.KEY_ROOM_ID="r",n.Requests.System.SpectatorToPlayerRequest.KEY_USER_ID="u",n.Requests.System.SpectatorToPlayerRequest.KEY_PLAYER_ID="p",n.Requests.System.PlayerToSpectatorRequest=n.Requests._BaseRequest.extend({init:function(t){this._super(n.Requests.PlayerToSpectator),this._room=t},validate:function(t){if(1>t.getJoinedRooms().length)throw new n.Exceptions.SFSValidationError("PlayerToSpectatorRequest Error",["You are not joined in any room"])},execute:function(t){null==this._room&&(this._room=t.lastJoinedRoom),this._reqObj[this.constructor.KEY_ROOM_ID]=this._room.id}}),n.Requests.System.PlayerToSpectatorRequest.KEY_ROOM_ID="r",n.Requests.System.PlayerToSpectatorRequest.KEY_USER_ID="u",n.Requests.System.ChangeRoomCapacityRequest=n.Requests._BaseRequest.extend({init:function(t,e,i){this._super(n.Requests.ChangeRoomCapacity),this._room=t,this._newMaxUsers=e,this._newMaxSpect=i},validate:function(){var t=[];if(null==this._room&&t.push("Provided Room is null"),0<t.length)throw new n.Exceptions.SFSValidationError("ChangeRoomCapacityRequest Error",t)},execute:function(){this._reqObj[this.constructor.KEY_ROOM]=this._room.id,this._reqObj[this.constructor.KEY_USER_SIZE]=this._newMaxUsers,this._reqObj[this.constructor.KEY_SPEC_SIZE]=this._newMaxSpect}}),n.Requests.System.ChangeRoomCapacityRequest.KEY_ROOM="r",n.Requests.System.ChangeRoomCapacityRequest.KEY_USER_SIZE="u",n.Requests.System.ChangeRoomCapacityRequest.KEY_SPEC_SIZE="s",n.Requests.System.PublicMessageRequest=n.Requests.System.GenericMessageRequest.extend({init:function(t,e,i){this._super(),this._type=n.Requests.GenericMessageType.PUBLIC_MSG,this._message=t,this._room=i,this._params=e}}),n.Requests.System.PrivateMessageRequest=n.Requests.System.GenericMessageRequest.extend({init:function(t,e,i){this._super(),this._type=n.Requests.GenericMessageType.PRIVATE_MSG,this._message=t,this._recipient=e,this._params=i}}),n.Requests.System.ModeratorMessageRequest=n.Requests.System.GenericMessageRequest.extend({init:function(t,e,i){if(this._super(),null==e)throw new n.Exceptions.SFSError("Recipient mode cannot be null");this._type=n.Requests.GenericMessageType.MODERATOR_MSG,this._message=t,this._params=i,this._recipient=e.target,this._sendMode=e.mode}}),n.Requests.System.AdminMessageRequest=n.Requests.System.GenericMessageRequest.extend({init:function(t,e,i){if(this._super(),null==e)throw new n.Exceptions.SFSError("Recipient mode cannot be null");this._type=n.Requests.GenericMessageType.ADMING_MSG,this._message=t,this._params=i,this._recipient=e.target,this._sendMode=e.mode}}),n.Requests.System.KickUserRequest=n.Requests._BaseRequest.extend({init:function(t,e,i){this._super(n.Requests.KickUser),null==i&&(i=5),0>i&&(i=0),this._userId=t,this._message=e,this._delay=i},validate:function(t){var e=[];if(!t.mySelf.isModerator()&&!t.mySelf.isAdmin()&&e.push("You don't have enough permissions to execute this request"),0<e.length)throw new n.Exceptions.SFSValidationError("KickUserRequest Error",e)},execute:function(){this._reqObj[this.constructor.KEY_USER_ID]=this._userId,this._reqObj[this.constructor.KEY_DELAY]=this._delay,null!=this._message&&0<this._message.length&&(this._reqObj[this.constructor.KEY_MESSAGE]=this._message)}}),n.Requests.System.KickUserRequest.KEY_USER_ID="u",n.Requests.System.KickUserRequest.KEY_MESSAGE="m",n.Requests.System.KickUserRequest.KEY_DELAY="d",n.Requests.System.BanUserRequest=n.Requests._BaseRequest.extend({init:function(t,e,i,o,s){this._super(n.Requests.BanUser),null==i&&(i=1),null==o&&(o=5),null==s&&(s=24),this._userId=t,this._message=e,this._banMode=i,this._delay=o,this._durationHours=s},validate:function(t){var e=[];if(!t.mySelf.isModerator()&&!t.mySelf.isAdmin()&&e.push("You don't have enough permissions to execute this request"),0<e.length)throw new n.Exceptions.SFSValidationError("BanUserRequest Error",e)},execute:function(){this._reqObj[this.constructor.KEY_USER_ID]=this._userId,this._reqObj[this.constructor.KEY_DELAY]=this._delay,this._reqObj[this.constructor.KEY_BAN_MODE]=this._banMode,this._reqObj[this.constructor.KEY_BAN_DURATION_HOURS]=this._durationHours,null!=this._message&&0<this._message.length&&(this._reqObj[this.constructor.KEY_MESSAGE]=this._message)}}),n.Requests.System.BanUserRequest.KEY_USER_ID="u",n.Requests.System.BanUserRequest.KEY_MESSAGE="m",n.Requests.System.BanUserRequest.KEY_DELAY="d",n.Requests.System.BanUserRequest.KEY_BAN_MODE="b",n.Requests.System.BanUserRequest.KEY_BAN_DURATION_HOURS="dh",n.Requests.System.ManualDisconnectionRequest=n.Requests._BaseRequest.extend({init:function(){this._super(n.Requests.ManualDisconnection)},validate:function(){},execute:function(){}}),n.Requests.System.FindRoomsRequest=n.Requests._BaseRequest.extend({init:function(t,e,i){this._super(n.Requests.FindRooms),null==i&&(i=0),this._matchExpr=t,this._groupId=e,this._limit=i},validate:function(){var t=[];if(null==this._matchExpr&&t.push("Missing match expression"),0<t.length)throw new n.Exceptions.SFSValidationError("FindRoomsRequest Error",t)},execute:function(){this._reqObj[this.constructor.KEY_EXPRESSION]=this._matchExpr._toArray(),null!=this._groupId&&(this._reqObj[this.constructor.KEY_GROUP]=this._groupId),0<this._limit&&(this._reqObj[this.constructor.KEY_LIMIT]=this._limit)}}),n.Requests.System.FindRoomsRequest.KEY_EXPRESSION="e",n.Requests.System.FindRoomsRequest.KEY_GROUP="g",n.Requests.System.FindRoomsRequest.KEY_LIMIT="l",n.Requests.System.FindRoomsRequest.KEY_FILTERED_ROOMS="fr",n.Requests.System.FindUsersRequest=n.Requests._BaseRequest.extend({init:function(t,e,i){this._super(n.Requests.FindUsers),null==i&&(i=0),this._matchExpr=t,this._target=e,this._limit=i},validate:function(){var t=[];if(null==this._matchExpr&&t.push("Missing match expression"),0<t.length)throw new n.Exceptions.SFSValidationError("FindUsersRequest Error",t)},execute:function(){this._reqObj[this.constructor.KEY_EXPRESSION]=this._matchExpr._toArray(),null!=this._target&&(this._target instanceof n.Entities.SFSRoom?this._reqObj[this.constructor.KEY_ROOM]=this._target.id:"string"==typeof this._target?this._reqObj[this.constructor.KEY_GROUP]=this._target:this._log.warn("Unsupport target type for FindUsersRequest: "+this._target)),0<this._limit&&(this._reqObj[this.constructor.KEY_LIMIT]=this._limit)}}),n.Requests.System.FindUsersRequest.KEY_EXPRESSION="e",n.Requests.System.FindUsersRequest.KEY_GROUP="g",n.Requests.System.FindUsersRequest.KEY_ROOM="r",n.Requests.System.FindUsersRequest.KEY_LIMIT="l",n.Requests.System.FindUsersRequest.KEY_FILTERED_USERS="fu",n.Requests.System.PingPongRequest=n.Requests._BaseRequest.extend({init:function(){this._super(n.Requests.PingPong)},validate:function(){},execute:function(){}}),n.Requests.MMO.SetUserPositionRequest=n.Requests._BaseRequest.extend({init:function(t,e){this._super(n.Requests.SetUserPosition),this._pos=t,this._room=e},validate:function(t){var e=[];if(null==this._pos&&e.push("Position must be a Vec3D instance"),null==this._room&&(this._room=t.lastJoinedRoom),this._room instanceof n.Entities.MMORoom||e.push("Passed Room is not an MMORoom"),0<e.length)throw new n.Exceptions.SFSValidationError("SetUserPosition Error",e)},execute:function(){this._reqObj[this.constructor.KEY_ROOM]=this._room.id,this._reqObj[this.constructor.KEY_VEC3D]=this._pos._toArray()}}),n.Requests.MMO.SetUserPositionRequest.KEY_ROOM="r",n.Requests.MMO.SetUserPositionRequest.KEY_VEC3D="v",n.Requests.MMO.SetUserPositionRequest.KEY_PLUS_USER_LIST="p",n.Requests.MMO.SetUserPositionRequest.KEY_MINUS_USER_LIST="m",n.Requests.MMO.SetUserPositionRequest.KEY_PLUS_ITEM_LIST="q",n.Requests.MMO.SetUserPositionRequest.KEY_MINUS_ITEM_LIST="n",n.Requests.MMO.SetMMOItemVariables={},n.Requests.MMO.SetMMOItemVariables.KEY_ROOM_ID="r",n.Requests.MMO.SetMMOItemVariables.KEY_ITEM_ID="i",n.Requests.MMO.SetMMOItemVariables.KEY_VAR_LIST="v",n.Requests.BuddyList.InitBuddyListRequest=n.Requests._BaseRequest.extend({init:function(){this._super(n.Requests.InitBuddyList)},validate:function(t){var e=[];if(t.buddyManager.isInited()&&e.push("Buddy List is already initialized"),0<e.length)throw new n.Exceptions.SFSValidationError("InitBuddyListRequest Error",e)},execute:function(){}}),n.Requests.BuddyList.InitBuddyListRequest.KEY_BLIST="bl",n.Requests.BuddyList.InitBuddyListRequest.KEY_BUDDY_STATES="bs",n.Requests.BuddyList.InitBuddyListRequest.KEY_MY_VARS="mv",n.Requests.BuddyList.AddBuddyRequest=n.Requests._BaseRequest.extend({init:function(t){this._super(n.Requests.AddBuddy),this._name=t},validate:function(t){var e=[];if(t.buddyManager.isInited()||e.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),(null==this._name||1>this._name.length)&&e.push("Invalid buddy name (null or empty string)"),0==t.buddyManager.getMyOnlineState()&&e.push("Can't add a buddy while you are offline in the Buddy List system"),null!=(t=t.buddyManager.getBuddyByName(this._name))&&!t.isTemp()&&e.push("Can't add buddy '"+this._name+"' because it is already in your list"),0<e.length)throw new n.Exceptions.SFSValidationError("AddBuddyRequest Error",e)},execute:function(){this._reqObj[this.constructor.KEY_BUDDY_NAME]=this._name}}),n.Requests.BuddyList.AddBuddyRequest.KEY_BUDDY_NAME="bn",n.Requests.BuddyList.BlockBuddyRequest=n.Requests._BaseRequest.extend({init:function(t,e){this._super(n.Requests.BlockBuddy),this._name=t,this._blocked=e},validate:function(t){var e=[];if(t.buddyManager.isInited()||e.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),(null==this._name||1>this._name.length)&&e.push("Invalid buddy name (null or empty string)"),0==t.buddyManager.getMyOnlineState()&&e.push("Can't block a buddy while you are offline in the Buddy List system"),null==(t=t.buddyManager.getBuddyByName(this._name))?e.push("Can't block buddy '"+this._name+"' because it isn't in your list"):t.isBlocked()==this._blocked&&e.push("Block flag is already in the requested '"+this._blocked+"' state for buddy "+this._name),0<e.length)throw new n.Exceptions.SFSValidationError("BlockBuddyRequest Error",e)},execute:function(){this._reqObj[this.constructor.KEY_BUDDY_NAME]=this._name,this._reqObj[this.constructor.KEY_BUDDY_BLOCK_STATE]=this._blocked}}),n.Requests.BuddyList.BlockBuddyRequest.KEY_BUDDY_NAME="bn",n.Requests.BuddyList.BlockBuddyRequest.KEY_BUDDY_BLOCK_STATE="bs",n.Requests.BuddyList.RemoveBuddyRequest=n.Requests._BaseRequest.extend({init:function(t){this._super(n.Requests.RemoveBuddy),this._name=t},validate:function(t){var e=[];if(t.buddyManager.isInited()||e.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),0==t.buddyManager.getMyOnlineState()&&e.push("Can't remove a buddy while you are offline in the Buddy List system"),t.buddyManager.containsBuddy(this._name)||e.push("Can't remove buddy '"+this._name+"' because it isn't in your list"),0<e.length)throw new n.Exceptions.SFSValidationError("RemoveBuddyRequest Error",e)},execute:function(){this._reqObj[this.constructor.KEY_BUDDY_NAME]=this._name}}),n.Requests.BuddyList.RemoveBuddyRequest.KEY_BUDDY_NAME="bn",n.Requests.BuddyList.SetBuddyVariablesRequest=n.Requests._BaseRequest.extend({init:function(t){this._super(n.Requests.SetBuddyVariables),this._buddyVariables=t},validate:function(t){var e=[];if(t.buddyManager.isInited()||e.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),0==t.buddyManager.getMyOnlineState()&&e.push("Can't set Buddy Variables while you are offline in the Buddy List system"),(null==this._buddyVariables||0==this._buddyVariables.length)&&e.push("No Buddy Variables to set have been specified"),0<e.length)throw new n.Exceptions.SFSValidationError("SetBuddyVariablesRequest Error",e)},execute:function(){var t,e=[];for(t in this._buddyVariables){var i=this._buddyVariables[t];i instanceof n.Entities.Variables.SFSBuddyVariable&&e.push(i.toArray())}this._reqObj[this.constructor.KEY_BUDDY_VARS]=e}}),n.Requests.BuddyList.SetBuddyVariablesRequest.KEY_BUDDY_NAME="bn",n.Requests.BuddyList.SetBuddyVariablesRequest.KEY_BUDDY_VARS="bv",n.Requests.BuddyList.GoOnlineRequest=n.Requests._BaseRequest.extend({init:function(t){this._super(n.Requests.GoOnline),this._online=t},validate:function(t){var e=[];if(t.buddyManager.isInited()||e.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),0<e.length)throw new n.Exceptions.SFSValidationError("GoOnlineRequest Error",e)},execute:function(t){t.buddyManager._setMyOnlineState(this._online),this._reqObj[this.constructor.KEY_ONLINE]=this._online}}),n.Requests.BuddyList.GoOnlineRequest.KEY_ONLINE="o",n.Requests.BuddyList.GoOnlineRequest.KEY_BUDDY_NAME="bn",n.Requests.BuddyList.GoOnlineRequest.KEY_BUDDY_ID="bi",n.Requests.BuddyList.BuddyMessageRequest=n.Requests.System.GenericMessageRequest.extend({init:function(t,e,i){this._super(),this._type=n.Requests.GenericMessageType.BUDDY_MSG,this._message=t,this._recipient=null!=e?e.id:-1,this._params=i}}),n.Requests.Game.InviteUsersRequest=n.Requests._BaseRequest.extend({init:function(t,e,i){this._super(n.Requests.InviteUsers),this._invitedUsers=t,this._secondsForAnswer=e,this._params=i},validate:function(){var t=[];if((null==this._invitedUsers||1>this._invitedUsers.length)&&t.push("No invitation(s) to send"),this._invitedUsers.length>this.constructor.MAX_INVITATIONS_FROM_CLIENT_SIDE&&t.push("Too many invitations; "+this.constructor.MAX_INVITATIONS_FROM_CLIENT_SIDE+" max are allowed from client side"),(this._secondsForAnswer<this.constructor.MIN_EXPIRY_TIME||this._secondsForAnswer>this.constructor.MAX_EXPIRY_TIME)&&t.push("secondsForAnswer value is out of range (min: "+this.constructor.MIN_EXPIRY_TIME+"; max: "+this.constructor.MAX_EXPIRY_TIME+")"),0<t.length)throw new n.Exceptions.SFSValidationError("InviteUsersRequest Error",t)},execute:function(t){var e,i=[];for(e in this._invitedUsers){var o=this._invitedUsers[e];(o instanceof n.Entities.SFSUser||o instanceof n.Entities.SFSBuddy)&&o!=t.mySelf&&i.push(o.id)}this._reqObj[this.constructor.KEY_INVITED_USERS]=i,this._reqObj[this.constructor.KEY_TIME]=this._secondsForAnswer,null!=this._params&&(this._reqObj[this.constructor.KEY_PARAMS]=this._params)}}),n.Requests.Game.InviteUsersRequest.KEY_USER="u",n.Requests.Game.InviteUsersRequest.KEY_USER_ID="ui",n.Requests.Game.InviteUsersRequest.KEY_INVITATION_ID="ii",n.Requests.Game.InviteUsersRequest.KEY_TIME="t",n.Requests.Game.InviteUsersRequest.KEY_PARAMS="p",n.Requests.Game.InviteUsersRequest.KEY_INVITEE_ID="ee",n.Requests.Game.InviteUsersRequest.KEY_INVITED_USERS="iu",n.Requests.Game.InviteUsersRequest.KEY_REPLY_ID="ri",n.Requests.Game.InviteUsersRequest.MAX_INVITATIONS_FROM_CLIENT_SIDE=8,n.Requests.Game.InviteUsersRequest.MIN_EXPIRY_TIME=5,n.Requests.Game.InviteUsersRequest.MAX_EXPIRY_TIME=300,n.Requests.Game.InvitationReplyRequest=n.Requests._BaseRequest.extend({init:function(t,e,i){this._super(n.Requests.InvitationReply),this._invitation=t,this._reply=e,this._params=i},validate:function(){var t=[];if(null==this._invitation&&t.push("Missing invitation object"),0<t.length)throw new n.Exceptions.SFSValidationError("InvitationReplyRequest Error",t)},execute:function(){this._reqObj[this.constructor.KEY_INVITATION_ID]=this._invitation.id,this._reqObj[this.constructor.KEY_INVITATION_REPLY]=this._reply,null!=this._params&&(this._reqObj[this.constructor.KEY_INVITATION_PARAMS]=this._params)}}),n.Requests.Game.InvitationReplyRequest.KEY_INVITATION_ID="i",n.Requests.Game.InvitationReplyRequest.KEY_INVITATION_REPLY="r",n.Requests.Game.InvitationReplyRequest.KEY_INVITATION_PARAMS="p",n.Requests.Game.CreateSFSGameRequest=n.Requests._BaseRequest.extend({init:function(t){this._super(n.Requests.CreateSFSGame),this._settings=t,this._createRoomRequest=new n.Requests.System.CreateRoomRequest(t,!1,null)},validate:function(t){var e=[];try{this._createRoomRequest.validate(t)}catch(t){e=t.getErrors()}if(this._settings.minPlayersToStartGame>this._settings.maxUsers&&e.push("Minimum number of players to start the game can't be greater than the Room's maximum number of users"),(this._settings.invitationExpiryTime<n.Requests.Game.InviteUsersRequest.MIN_EXPIRY_TIME||this._settings.invitationExpiryTime>n.Requests.Game.InviteUsersRequest.MAX_EXPIRY_TIME)&&e.push("Invitation expiration time value is out of range (min: "+n.Requests.Game.InviteUsersRequest.MIN_EXPIRY_TIME+"; max: "+n.Requests.Game.InviteUsersRequest.MAX_EXPIRY_TIME+")"),null!=this._settings.invitedPlayers&&this._settings.invitedPlayers.length>n.Requests.Game.InviteUsersRequest.MAX_INVITATIONS_FROM_CLIENT_SIDE&&e.push("Can't invite more than "+n.Requests.Game.InviteUsersRequest.MAX_INVITATIONS_FROM_CLIENT_SIDE+" players from client side"),0<e.length)throw new n.Exceptions.SFSValidationError("CreateSFSGameRequest Error",e)},execute:function(t){if(this._createRoomRequest.execute(t),this._reqObj=this._createRoomRequest._reqObj,this._reqObj[this.constructor.KEY_IS_PUBLIC]=this._settings.isPublic,this._reqObj[this.constructor.KEY_MIN_PLAYERS]=this._settings.minPlayersToStartGame,this._reqObj[this.constructor.KEY_INVITATION_EXPIRY]=this._settings.invitationExpiryTime,this._reqObj[this.constructor.KEY_LEAVE_ROOM]=this._settings.leaveLastJoinedRoom,this._reqObj[this.constructor.KEY_NOTIFY_GAME_STARTED]=this._settings.notifyGameStarted,null!=this._settings.playerMatchExpression&&(this._reqObj[this.constructor.KEY_PLAYER_MATCH_EXP]=this._settings.playerMatchExpression._toArray()),null!=this._settings.spectatorMatchExpression&&(this._reqObj[this.constructor.KEY_SPECTATOR_MATCH_EXP]=this._settings.spectatorMatchExpression._toArray()),null!=this._settings.invitedPlayers){var e;t=[];for(e in this._settings.invitedPlayers){var i=this._settings.invitedPlayers[e];(i instanceof n.Entities.SFSUser||i instanceof n.Entities.SFSBuddy)&&t.push(i.id)}this._reqObj[this.constructor.KEY_INVITED_PLAYERS]=t}null!=this._settings.searchableRooms&&(this._reqObj[this.constructor.KEY_SEARCHABLE_ROOMS]=this._settings.searchableRooms),null!=this._settings.invitationParams&&(this._reqObj[this.constructor.KEY_INVITATION_PARAMS]=this._settings.invitationParams)}}),n.Requests.Game.CreateSFSGameRequest.KEY_IS_PUBLIC="gip",n.Requests.Game.CreateSFSGameRequest.KEY_MIN_PLAYERS="gmp",n.Requests.Game.CreateSFSGameRequest.KEY_INVITED_PLAYERS="ginp",n.Requests.Game.CreateSFSGameRequest.KEY_SEARCHABLE_ROOMS="gsr",n.Requests.Game.CreateSFSGameRequest.KEY_PLAYER_MATCH_EXP="gpme",n.Requests.Game.CreateSFSGameRequest.KEY_SPECTATOR_MATCH_EXP="gsme",n.Requests.Game.CreateSFSGameRequest.KEY_INVITATION_EXPIRY="gie",n.Requests.Game.CreateSFSGameRequest.KEY_LEAVE_ROOM="glr",n.Requests.Game.CreateSFSGameRequest.KEY_NOTIFY_GAME_STARTED="gns",n.Requests.Game.CreateSFSGameRequest.KEY_INVITATION_PARAMS="ip",n.Requests.Game.QuickJoinGameRequest=n.Requests._BaseRequest.extend({init:function(t,e,i){this._super(n.Requests.QuickJoinGame),this._matchExpression=t,this._whereToSearch=e,this._roomToLeave=i},validate:function(){var t=[];if(null==this._whereToSearch||1>this._whereToSearch.length?t.push("Missing lis of Rooms or Group name where to search the game to join"):this._whereToSearch.length>this.constructor.MAX_ROOMS&&t.push("Too many Rooms specified in list where to search the game to join; client limit is: "+this.constructor.MAX_ROOMS),0<t.length)throw new n.Exceptions.SFSValidationError("CreateSFSGameRequest Error",t)},execute:function(){if("string"==typeof this._whereToSearch[0])this._reqObj[this.constructor.KEY_GROUP_LIST]=this._whereToSearch;else{if(!(this._whereToSearch[0]instanceof n.Entities.SFSRoom))throw new n.Exceptions.SFSError("Invalid type in whereToSearch parameter");for(var t=[],e=0;e<this._whereToSearch.length;e++){var i=this._whereToSearch[e];i instanceof n.Entities.SFSRoom&&t.push(i.id)}this._reqObj[this.constructor.KEY_ROOM_LIST]=t}null!=this._roomToLeave&&(this._reqObj[this.constructor.KEY_ROOM_TO_LEAVE]=this._roomToLeave.id),null!=this._matchExpression&&(this._reqObj[this.constructor.KEY_MATCH_EXPRESSION]=this._matchExpression._toArray())}}),n.Requests.Game.QuickJoinGameRequest.KEY_ROOM_LIST="rl",n.Requests.Game.QuickJoinGameRequest.KEY_GROUP_LIST="gl",n.Requests.Game.QuickJoinGameRequest.KEY_ROOM_TO_LEAVE="tl",n.Requests.Game.QuickJoinGameRequest.KEY_MATCH_EXPRESSION="me",n.Requests.Game.QuickJoinGameRequest.MAX_ROOMS=32,n.Requests.Handshake=0,n.Requests.Login=1,n.Requests.Logout=2,n.Requests.JoinRoom=4,n.Requests.CreateRoom=6,n.Requests.GenericMessage=7,n.Requests.ChangeRoomName=8,n.Requests.ChangeRoomPassword=9,n.Requests.SetRoomVariables=11,n.Requests.SetUserVariables=12,n.Requests.CallExtension=13,n.Requests.LeaveRoom=14,n.Requests.SubscribeRoomGroup=15,n.Requests.UnsubscribeRoomGroup=16,n.Requests.SpectatorToPlayer=17,n.Requests.PlayerToSpectator=18,n.Requests.ChangeRoomCapacity=19,n.Requests.KickUser=24,n.Requests.BanUser=25,n.Requests.ManualDisconnection=26,n.Requests.FindRooms=27,n.Requests.FindUsers=28,n.Requests.PingPong=29,n.Requests.SetUserPosition=30,n.Requests.InitBuddyList=200,n.Requests.AddBuddy=201,n.Requests.BlockBuddy=202,n.Requests.RemoveBuddy=203,n.Requests.SetBuddyVariables=204,n.Requests.GoOnline=205,n.Requests.InviteUsers=300,n.Requests.InvitationReply=301,n.Requests.CreateSFSGame=302,n.Requests.QuickJoinGame=303,n.Requests.getRequestNameFromId=function(t){for(var e in n.Requests)if(n.Requests[e]==t)return e;return null},n.Requests.RoomSettings=r.Class.extend({init:function(t){this.name=t,this.password="",this.groupId="default",this.isGame=!1,this.maxUsers=10,this.maxSpectators=0,this.maxVariables=5,this.variables=[],this.extension=this.events=this.permissions=null}}),n.Requests.Game.SFSGameSettings=n.Requests.RoomSettings.extend({init:function(t){this._super(t),this.isPublic=!0,this.minPlayersToStartGame=2,this.searchableRooms=this.invitedPlayers=null,this.invitationExpiryTime=15,this.leaveLastJoinedRoom=!0,this.notifyGameStarted=!1,this.invitationParams=this.spectatorMatchExpression=this.playerMatchExpression=null}}),n.Requests.MMO.MMORoomSettings=n.Requests.RoomSettings.extend({init:function(t){this._super(t),this.mapLimits=this.defaultAOI=null,this.userMaxLimboSeconds=50,this.proximityListUpdateMillis=250,this.sendAOIEntryPoint=!0}}),n.Requests.RoomPermissions=function(){this.allowPasswordStateChange=this.allowNameChange=!1,this.allowPublicMessages=!0,this.allowResizing=!1},n.Requests.RoomEvents=function(){this.allowUserVariablesUpdate=this.allowUserExit=this.allowUserEnter=this.allowUserCountChange=!1},n.Requests.RoomExtension=function(t,e){this.id=t,this.className=e,this.propertiesFile=""},n.Requests.MMO.MapLimits=function(t,e){if(null==t||null==e)throw new n.Exceptions.SFSError("Map limits arguments must be both non null!");this.lowerLimit=t,this.higherLimit=e},n.Requests.GenericMessageType={},n.Requests.GenericMessageType.PUBLIC_MSG=0,n.Requests.GenericMessageType.PRIVATE_MSG=1,n.Requests.GenericMessageType.MODERATOR_MSG=2,n.Requests.GenericMessageType.ADMING_MSG=3,n.Requests.GenericMessageType.OBJECT_MSG=4,n.Requests.GenericMessageType.BUDDY_MSG=5,n.Requests.MessageRecipientMode=function(t,e){if(t<this.TO_USER||t>this.TO_ZONE)throw new n.Exceptions.SFSError("Illegal recipient mode: "+t);this.mode=t,this.target=e},n.Requests.MessageRecipientMode.TO_USER=0,n.Requests.MessageRecipientMode.TO_ROOM=1,n.Requests.MessageRecipientMode.TO_GROUP=2,n.Requests.MessageRecipientMode.TO_ZONE=3,n.Requests.BanMode={},n.Requests.BanMode.BY_ADDRESS=0,n.Requests.BanMode.BY_NAME=1,n.SocketEngine=function(t){this.isConnecting=this.isConnected=!1,this.reconnectionSeconds=0,this._controllers={},this._log=n.Logger,this._socket=null,this._maxMessageSize=1e4,this._sfs=t,this._lastTcpPort=0,this._reconnectionDelayMillis=1e3,this._attemptingReconnection=this._isReconnecting=!1,this._eventDispatcher=new n.EventDispatcher,this._disconnectionReason=n.Utils.ClientDisconnectionReason.UNKNOWN},n.SocketEngine.prototype.connect=function(t,e,i){this.isConnected?this._log.error("Connection is already active"):this.isConnecting?this._log.error("A connection attempt is already in progress"):(this.isConnecting=!0,this._socket=new WebSocket("ws"+(i?"s":"")+"://"+t+":"+e+"/websocket",[],cc.url.raw("resources/raw/cacert.pem")),this._socket._scope=this,this._socket.onopen=this._onSocketConnect,this._socket.onclose=this._onSocketDisconnect,this._socket.onmessage=this._onSocketData,this._socket.onerror=this._onSocketError)},n.SocketEngine.prototype.disconnect=function(t){this._disconnectionReason=t,this._socket.close()},n.SocketEngine.prototype.addEventListener=function(t,e,i){this._eventDispatcher.addEventListener(t,e,i)},n.SocketEngine.prototype.removeEventListener=function(t,e){this._eventDispatcher.removeEventListener(t,e)},n.SocketEngine.prototype.addController=function(t,e){null==this._controllers[t]&&(this._controllers[t]=e)},n.SocketEngine.prototype.removeController=function(t){delete this._controllers[t]},n.SocketEngine.prototype.send=function(t){t=this._encodeMessage(t),this._socket.send(t)},n.SocketEngine.prototype._decodeMessage=function(t){return JSON.parse(t)},n.SocketEngine.prototype._encodeMessage=function(t){return JSON.stringify(t)},n.SocketEngine.prototype._onSocketConnect=function(){this._scope.isConnected=!0,this._scope.isConnecting=!1,this._scope._log.debug("SOCKET CONNECTION OK"),this._scope._eventDispatcher.dispatchEvent(n.SocketEvent.CONNECT,{success:!0,isReconnection:this._scope._attemptingReconnection})},n.SocketEngine.prototype._onSocketDisconnect=function(){if(this._scope.isConnected=!1,this._scope.isConnecting){this._scope.isConnecting=!1;var t={success:!1,isReconnection:this._scope._attemptingReconnection};this._scope._eventDispatcher.dispatchEvent(n.SocketEvent.CONNECT,t)}else t={reason:this._scope._disconnectionReason},this._scope._eventDispatcher.dispatchEvent(n.SocketEvent.DISCONNECT,t),this._scope._disconnectionReason=n.Utils.ClientDisconnectionReason.UNKNOWN},n.SocketEngine.prototype._onSocketData=function(t){this._scope._eventDispatcher.dispatchEvent(n.SocketEvent.DATA,this._scope._decodeMessage(t.data))},n.SocketEngine.prototype._onSocketError=function(t){this._scope._eventDispatcher.dispatchEvent(n.SocketEvent.IOERROR,t.data)},n.SocketEvent={CONNECT:"socketConnect",DISCONNECT:"socketDisconnect",DATA:"data",IOERROR:"socketIOError"},e.exports={SFS2X:n,SmartFox:o},cc._RF.pop()},{}],SFSManager:[function(t,e,i){"use strict";cc._RF.push(e,"708e2ZyKKBOC6wP3rHU/+jc","SFSManager");var n=t("../lib/SFS2X_API_JS"),o=t("./SFSSendRequest"),s=t("../helper/Constant"),a=t("../helper/Message"),r=t("../util/Util"),c={sfs:null,config:{host:"game.xuvin.net",port:443,useSSL:!0,zone:"GameBai",debug:!1},SmartFox:n.SmartFox,SFS2X:n.SFS2X,init:function(){this.onResponseBind=this.onResponse.bind(this),this.isAddEventResponse=!1,this.sfs=new this.SmartFox(this.config),this.sfs.addEventListener(this.SFS2X.SFSEvent.CONNECTION,this.onConnection,this),this.sfs.addEventListener(this.SFS2X.SFSEvent.CONNECTION_LOST,this.onConnectionLost,this),this.sfs.addEventListener(this.SFS2X.SFSEvent.LOGIN_ERROR,this.onLoginError,this),this.sfs.addEventListener(this.SFS2X.SFSEvent.LOGIN,this.onLogin,this),this.sfs.addEventListener(this.SFS2X.SFSEvent.LOGOUT,this.onLogout,this),this.sfs.addEventListener(this.SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onRoomJoinError,this),this.sfs.addEventListener(this.SFS2X.SFSEvent.ROOM_JOIN,this.onRoomJoin,this),this.sfs.addEventListener(this.SFS2X.SFSEvent.USER_ENTER_ROOM,this.onUserEnterRoom,this),this.sfs.addEventListener(this.SFS2X.SFSEvent.USER_EXIT_ROOM,this.onUserExitRoom,this),this.sfs.addEventListener(this.SFS2X.SFSEvent.USER_VARIABLES_UPDATE,this.onUserVariablesUpdate,this),this.sendRequest=o,this.sendRequest.init(this)},onUserEnterRoom:function(t){},onUserExitRoom:function(t){},onUserVariablesUpdate:function(t){},connect:function(t){this.controller=t,this.sfs.connect()},setController:function(t){this.controller=t},addEventResponse:function(){this.isAddEventResponse||(this.sfs.addEventListener(this.SFS2X.SFSEvent.EXTENSION_RESPONSE,this.onResponseBind),this.isAddEventResponse=!0)},removeEventResponse:function(){this.sfs.removeEventListener(this.SFS2X.SFSEvent.EXTENSION_RESPONSE,this.onResponseBind),this.isAddEventResponse=!1},onConnection:function(t){if(t.success){var e=cc.V.user,i=(e.server_id||s.SERVER_ID_2)+e.username,n={password:e.token,time:e.time,user_id:e.user_id,server_id:e.server_id||s.SERVER_ID_2};this.sfs.send(new this.SFS2X.Requests.System.LoginRequest(i,e.token,n))}else this.controller.hideProcessingNode(),this.controller.showDialogMessage(a.LOGIN_TITLE,a.CONNECT_SFS_ERROR)},onConnectionLost:function(t){if(cc.V.sfsManager&&!cc.V.sfsManager.sfs.isConnected()){switch(t.reason){case"kick":case"ban":this.controller.setAutoLogin(!1)}this.controller.clearSFSManager(),this.controller.loadPersistScene(s.SCENE_GAME_CENTER)}},onLoginError:function(t){this.controller.clearSFSManager(),this.controller.hideProcessingNode(),this.controller.showDialogMessage(a.LOGIN_TITLE,t.errorMessage)},onLogin:function(t){this.controller.initBaseController()},onLogout:function(t){},onRoomJoinError:function(t){},onRoomJoin:function(t){var e=t.room.name,i=cc.V.sceneName;r.isLobbyRoom(e)?i===s.SCENE_GAME_SLOT||i===s.SCENE_GAME_SLOT_2||i===s.SCENE_GAME_SLOT_3||i===s.SCENE_GAME_SLOT_4?this.controller.loadPersistScene(s.SCENE_GAME_CENTER):(this.controller.hideProcessingNode(),this.controller.initLoginSuccess()):r.isLobbyGame(e)?i===s.SCENE_GAME_CENTER?(this.controller.hideProcessingNode(),this.controller.Header.HeaderAccount.initShowHeader(),this.controller.Header.HeaderAccount.loadUserInfo(),this.controller.initListRooms()):(this.controller.showProcessingNode(),this.controller.GameCommon?this.controller.GameCommon.loadPersistScene(s.SCENE_GAME_CENTER):this.controller.loadPersistScene(s.SCENE_GAME_CENTER)):(this.addEventResponse(),this.controller.showProcessingNode())},onResponse:function(t){t.timeReceived=(new Date).getTime();var e=t.params,i=e.status||e.STATUS,n=t.cmd;if(cc.V.tempRequests||(cc.V.tempRequests=[]),i)switch(n){case s.ROOM_INFO:if(!cc.director._loadingScene){cc.V.roomInfo=e;var o=cc.V.sfsManager.sfs.lastJoinedRoom.groupId;o===s.TLMNSOLO?o=s.SCENE_GAME_TLMN:o===s.SAMSOLO?o=s.SCENE_GAME_SAM:o===s.ZOOMBIES?o=s.SCENE_GAME_SLOT:o===s.ONE001?o=s.SCENE_GAME_SLOT_3:o===s.DRAGON?o=s.SCENE_GAME_SLOT_2:o===s.CLASSIC1&&(o=s.SCENE_GAME_SLOT_4),this.addEventResponse(),this.controller.loadPersistScene(o)}break;default:cc.V.tempRequests.push(t)}else switch(n){case s.REQUEST_JOIN_ROOM:this.controller.hideProcessingNode(),this.controller.showDialogMessage(a.TITLE_FAILED,e.msg);break;default:cc.V.tempRequests.push(t)}},joinRoom:function(t,e,i,n,o){var a={game_name:t,min_bet:e,room_type:i,balance:n,is_auto_buy_in:o};this.sfs.send(new this.SFS2X.Requests.System.ExtensionRequest(s.REQUEST_JOIN_ROOM,a))},destroy:function(){this.sfs.removeEventListener(this.SFS2X.SFSEvent.CONNECTION,this.onConnection),this.sfs.removeEventListener(this.SFS2X.SFSEvent.CONNECTION_LOST,this.onConnectionLost),this.sfs.removeEventListener(this.SFS2X.SFSEvent.LOGIN_ERROR,this.onLoginError),this.sfs.removeEventListener(this.SFS2X.SFSEvent.LOGIN,this.onLogin),this.sfs.removeEventListener(this.SFS2X.SFSEvent.LOGOUT,this.onLogout),this.sfs.removeEventListener(this.SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onRoomJoinError),this.sfs.removeEventListener(this.SFS2X.SFSEvent.ROOM_JOIN,this.onRoomJoin),this.sfs=null}};e.exports=c,cc._RF.pop()},{"../helper/Constant":"Constant","../helper/Message":"Message","../lib/SFS2X_API_JS":"SFS2X_API_JS","../util/Util":"Util","./SFSSendRequest":"SFSSendRequest"}],SFSSendRequest:[function(t,e,i){"use strict";cc._RF.push(e,"93376zehM5KRIyNL/tq+F1T","SFSSendRequest");var n={init:function(t){this.sfsManager=t,this.sfs=this.sfsManager.sfs,this.SFS2X=this.sfsManager.SFS2X},send:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t="control."+t,this.sfs.send(new this.SFS2X.Requests.System.ExtensionRequest(t,e,this.sfs.lastJoinedRoom))},sendNoPrefix:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.sfs.send(new this.SFS2X.Requests.System.ExtensionRequest(t,e,this.sfs.lastJoinedRoom))},sendToZone:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t="control."+t,this.sfs.send(new this.SFS2X.Requests.System.ExtensionRequest(t,e))},sendNoPrefixToZone:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.sfs.send(new this.SFS2X.Requests.System.ExtensionRequest(t,e))}};e.exports=n,cc._RF.pop()},{}],SMSItem:[function(t,e,i){"use strict";cc._RF.push(e,"77436VjwgJMWYb93dgXaVET","SMSItem");var n=t("../../util/FormatUtil"),o=t("../../helper/Message");cc.Class({extends:cc.Component,properties:{msgRichText:cc.RichText,noteRichText:cc.RichText},init:function(t,e,i){this.GameCenter=t,this.data=e,this.serviceNumber=i;var s=String.format(o.RECHARGE_SMS_MSG,e.CODE,i);s=s.replace(o.RECHARGE_SMS_TENDANGNHAP,t.getUser().username),this.msgRichText.string=s,this.noteRichText.string=String.format(o.RECHARGE_SMS_NOTE,n.numberWithCommas(e.VND),n.numberWithCommas(e.MONEY))},onLoad:function(){},onConfirmClick:function(){this.GameCenter.Audio.playClick();var t=this.data.CODE.replace(o.RECHARGE_SMS_TENDANGNHAP,this.GameCenter.getUser().username);t=encodeURIComponent(t.trim());var e="";this.GameCenter.isAndroid()?e=o.RECHARGE_SMS_ANDROID:this.GameCenter.isIOS()&&(e=o.RECHARGE_SMS_IOS),e&&(t=String.format(e,this.serviceNumber,t),cc.sys.openURL(t))}}),cc._RF.pop()},{"../../helper/Message":"Message","../../util/FormatUtil":"FormatUtil"}],SafeQuickSelectItem:[function(t,e,i){"use strict";cc._RF.push(e,"a39fbMjE0lCQJsWVqxOlkqI","SafeQuickSelectItem");var n=t("../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{money:0,moneyLabel:cc.Label},init:function(t){this.GameCenter=t,this.Safe=t.GameRecharge.Safe,this.moneyLabel.string=n.numberWithCommas(this.money)},onLoad:function(){},onClick:function(){this.Safe.addMoney(this.money)}}),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil"}],Safe:[function(t,e,i){"use strict";cc._RF.push(e,"0f5f6ShqAlKSrhqaBTp2jL+","Safe");var n=t("../../../prefab/item/SafeQuickSelectItem"),o=t("../../../util/FormatUtil"),s=t("../../../helper/Config"),a=t("../../../helper/Constant"),r=t("../../../helper/Message");cc.Class({extends:cc.Component,properties:{pushOnButtonNode:cc.Node,pushOffButtonNode:cc.Node,popOnButtonNode:cc.Node,popOffButtonNode:cc.Node,sendAllButtonNode:cc.Node,getAllButtonNode:cc.Node,sendButtonNode:cc.Node,getButtonNode:cc.Node,getOtpContentNode:cc.Node,moneyLabel:cc.Label,moneySafeLabel:cc.Label,moneyEditBox:cc.EditBox,moneyNode:cc.Node,otpNode:cc.Node,otpEditBox:cc.EditBox,listSafeQuickSelectItem:[n],smsButtonNode:cc.Node,otpButtonNode:cc.Node},init:function(t){for(var e in this.GameCenter=t,this.GameCenterUI=t.GameCenterUI,this.listSafeQuickSelectItem)this.listSafeQuickSelectItem[e].init(t)},onLoad:function(){this.amount=0},onEnable:function(){this.initMoney(),this.onPushClick()},initMoney:function(){this.moneyLabel.string=o.numberWithCommas(this.GameCenter.getMoney()),this.moneySafeLabel.string=o.numberWithCommas(this.GameCenter.getSafeMoney())},onPushClick:function(){this.pushOnButtonNode.active=!0,this.pushOffButtonNode.active=!1,this.popOnButtonNode.active=!1,this.popOffButtonNode.active=!0,this.sendAllButtonNode.active=!0,this.getAllButtonNode.active=!1,this.sendButtonNode.active=!0,this.getButtonNode.active=!1,this.moneyEditBox.string="",this.moneyNode.active=!0,this.otpNode.active=!1,this.getOtpContentNode.active=!1},onPopClick:function(){this.pushOnButtonNode.active=!1,this.pushOffButtonNode.active=!0,this.popOnButtonNode.active=!0,this.popOffButtonNode.active=!1,this.sendAllButtonNode.active=!1,this.getAllButtonNode.active=!0,this.sendButtonNode.active=!1,this.getButtonNode.active=!0,this.moneyEditBox.string="",this.moneyNode.active=!0,this.otpNode.active=!0,this.getOtpContentNode.active=!0},onSendAllClick:function(){this.setMoney(this.GameCenter.getMoney())},onGetAllClick:function(){this.moneyEditBox.string=o.numberWithCommas(this.GameCenter.getSafeMoney())},onSendClick:function(){var t=parseInt(o.getOnlyNumberInString(this.moneyEditBox.string));if(t>0){var e={amount:t};this.GameCenter.showProcessingNode(),this.GameCenter.sendRequest.sendToZone(a.REQUEST_SAFE_DEPOSIT,e)}else this.showDialogMessage(r.SAFE_TITLE,r.NUMBER_MONEY_LARGER_ZERO)},onGetClick:function(){if(0===this.GameCenter.getUser().status_value)this.GameCenter.showDialogMessage(r.SAFE_TITLE,r.SAFE_NOT_ACTIVE_PHONE);else if(this.amount=parseInt(o.getOnlyNumberInString(this.moneyEditBox.string)),this.amount>0){var t=this.GameCenter.getSafeMoney();this.amount>t&&(this.amount=t);var e={amount:this.amount,step:2,otp:this.otpEditBox.string};this.GameCenter.showProcessingNode(),this.GameCenter.sendRequest.sendToZone(a.REQUEST_SAFE_WITHDRAW,e)}else this.GameCenter.showDialogMessage(r.SAFE_TITLE,r.NUMBER_MONEY_LARGER_ZERO)},onOTPClick:function(){this.smsButtonNode.active=!0,this.otpButtonNode.active=!1},onSMSClick:function(){this.smsButtonNode.active=!1,this.otpButtonNode.active=!0},onGetOtpClick:function(){this.GameCenter.showProcessingNode(),this.GameCenter.sendRequest.sendToZone(a.REQUEST_GET_OTP)},onCancellick:function(){this.moneyEditBox.string="",this.otpEditBox.string=""},onMoneyChange:function(){var t=this.moneyEditBox.string,e=o.numberWithCommas(o.getOnlyNumberInString(t));this.moneyEditBox.string=0==e?"":e},setMoney:function(t){o.numberWithCommas(t).length<=s.SAFE_MAX_LENGTH&&(this.moneyEditBox.string=o.numberWithCommas(t))},addMoney:function(t){this.setMoney(t+this.getMoneyValue())},getMoneyValue:function(){return parseInt(o.getOnlyNumberInString(this.moneyEditBox.string))||0},isPush:function(){return this.pushOnButtonNode.active},showStep1:function(){this.moneyEditBox.string="",this.otpEditBox.string="",this.moneyNode.active=!0,this.otpNode.active=!0,this.getOtpContentNode.active=!0,this.getAllButtonNode.active=!0},showStep2:function(){this.otpEditBox.string="",this.moneyNode.active=!1,this.otpNode.active=!0,this.getOtpContentNode.active=!0,this.getAllButtonNode.active=!1},isStep1:function(){return!this.otpNode.active},initWithDrawSuccess:function(){this.isStep1()?this.showStep2():this.showStep1()},clear:function(){this.moneyEditBox.string="",this.otpEditBox.string=""}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../helper/Constant":"Constant","../../../helper/Message":"Message","../../../prefab/item/SafeQuickSelectItem":"SafeQuickSelectItem","../../../util/FormatUtil":"FormatUtil"}],ScrollBottom:[function(t,e,i){"use strict";cc._RF.push(e,"f22c1xoPGhMlJD8Y1j+0RB6","ScrollBottom"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.isScrollBottom=!0},update:function(){this.isScrollBottom&&this.node.getComponent(cc.ScrollView).scrollToBottom(),this.isScrollBottom=!1},onEnable:function(){this.isScrollBottom=!0}}),cc._RF.pop()},{}],Setting:[function(t,e,i){"use strict";cc._RF.push(e,"02c39IxrTxPvLsoCRGoK2vc","Setting");var n=t("./LogOut"),o=t("../../ui/toggle/Toggle"),s=t("../../helper/Constant");cc.Class({extends:cc.Component,properties:{soundToggle:o,inviteGameToggle:o,LogOut:n},init:function(t){this.controller=t},onLoad:function(){this.dialogForm=this.node.getComponent("DialogForm"),this.dialogFormLogOut=this.LogOut.node.getComponent("DialogForm")},onEnable:function(){this.initData()},initData:function(){var t=this.controller.getUser().invite_on,e=cc.sys.localStorage.getItem(s.IS_SOUND);"true"===e||!0===e?(this.soundToggle.setOn(),this.controller.Audio.setSound(!0)):"false"===e||!1===e?(this.soundToggle.setOff(),this.controller.Audio.setSound(!1)):(this.soundToggle.setOn(),this.controller.Audio.setSound(!0)),1==t?this.inviteGameToggle.setOn():this.inviteGameToggle.setOff()},onSoundToggleClick:function(){this.controller.Audio.setSoundClick(),this.controller.Music&&this.controller.Music.setSoundClick()},onInviteGameToggleClick:function(){var t={token:this.controller.getToken(),user_id:this.controller.getUserId()};this.controller.api.updateInviteGame(t,function(t){},function(t){}),this.controller.getUser().invite_on=1==this.controller.getUser().invite_on?0:1},onLogoutClick:function(){this.controller.Audio.playClick(),this.dialogFormLogOut.showDialog()},onGroupClick:function(){this.controller.Audio.playClick();var t=this.controller.getGeneralConfig();t&&cc.sys.openURL(t.GROUP)},onFanpageClick:function(){this.controller.Audio.playClick();var t=this.controller.getGeneralConfig();t&&cc.sys.openURL(t.FANPAGE)}}),cc._RF.pop()},{"../../helper/Constant":"Constant","../../ui/toggle/Toggle":"Toggle","./LogOut":"LogOut"}],ShowHideAnim:[function(t,e,i){"use strict";cc._RF.push(e,"40891/uy31Kw5cwqtDri/VE","ShowHideAnim"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},onEnable:function(){this.node.opacity=255,this.direction=-1,this.is_pause=!0},onDisable:function(){this.is_pause=!1},update:function(t){if(this.is_show_effect&&this.is_pause){this.checkDirection();var e=this.node.opacity+this.direction*t*1e3;e>255&&(e=255),e<10&&(e=10),this.node.opacity=e}},checkDirection:function(){-1===this.direction&&this.node.opacity<=10&&(this.direction=1),1===this.direction&&this.node.opacity>=255&&(this.direction=-1)},showEffect:function(){this.is_show_effect=!0},hideEffect:function(){this.is_show_effect=!1,this.node.opacity=255}}),cc._RF.pop()},{}],Slot2AutoSpinSetting:[function(t,e,i){"use strict";cc._RF.push(e,"ea7adO8NHhJeZ/oJiZmFE/K","Slot2AutoSpinSetting");var n=t("../Slot2Constant"),o=t("../../../util/FormatUtil"),s=t("../../../helper/Config");cc.Class({extends:cc.Component,properties:{numberSpinLabel:cc.Label,numberSpinSlider:cc.Slider,stopGameJackpotToggle:cc.Toggle,stopGameWinToToggle:cc.Toggle,stopGameLoseToToggle:cc.Toggle,stopGameMaxWinToggle:cc.Toggle,stopGameWinToEditBox:cc.EditBox,stopGameLoseToEditBox:cc.EditBox,stopGameMaxWinEditBox:cc.EditBox},init:function(t){this.Slot2=t,this.Slot2UI=t.Slot2UI},onLoad:function(){this.defaultNumberAutoSpin=s.SLOT2_NUMBER_AUTO_SPIN[0],this.stopGameJackpot=!1,this.stopGameWinTo=!1,this.stopGameLoseTo=!1,this.stopGameMaxWin=!1,this.winTo=0,this.loseTo=0,this.maxWin=0,this.lastWin=0,this.totalMoneyChange=0,this.isJackpot=!1,this.autoSpin=!1,this.dialogForm=this.node.getComponent("DialogForm")},onEnable:function(){this.reset()},onNumberSpinSlider:function(){var t=this.numberSpinSlider.progress;t>=1-1/14?(this.defaultNumberAutoSpin=s.SLOT2_NUMBER_AUTO_SPIN[7],t=1):t>=6/7-1/14?(this.defaultNumberAutoSpin=s.SLOT2_NUMBER_AUTO_SPIN[6],t=6/7):t>=5/7-1/14?(this.defaultNumberAutoSpin=s.SLOT2_NUMBER_AUTO_SPIN[5],t=5/7):t>=.5?(this.defaultNumberAutoSpin=s.SLOT2_NUMBER_AUTO_SPIN[4],t=4/7):t>=3/7-1/14?(this.defaultNumberAutoSpin=s.SLOT2_NUMBER_AUTO_SPIN[3],t=3/7):t>=2/7-1/14?(this.defaultNumberAutoSpin=s.SLOT2_NUMBER_AUTO_SPIN[2],t=2/7):t>=1/7-1/14?(this.defaultNumberAutoSpin=s.SLOT2_NUMBER_AUTO_SPIN[1],t=1/7):(this.defaultNumberAutoSpin=s.SLOT2_NUMBER_AUTO_SPIN[0],t=0),this.numberSpinSlider.progress=t},onStopGameWinToChange:function(){var t=this.stopGameWinToEditBox.string,e=o.numberWithCommas(o.getOnlyNumberInString(t));this.stopGameWinToEditBox.string=e},onStopGameLoseToChange:function(){var t=this.stopGameLoseToEditBox.string,e=o.numberWithCommas(o.getOnlyNumberInString(t));this.stopGameLoseToEditBox.string=e},onStopGameMaxWinChange:function(){var t=this.stopGameMaxWinEditBox.string,e=o.numberWithCommas(o.getOnlyNumberInString(t));this.stopGameMaxWinEditBox.string=e},onResetClick:function(){this.stopGameJackpotToggle.isChecked=!1,this.stopGameWinToToggle.isChecked=!1,this.stopGameLoseToToggle.isChecked=!1,this.stopGameMaxWinToggle.isChecked=!1,this.stopGameWinToEditBox.string=0,this.stopGameLoseToEditBox.string=0,this.stopGameMaxWinEditBox.string=0,this.numberSpinSlider.progress=0,this.numberSpinLabel.string=0},onSpinClick:function(){this.stopGameJackpot=this.stopGameJackpotToggle.isChecked,this.stopGameWinTo=this.stopGameWinToToggle.isChecked,this.stopGameLoseTo=this.stopGameLoseToToggle.isChecked,this.stopGameMaxWin=this.stopGameMaxWinToggle.isChecked,this.winTo=parseInt(o.getOnlyNumberInString(this.stopGameWinToEditBox.string.toString())),this.loseTo=parseInt(o.getOnlyNumberInString(this.stopGameLoseToEditBox.string.toString())),this.maxWin=parseInt(o.getOnlyNumberInString(this.stopGameMaxWinEditBox.string.toString())),this.lastWin=0,this.totalMoneyChange=0,this.isJackpot=!1,this.autoSpin=!0,this.numberAutoSpin=this.defaultNumberAutoSpin,this.Slot2.Slot2State.setAutoSpin(),this.numberSpinLabel.string=o.numberWithCommas(this.numberAutoSpin),this.Slot2.spin(),this.dialogForm.hideDialog(!1)},handleSpin:function(t){if(this.Slot2.Slot2State.isAutoSpin()){var e=t.win_type,i=t.total_prize_amount||t.win_prize,s=i-this.Slot2.getTotalBet();this.addTotalMoneyChange(s),this.numberAutoSpin--,e===n.WIN_TYPE_JACKPOT&&(this.isJackpot=!0),this.lastWin=i,this.numberSpinLabel.string=o.numberWithCommas(this.numberAutoSpin)}},addTotalMoneyChange:function(t){this.totalMoneyChange+=t},stopAutoSpin:function(){this.autoSpin=!1},isAutoSpin:function(){return this.autoSpin},checkAutoSpin:function(){var t=this.numberAutoSpin>0,e=!this.stopGameWinTo||this.totalMoneyChange<this.winTo,i=!this.stopGameLoseTo||this.totalMoneyChange>-this.loseTo,n=!this.stopGameMaxWin||this.lastWin<this.maxWin,o=!this.stopGameJackpot||!this.isJackpot,s=this.Slot2.getMoney()>=this.Slot2.getBet()*this.Slot2.Slot2SelectLine.getNumberLineSelected();return this.autoSpin&&t&&e&&i&&n&&o&&s},reset:function(){this.stopGameJackpot=!1,this.stopGameWinTo=!1,this.stopGameLoseTo=!1,this.stopGameMaxWin=!1,this.winTo=0,this.loseTo=0,this.maxWin=0,this.lastWin=0,this.totalMoneyChange=0,this.isJackpot=!1,this.autoSpin=!1}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../util/FormatUtil":"FormatUtil","../Slot2Constant":"Slot2Constant"}],Slot2BonusItem:[function(t,e,i){"use strict";cc._RF.push(e,"84afdwCe+1Er5Hho5kMhrGu","Slot2BonusItem");var n=t("../../util/FormatUtil"),o=t("../../helper/Message"),s=t("../../scene/game-slot-2/Slot2Constant");cc.Class({extends:cc.Component,properties:{notOpenNode:cc.Node,openNode:cc.Node,bonusNode:cc.Node,moneyNode:cc.Node,moneyLabel:cc.Label},init:function(t){this.Slot2=t,this.Slot2UI=t.Slot2UI,this.Slot2Bonus=t.Slot2Bonus},onLoad:function(){this.click=!1,this.open=!1},onClick:function(){this.Slot2.Slot2State.isAutoSpin()?this.Slot2.showToast(o.SLOT2_AUTOSPIN_NOT_CHANGE):this.click||this.Slot2Bonus.isStateStop()||(this.click=!0,this.Slot2Bonus.setStateStop(!0),this.Slot2Bonus.onItemClick(this))},onClickIsAutoSpin:function(){this.Slot2.Slot2State.isAutoSpin()&&(this.click||this.Slot2Bonus.isStateStop()||(this.click=!0,this.Slot2Bonus.setStateStop(!0),this.Slot2Bonus.onItemClick(this)))},openBox:function(t,e,i){this.open=!0,this.initType(t,i),e||this.Slot2Bonus.setStateStop(!1)},initType:function(t,e){switch(t.item_id){case s.BONUS_KEY:this.showBonus(t);break;case s.BONUS_MONEY:case s.BONUS_MINIGAME:this.setMoney(t)}},setMoney:function(t){var e=n.nFormatter(t,2).replace("k","K");this.moneyLabel.string=e,this.showMoney()},isOpen:function(){return this.open},isClick:function(){return this.click},showNormalBox:function(){this.hideAll(),this.notOpenNode.active=!0},showOpenBox:function(){this.hideAll(),this.openNode.active=!0},showMoney:function(){this.showOpenBox(),this.moneyNode.active=!0},hideMoney:function(){this.moneyNode.active=!1},showBonus:function(t){this.hideAll(),this.bonusNode.active=!0},hideAll:function(){this.notOpenNode.active=!1,this.openNode.active=!1,this.bonusNode.active=!1,this.moneyNode.active=!1},reset:function(){this.click=!1,this.open=!1,this.moneyNode.active=!1,this.moneyLabel.node.active=!0,this.showNormalBox()}}),cc._RF.pop()},{"../../helper/Message":"Message","../../scene/game-slot-2/Slot2Constant":"Slot2Constant","../../util/FormatUtil":"FormatUtil"}],Slot2BonusResult:[function(t,e,i){"use strict";cc._RF.push(e,"0a711zqDChGlpYMLpzKmqiA","Slot2BonusResult");var n=t("../../../prefab/mini-game/item/JackpotItem");cc.Class({extends:cc.Component,properties:{moneyJackpotItem:n},init:function(t){this.Slot2=t,this.Slot2UI=t.Slot2UI},onLoad:function(){this.dialogForm=this.node.getComponent("DialogForm")},setMoney:function(t){this.moneyJackpotItem.setMoneyWithoutAnimation(0),this.moneyJackpotItem.setMoney(t)}}),cc._RF.pop()},{"../../../prefab/mini-game/item/JackpotItem":"JackpotItem"}],Slot2Bonus:[function(t,e,i){"use strict";cc._RF.push(e,"e292akkzy5Cy7S7zkTR+Kdk","Slot2Bonus");var n=t("../../prefab/slot-2/Slot2BonusItem"),o=t("./Slot2Constant"),s=t("../../prefab/slot-2/Slot2MiniGameItem"),a=t("../../util/RandomUtil");cc.Class({extends:cc.Component,properties:{remainLabel:cc.Label,minigameBonusNode:cc.Node,closeMiniGameNode:cc.Node,Slot2BonusItem:[n],Slot2MiniGameItem:[s]},init:function(t){this.Slot2=t,this.Slot2UI=t.Slot2UI,this.Slot2X=t.Slot2X;for(var e=0;e<this.Slot2BonusItem.length;e++)this.Slot2BonusItem[e].init(t);for(var i=0;i<this.Slot2MiniGameItem.length;i++)this.Slot2MiniGameItem[i].init(t)},onLoad:function(){this.timeOutResult=null,this.openAllEggeTimeOut=null,this.openAutoSpinTimeOut=null,this.dialogMinigame=this.minigameBonusNode.getComponent("DialogForm")},initData:function(t){this.data=t},initContent:function(){this.data&&(this.bonus=this.data.list_bonus_prize,this.x_bonus=this.data.number_key_start_bonus,this.remainBonus=10,this.setRemainBonus(this.remainBonus))},onEnable:function(){this.reset(),this.initContent(),this.Slot2UI.hideJackpot(),this.Slot2.Slot2State.isAutoSpin()&&this.autoOpenBox()},onDisable:function(){this.Slot2UI.showJackpot(),this.Slot2UI.hideBonusResultForm(!1),this.data.is_free?this.Slot2.spin():this.Slot2.Slot2State.isAutoSpin()?this.Slot2.spin():this.Slot2.Slot2State.setStop()},autoOpenBox:function(){clearInterval(this.intervalAutoOpenBonusItem),this.intervalAutoOpenBonusItem=setInterval(function(){clearInterval(this.intervalAutoOpenBonusItem);var t=this.getItemBonusNotOpen();t&&t.onClickIsAutoSpin()}.bind(this),1200)},onItemClick:function(t){if(this.bonus.length>0){var e=this.bonus[0];this.bonus.splice(0,1);var i=e.line,n=e.prize;this.openBonusItem(t,i,n)}},openBonusItem:function(t,e,i){switch(e){case o.BONUS_KEY:this.openItemBonusKey(t,i);break;case o.BONUS_MONEY:this.openItemBonusMoney(t,i);break;case o.BONUS_MINIGAME:this.openItemBonusMiniGame(t,i)}},openItemBonusKey:function(t,e){this.x_bonus++,t.showBonus(),this.setRemainBonus(this.remainBonus),this.setStateStop(!1),this.checkFinishMiniGameBonus()},openItemBonusMoney:function(t,e){this.remainBonus--,t.setMoney(e),this.setRemainBonus(this.remainBonus),this.setStateStop(!1),this.checkFinishMiniGameBonus()},openItemBonusMiniGame:function(t,e){this.remainBonus--,this.bonusPrize=e,this.bonusItemMiniGame=t,t.showOpenBox(),this.setRemainBonus(this.remainBonus),this.showMiniGame();for(var i=0;i<this.Slot2MiniGameItem.length;i++)this.Slot2MiniGameItem[i].reset();this.setStateStop(!1),this.Slot2.Slot2State.isAutoSpin()&&(clearInterval(this.intervalAutoOpenMiniGameItem),this.intervalAutoOpenMiniGameItem=setInterval(function(){this.getItemMiniGameNotOpen().onClick(),clearInterval(this.intervalAutoOpenMiniGameItem)}.bind(this),2e3))},openItemMiniGame:function(t){this.bonusItemMiniGame&&this.bonusItemMiniGame.setMoney(this.bonusPrize),t.setMoney(this.bonusPrize,!0),this.openMiniGameItemByMultipBet(10),this.openMiniGameItemByMultipBet(15),this.openMiniGameItemByMultipBet(15),this.openMiniGameItemByMultipBet(20),this.setStateStop(!1),this.showCloseMiniGame(),this.checkFinishMiniGameBonus()},openMiniGameItemByMultipBet:function(t){var e=t*this.Slot2.getBet()*this.x_bonus,i=this.getItemMiniGameNotOpen();i&&i.setMoney(e,!1)},getItemMiniGameNotOpen:function(){var t=[];for(var e in this.Slot2MiniGameItem)this.Slot2MiniGameItem[e].isOpen()||this.Slot2MiniGameItem[e].isClick()||t.push(this.Slot2MiniGameItem[e]);return t[a.getRandomInt(0,t.length-1)]},getItemBonusNotOpen:function(){var t=[];for(var e in this.Slot2BonusItem)this.Slot2BonusItem[e].isOpen()||this.Slot2BonusItem[e].isClick()||t.push(this.Slot2BonusItem[e]);return t[a.getRandomInt(0,t.length-1)]},isStateStop:function(){return this.stateBonus},setStateStop:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.stateBonus=t},setRemainBonus:function(t){void 0!==t&&(this.remainLabel.string=t)},checkFinishMiniGameBonus:function(){this.bonus.length<=0?(clearInterval(this.intervalShowResultForm),clearInterval(this.intervalShowGameContent),this.intervalShowResultForm=setInterval(function(){this.Slot2.showBonusResult(this.data.bonus_prize),clearInterval(this.intervalShowResultForm)}.bind(this),2500),this.intervalShowGameContent=setInterval(function(){this.Slot2UI.showContentGame(),clearInterval(this.intervalShowGameContent)}.bind(this),3500)):this.Slot2.Slot2State.isAutoSpin()&&(this.autoOpenBox(),this.minigameBonusNode.active&&(clearInterval(this.intervalHideMiniGameContentNode),this.intervalHideMiniGameContentNode=setInterval(function(){this.hideMiniGame(),clearInterval(this.intervalHideMiniGameContentNode)}.bind(this),1e3)))},showMiniGame:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogMinigame.showDialog(t)},hideMiniGame:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogMinigame.hideDialog(t)},showCloseMiniGame:function(){this.closeMiniGameNode.active=!0},hideCloseMiniGame:function(){this.closeMiniGameNode.active=!1},reset:function(){for(var t in this.bonus=[],this.bonusPrize=0,this.hideCloseMiniGame(),this.setStateStop(!1),clearInterval(this.intervalShowResultForm),clearInterval(this.intervalShowGameContent),clearInterval(this.intervalAutoOpenMiniGameItem),clearInterval(this.intervalAutoOpenBonusItem),clearInterval(this.intervalHideMiniGameContentNode),this.Slot2BonusItem)this.Slot2BonusItem[t].reset();for(var e in this.Slot2MiniGameItem)this.Slot2MiniGameItem[e].reset()}}),cc._RF.pop()},{"../../prefab/slot-2/Slot2BonusItem":"Slot2BonusItem","../../prefab/slot-2/Slot2MiniGameItem":"Slot2MiniGameItem","../../util/RandomUtil":"RandomUtil","./Slot2Constant":"Slot2Constant"}],Slot2ChatItem:[function(t,e,i){"use strict";cc._RF.push(e,"7c0aaZnY3ZHkKZgcKDJd4gd","Slot2ChatItem");var n=t("../../helper/Message"),o=t("../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{messageRichText:cc.RichText},onLoad:function(){},init:function(t){if(Array.isArray(t)){for(var e="",i=0;i<t.length;i++)e+=String.format(n.CHAT_SLOT_2_MESSAGE,t[i].nick_name,o.formatMessage(t[i].msg)||o.formatMessage(t[i].message)),i!==t.length-1&&(e+="\n");this.messageRichText.string=e}else this.messageRichText.string=String.format(n.CHAT_SLOT_2_MESSAGE,t.nick_name,o.formatMessage(t.msg)||o.formatMessage(t.message))},initFail:function(t){this.setMessageFail(t)},setMessageFail:function(t){this.messageRichText.string=String.format(n.CHAT_MESSAGE_FAIL,t)}}),cc._RF.pop()},{"../../helper/Message":"Message","../../util/FormatUtil":"FormatUtil"}],Slot2Chat:[function(t,e,i){"use strict";cc._RF.push(e,"001ddg07V1EbYT0iRXk02cd","Slot2Chat");var n=t("../../../util/BrowserUtil"),o=t("../../../helper/Constant");cc.Class({extends:cc.Component,properties:{chatEditBox:cc.EditBox,chatItemPrefab:cc.Prefab,chatScrollView:cc.ScrollView},init:function(t){this.Slot2=t},onLoad:function(){this.Slot2.sendRequest.sendNoPrefixToZone("CHAT."+o.REQUEST_CHAT_GET_CHAT)},update:function(t){0===this.number&&this.chatScrollView.scrollToBottom(),this.number++},initChat:function(t){t&&(this.instanceChatItem(t),this.scrollToBottom())},addChatFail:function(t){this.instanceChatItem(t,!0),this.checkBottom()&&this.chatScrollView.scrollToBottom()},addChat:function(t){this.instanceChatItem(t),this.checkBottom()&&this.chatScrollView.scrollToBottom()},instanceChatItem:function(t,e){var i=cc.instantiate(this.chatItemPrefab);e?i.getComponent("Slot2ChatItem").initFail(t):i.getComponent("Slot2ChatItem").init(t),this.chatScrollView.content.addChild(i)},checkBottom:function(){var t=this.chatScrollView.getScrollOffset().y,e=this.chatScrollView.node.height,i=this.chatScrollView.content.height;return Math.abs(t+e-i)<=50},scrollToBottom:function(){this.number=0},onChatClick:function(){var t=this.chatEditBox.string;this.sendChat(t)},sendChat:function(t){if(this.unFocusChatEditBox(),""!==t.trim()){var e={msg:t};this.chatEditBox.string="",n.focusGame(),this.focusChatEditBox(),this.Slot2.sendRequest.sendNoPrefixToZone("CHAT."+o.REQUEST_CHAT_SEND_CHAT,e)}else n.focusGame()},focusChatEditBox:function(){n.focusEditBox(this.chatEditBox)},unFocusChatEditBox:function(){n.unFocusEditBox(this.chatEditBox)}}),cc._RF.pop()},{"../../../helper/Constant":"Constant","../../../util/BrowserUtil":"BrowserUtil"}],Slot2Constant:[function(t,e,i){"use strict";cc._RF.push(e,"30257+2LblDEYtSqRlfFrx5","Slot2Constant");e.exports={SPIN:"SPIN",SPIN_DEMO:"SPIN_DEMO",SPIN_BONUS:"SPIN_BONUS",SPIN_BONUS_DEMO:"SPIN_BONUS_DEMO",SPIN_FAIL:"SPIN_FAIL",JACKPOT:"jackpot",UPDATE_BIGWIN:"UPDATE_BIGWIN",GET_TOP:"GET_TOP",ALADIN:"ALADIN",SINBAD:"SINBAD",ALIBABA:"ALIBABA",WIN_TYPE_ZERO:0,WIN_TYPE_NORMAL:1,WIN_TYPE_BIG_WIN:2,WIN_TYPE_SUPER_BIG_WIN:3,WIN_TYPE_JACKPOT:4,BONUS_KEY:0,BONUS_MONEY:1,BONUS_MINIGAME:2,NUM_IN_HISTORY:10,LIST_ICONS:["A","B","C","D","E","F","G"],LIST_LINES:[[6,7,8,9,10],[1,2,3,4,5],[11,12,13,14,15],[6,7,3,9,10],[6,7,13,9,10],[1,2,8,4,5],[11,12,8,14,15],[1,12,3,14,5],[11,2,13,4,15],[6,2,13,4,10],[11,7,3,9,15],[1,7,13,9,5],[6,12,8,4,10],[6,2,8,14,10],[11,7,8,9,15],[1,7,8,9,5],[6,12,13,14,10],[6,2,3,4,10],[11,12,8,4,5],[1,2,8,14,15]]},cc._RF.pop()},{}],Slot2Control:[function(t,e,i){"use strict";cc._RF.push(e,"b4f963b9tBEKoxK99iI7bfQ","Slot2Control");t("../../util/FormatUtil"),t("../../helper/Config");var n=t("../../helper/Message");cc.Class({extends:cc.Component,properties:{},init:function(t){this.Slot2=t,this.Slot2UI=t.Slot2UI},onLoad:function(){},onSpinClick:function(){this.Slot2.isCanChangeBet()&&!this.Slot2.isBonus()&&(this.Slot2.Audio.playClick(),this.Slot2.spin())},onAutoSpinClick:function(){this.Slot2.Audio.playClick(),!this.Slot2.isCanChangeBet()||this.Slot2.isTest()||this.Slot2.isBonus()||this.Slot2.isFreeSpin()?this.Slot2.showToast(n.SLOT_NOT_AUTO_SPIN):this.Slot2UI.showAutoSpinSettingFormNode()},onStopAutoSpinClick:function(){this.Slot2.Audio.playClick(),this.Slot2.Slot2State.setSpinning(),this.Slot2.Slot2AutoSpinSetting.stopAutoSpin()},onAddClick:function(){this.Slot2.Audio.playClick(),!this.Slot2.isCanChangeBet()||this.Slot2.isTest()||this.Slot2.isBonus()||this.Slot2.isFreeSpin()?this.Slot2.showToast(n.SLOT_NOT_AUTO_SPIN):this.Slot2.addBet()},onMinusClick:function(){this.Slot2.Audio.playClick(),!this.Slot2.isCanChangeBet()||this.Slot2.isTest()||this.Slot2.isBonus()||this.Slot2.isFreeSpin()?this.Slot2.showToast(n.SLOT_NOT_AUTO_SPIN):this.Slot2.minusBet()},onAddLineClick:function(){this.Slot2.Audio.playClick(),!this.Slot2.isCanChangeBet()||this.Slot2.isTest()||this.Slot2.isBonus()||this.Slot2.isFreeSpin()?this.Slot2.showToast(n.SLOT_NOT_AUTO_SPIN):this.Slot2UI.showSelectLineFormNode()},onMinusLineClick:function(){this.Slot2.Audio.playClick(),!this.Slot2.isCanChangeBet()||this.Slot2.isTest()||this.Slot2.isBonus()||this.Slot2.isFreeSpin()?this.Slot2.showToast(n.SLOT_NOT_AUTO_SPIN):this.Slot2UI.showSelectLineFormNode()}}),cc._RF.pop()},{"../../helper/Config":"Config","../../helper/Message":"Message","../../util/FormatUtil":"FormatUtil"}],Slot2Effect:[function(t,e,i){"use strict";cc._RF.push(e,"6b417Hn4EVH6qJeD8Cx4sW8","Slot2Effect");var n=t("../../prefab/mini-game/item/JackpotItem");cc.Class({extends:cc.Component,properties:{winNormalNode:cc.Node,moreEffectNode:cc.Node,winNormalJackpotItem:n,moreMoneyJackpotItem:n,freeSpinSkeleton:sp.Skeleton,bonusSkeleton:sp.Skeleton,jackpotSkeleton:sp.Skeleton,bigWinSkeleton:sp.Skeleton},init:function(t){this.Slot2=t,this.Slot2UI=t.Slot2UI,this.Music=t.Music},onLoad:function(){},showWinNormal:function(t){this.hideAll(),this.winNormalNode.active=!0,this.winNormalJackpotItem.setMoneyWithoutAnimation(t/2),this.winNormalJackpotItem.setMoneyWithAnimation(t),this.Music.soundWinNormal()},showBigWin:function(t){this.hideAll(),this.moreEffectNode.active=!0,this.bigWinSkeleton.node.active=!0,this.bigWinSkeleton.setAnimation(0,"Win",!0),this.moreMoneyJackpotItem.node.active=!1,this.Music.soundBigWin(),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){this.moreMoneyJackpotItem.node.active=!0,this.moreMoneyJackpotItem.setMoneyWithoutAnimation(t/2),this.moreMoneyJackpotItem.setMoneyWithAnimation(t)},this)))},showSuperBigWin:function(t){this.showBigWin(t)},showJackpot:function(t){this.hideAll(),this.moreEffectNode.active=!0,this.jackpotSkeleton.node.active=!0,this.jackpotSkeleton.setAnimation(0,"Jackpot",!0),this.moreMoneyJackpotItem.node.active=!1,this.Music.soundJackpot(),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){this.moreMoneyJackpotItem.node.active=!0,this.moreMoneyJackpotItem.setMoneyWithoutAnimation(t/2),this.moreMoneyJackpotItem.setMoneyWithAnimation(t)},this)))},showBonus:function(t){this.hideAll(),this.moreEffectNode.active=!0,this.bonusSkeleton.node.active=!0,this.bonusSkeleton.setAnimation(0,"Bonus",!0),this.node.stopAllActions(!0),this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){this.hideAll(),this.node.runAction(cc.sequence(cc.delayTime(.75),cc.callFunc(function(){this.Slot2.Slot2Bonus.initData(t),this.Slot2.Slot2Bonus.setRemainBonus(t.remain_bonus),this.Slot2.showBonusGame(t)},this)))},this)))},showFreeSpin:function(){this.hideAll(),this.moreEffectNode.active=!0,this.freeSpinSkeleton.node.active=!0,this.freeSpinSkeleton.setAnimation(0,"Freespin",!0),this.node.stopAllActions(!0),this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){this.hideAll()},this)))},hideAll:function(){this.winNormalNode.active=!1,this.moreEffectNode.active=!1,this.moreMoneyJackpotItem.node.active=!1,this.freeSpinSkeleton.clearTrack(0),this.bonusSkeleton.clearTrack(0),this.jackpotSkeleton.clearTrack(0),this.bigWinSkeleton.clearTrack(0),this.freeSpinSkeleton.node.active=!1,this.bonusSkeleton.node.active=!1,this.jackpotSkeleton.node.active=!1,this.bigWinSkeleton.node.active=!1}}),cc._RF.pop()},{"../../prefab/mini-game/item/JackpotItem":"JackpotItem"}],Slot2HandlerRequest:[function(t,e,i){"use strict";cc._RF.push(e,"d8351HlsdxKbZ6Omt6+1ogU","Slot2HandlerRequest");var n=t("../../helper/Constant"),o=(t("../../helper/Message"),t("./Slot2Constant")),s={init:function(t){this.Slot2=t,this.Slot2UI=t.Slot2UI},onUserVariablesUpdate:function(t){var e=t.user,i=t.changedVars;if(e.isItMe)for(var o in i)switch(i[o]){case n.MONEY:this.Slot2.updateMoneyGold();break;case n.GOLD:break;case n.DIAMOND_EVENT:case n.DIAMOND_LEVEL_EVENT:}},onResponse:function(t){var e=t.params,i=t.cmd;switch("MINIGAME"!==i&&n.NEWS,i){case o.JACKPOT:this.Slot2.handleJackpot(e);break;case o.SPIN:this.Slot2.handleSpin(e);break;case o.SPIN_DEMO:this.Slot2.handleSpinDemo(e);break;case o.SPIN_BONUS:this.Slot2.handleSpinBonus(e);break;case o.SPIN_BONUS_DEMO:this.Slot2.handleSpinBonusDemo(e);break;case o.SPIN_FAIL:this.Slot2.handleSpinFail(e);break;case o.GET_TOP:this.Slot2.handleGetTop(e),this.Slot2.MiniGame&&this.Slot2.MiniGame.handleRequest(e);break;case o.UPDATE_BIGWIN:break;case n.MINIGAME_REQUEST:this.Slot2.MiniGame&&this.Slot2.MiniGame.handleRequest(e);break;case n.REQUEST_RECHARGE_GOLD:this.Slot2.handleRechargeGold(e);break;case n.REQUEST_PLAYER_RECEIVE_ALERT:this.Slot2.handleAlert(e);break;case n.REQUEST_PLAYER_RECEIVE_NEW_MESSAGE:this.Slot2.handleNewMessage(e);break;case n.REQUEST_ACHIVEMENTED_QUEST:this.Slot2.handleAchivementedQuest(e);break;case n.REQUEST_PLUS_LUCKY_WHEEL_FREE:this.Slot2.handlePlusLuckyWheelFree(e);break;case n.REQUEST_CHAT_GET_CHAT:case n.REQUEST_CHAT_SEND_CHAT:break;case n.UPDATE_MINIGAME_FREE:this.Slot2.MiniGame&&this.Slot2.MiniGame.initNumberSpinFreeGame(e)}}};e.exports=s,cc._RF.pop()},{"../../helper/Constant":"Constant","../../helper/Message":"Message","./Slot2Constant":"Slot2Constant"}],Slot2Header:[function(t,e,i){"use strict";cc._RF.push(e,"d4fb7f6IYRAo5ITxa7b7lYL","Slot2Header");var n=t("../../helper/Message");cc.Class({extends:cc.Component,properties:{listMenuNode:cc.Node},init:function(t){this.Slot2=t,this.Slot2UI=t.Slot2UI},onLoad:function(){},onEnable:function(){},onTestClick:function(){this.Slot2.Audio.playClick(),!this.Slot2.isCanChangeBet()||this.Slot2.isBonus()||this.Slot2.isFreeSpin()?this.Slot2.showToast(n.SLOT_NOT_CHANGE_SPIN):(this.Slot2UI.showPlayButton(),this.Slot2.initDataTest())},onPlayClick:function(){this.Slot2.Audio.playClick(),!this.Slot2.isCanChangeBet()||this.Slot2.isBonus()||this.Slot2.isFreeSpin()?this.Slot2.showToast(n.SLOT_NOT_CHANGE_SPIN):(this.Slot2UI.showTestButton(),this.Slot2.initDataBet(this.Slot2.getFistBet()))},onShopClick:function(){this.Slot2.Audio.playClick(),this.Slot2.showDialogMessage(n.RECHARGE_MONEY_TITLE,"H\u1ec7 th\u1ed1ng n\u1ea1p th\u1ebb \u0111ang b\u1ea3o tr\xec")},onBackClick:function(){this.Slot2.Audio.playClick(),this.Slot2.isCanChangeBet()?this.Slot2.onBackClick():this.Slot2.showToast(n.SLOT_NOT_CHANGE_SPIN)},onMenuClick:function(){this.Slot2.Audio.playClick(),this.listMenuNode.active=!this.listMenuNode.active},onSettingClick:function(){this.Slot2.Audio.playClick(),this.Slot2UI.showSettingFormNode()},onRankClick:function(){this.Slot2.Audio.playClick(),this.Slot2UI.showRankFormNode()},onHelpClick:function(){this.Slot2.Audio.playClick(),this.Slot2UI.showBonusFormNode()},onTutorialClick:function(){},onHistoryClick:function(){this.Slot2.Audio.playClick(),this.Slot2.Slot2UI.showHistoryFormNode()}}),cc._RF.pop()},{"../../helper/Message":"Message"}],Slot2HistoryItem2:[function(t,e,i){"use strict";cc._RF.push(e,"a13a87l+wtOb6r8rzyaEOF9","Slot2HistoryItem2");var n=t("../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{idLabel:cc.Label,timeLabel:cc.Label,betLabel:cc.Label,numberLineLabel:cc.Label,balanceLabel:cc.Label},onLoad:function(){},init:function(t){var e=t.list_line_win_amount;e=JSON.parse(e),t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.idLabel.string=t.id,this.timeLabel.string=n.getStringDateByTimeStamp(t.created_at),this.betLabel.string=n.numberWithCommas(t.spin_fee),this.numberLineLabel.string=e.length,this.balanceLabel.string=n.numberWithCommas(t.total_prize_amount)}}),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil"}],Slot2HistoryItem:[function(t,e,i){"use strict";cc._RF.push(e,"8d6e6Ht451AW7sYfsy0TlSr","Slot2HistoryItem");var n=t("../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{idLabel:cc.Label,timeLabel:cc.Label,betLabel:cc.Label,numberLineLabel:cc.Label,balanceLabel:cc.Label,noteLabel:cc.Label},onLoad:function(){},init:function(t){var e=t.list_line_win_amount;e=JSON.parse(e),t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.idLabel.string=t.id,this.timeLabel.string=n.getStringDateByTimeStamp(t.created_at),this.betLabel.string=n.numberWithCommas(t.spin_fee),this.numberLineLabel.string=e.length,this.balanceLabel.string=n.numberWithCommas(t.total_prize_amount),this.noteLabel.string=""}}),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil"}],Slot2History:[function(t,e,i){"use strict";cc._RF.push(e,"975d1Ok2HFCR5vKM1VIoodk","Slot2History");var n=t("../../../helper/Message");cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,slotHistoryItemPrefab:cc.Prefab,listScrollView:cc.ScrollView},init:function(t){this.Slot2=t,this.Slot2UI=t.Slot2UI},onLoad:function(){this.data=null},onEnable:function(){this.loadData()},loadData:function(){var t=this;if(this.showLoadingNode(),this.listScrollView.content.removeAllChildren(!0),this.data)this.initData();else{var e={token:this.Slot2.getToken(),user_id:this.Slot2.getUserId()};this.Slot2.api.getHistorySlot2(e,function(e){t.data=e.data,t.initData()},function(e){t.showListNode(),t.Slot2.showDialogMessage(n.HISTORY_TITLE,e.msg)})}},initData:function(){if(this.showListNode(),this.data){var t=this.data[0];for(var e in t){var i=cc.instantiate(this.slotHistoryItemPrefab);i.parent=this.listScrollView.content,i.getComponent("Slot2HistoryItem").init(t[e])}}},showLoadingNode:function(){this.loadingNode.active=!0,this.listScrollView.node.active=!1},showListNode:function(){this.loadingNode.active=!1,this.listScrollView.node.active=!0},isMoneyType:function(){return this.moneyOnButtonNode.active},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{"../../../helper/Message":"Message"}],Slot2Item:[function(t,e,i){"use strict";cc._RF.push(e,"d9431nsGtdK/5EmVakeGVnq","Slot2Item"),cc.Class({extends:cc.Component,properties:{slotSprite:cc.Sprite,litSpriteFrame:[cc.SpriteFrame],item1Node:cc.Node,item3Node:cc.Node},onLoad:function(){},init:function(t){this.index=t;var e=void 0;switch(this.hideAll(),this.index){case"A":this.item1Node.active=!0,e=0;break;case"B":this.slotSprite.node.active=!0,e=1;break;case"C":this.slotSprite.node.active=!0,e=3;break;case"D":this.slotSprite.node.active=!0,e=4;break;case"E":this.slotSprite.node.active=!0,e=5;break;case"F":this.slotSprite.node.active=!0,e=6;break;case"G":this.item3Node.active=!0,e=2}this.slotSprite.spriteFrame=this.litSpriteFrame[e],11===t&&(this.node.zIndex=1e3)},hideAll:function(){this.slotSprite.node.active=!1,this.item1Node.active=!1,this.item3Node.active=!1},show:function(){this.showEffect()},isBonus:function(){},getIndex:function(){return this.index},showEffect:function(){this.node.getComponent(cc.Animation).play()},hideEffect:function(){this.node.getComponent(cc.Animation).stop(),this.node.skewX=0,this.node.skewY=0},reset:function(){this.hideEffect()}}),cc._RF.pop()},{}],Slot2Jackpot2Item:[function(t,e,i){"use strict";cc._RF.push(e,"68e856s1etFyYqt0MUAmYs9","Slot2Jackpot2Item");var n=t("../../util/FormatUtil"),o=(t("../../helper/Message"),t("../../util/Util"));cc.Class({extends:cc.Component,properties:{idLabel:cc.Label,prefixNickNameLabel:cc.Label,nickNameLabel:cc.Label,balanceLabel:cc.Label,timeLabel:cc.Label},onLoad:function(){},init:function(t,e){t?(t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.idLabel.string=parseInt(e)+1,this.prefixNickNameLabel.string=o.getServerID(t.server_id),this.nickNameLabel.string=t.nick_name,this.balanceLabel.string=n.numberWithCommas(t.total_prize_value||t.total_prize_amount),this.timeLabel.string=n.getStringDateByTimeStamp(t.created_at),this.prefixNickNameLabel.node.color=new cc.Color(255,173,0,255),this.nickNameLabel.node.color=new cc.Color(255,244,141,255)):this.node.active=!1}}),cc._RF.pop()},{"../../helper/Message":"Message","../../util/FormatUtil":"FormatUtil","../../util/Util":"Util"}],Slot2JackpotForm:[function(t,e,i){"use strict";cc._RF.push(e,"0f47aJiZA5MWJb3b8HfkrOB","Slot2JackpotForm");t("../../../helper/Config"),t("../../../prefab/mini-game/item/JackpotItem");var n=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{contentScrollView:cc.ScrollView,jackpotItemPrefab:cc.Prefab},init:function(t){this.Slot2=t,this.Slot2UI=t.Slot2UI},onLoad:function(){this.pool=new cc.NodePool;for(var t=0;t<10;t++){var e=cc.instantiate(this.jackpotItemPrefab);this.pool.put(e)}},onEnable:function(){},initData:function(t){t&&(this.data=t,this.initJackpot())},initJackpot:function(){this.putAllChipToPool(),this.contentScrollView.node.active=!0;var t=n.sortDataTimeByTime(this.data.list_player_jackpot);for(var e in t=n.filterSameItemSlot(t)){this.instanceItem(t[e]).parent=this.contentScrollView.content}},instanceItem:function(t){var e=void 0;return this.pool&&(e=this.pool.get()),e||(e=cc.instantiate(this.jackpotItemPrefab)),e.getComponent("Slot2JackpotItem").init(t),e},putAllChipToPool:function(){if(this.pool){var t=this.contentScrollView.content.getChildren(),e=[];for(var i in t)e.push(t[i]);for(var n in e)this.pool.put(e[n])}}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../prefab/mini-game/item/JackpotItem":"JackpotItem","../../../util/FormatUtil":"FormatUtil"}],Slot2JackpotItem:[function(t,e,i){"use strict";cc._RF.push(e,"e389467c/FOpqMRnCH3Xi0X","Slot2JackpotItem");var n=t("../../util/FormatUtil"),o=(t("../../helper/Message"),t("../../util/Util"));cc.Class({extends:cc.Component,properties:{timeLabel:cc.Label,spinIdLabel:cc.Label,prefixNickNameLabel:cc.Label,nickNameLabel:cc.Label,blanceLabel:cc.Label},onLoad:function(){},init:function(t){t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.prefixNickNameLabel.string=o.getServerID(t.server_id);var e=t.nick_name,i=n.numberWithCommas(t.total_prize_amount),s=n.getStringDateByTimeStamp(t.created_at);this.timeLabel.string=s,this.spinIdLabel.string=t.spin_fee,this.nickNameLabel.string=e,this.blanceLabel.string=i,this.prefixNickNameLabel.node.color=new cc.Color(255,173,0,255),this.nickNameLabel.node.color=new cc.Color(255,244,141,255)}}),cc._RF.pop()},{"../../helper/Message":"Message","../../util/FormatUtil":"FormatUtil","../../util/Util":"Util"}],Slot2Label:[function(t,e,i){"use strict";cc._RF.push(e,"2a4ferdh6VPd4vEDDFGr2mC","Slot2Label");var n=t("../../util/FormatUtil"),o=(t("../../helper/Config"),t("../../prefab/mini-game/item/JackpotItem"));cc.Class({extends:cc.Component,properties:{idGameLabel:cc.Label,mainJackpotItem:o,totalBetLabel:cc.Label,betLabel:cc.Label,moneyLabel:cc.Label,lastMoneyWinLabel:cc.Label,numLineSelectedLabel:cc.Label,numberAutoSpinLabel:cc.Label,avatarSprite:cc.Sprite,nickNameLabel:cc.Label,vipSprite:cc.Sprite,vipProgressBar:cc.ProgressBar,listVipSprite:[cc.SpriteFrame]},init:function(t){this.Slot2=t,this.Slot2UI=t.Slot2UI},onLoad:function(){this.timeOutSpin=null,this.loadUserInfo()},loadUserInfo:function(){var t=this,e=this.Slot2.getUser();if(e){var i=e.nick_name,n=e.avatar;this.nickNameLabel.string=i,n&&cc.loader.load(n,function(e,i){if(i instanceof cc.Texture2D){var n=new cc.SpriteFrame(i,cc.Rect(0,0,90,128));t.avatarSprite.spriteFrame=n}})}},onDestroy:function(){clearTimeout(this.timeOutSpin)},initLast:function(t){var e=this.Slot2.getBet(),i=t*e;this.setBet(e),this.setTotalBet(i),this.setNumLineSelected(t)},handleSpin:function(t){this.setId(t.spin_id),this.timeOutSpin=setTimeout(function(){this.lastMoneyWinLabel.string=n.numberWithCommas(t.win_prize)}.bind(this),5e3)},handleSpinDemo:function(t){this.handleSpin(t)},setId:function(t){this.idGameLabel.string=t},setLineSelected:function(t){this.numLineSelectedLabel.string=t},setJackpot:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.mainJackpotItem.setMoney(t):this.mainJackpotItem.setMoneyWithoutAnimation(t)},setBet:function(t){this.betLabel.string=n.numberWithCommas(t)},setTotalBet:function(t){this.totalBetLabel.string=n.numberWithCommas(t)},setMoney:function(t){this.moneyLabel.string=n.numberWithCommas(t),this.initVip()},initVip:function(){var t=this.Slot2.getConfig().vip,e=this.Slot2.getVipPoint();if(t&&e){var i=e.value,n=this.getVipPointData(t,i);this.vipSprite.spriteFrame=n.sprite,this.vipProgressBar.progress=n.progress}},getVipPointData:function(t,e){for(var i=0,n=0,o=t.length;n<o;n++)t[n].from_money<=e&&(i=n);return{sprite:this.listVipSprite[i-1]||this.listVipSprite[0],progress:e/(i<t.length-1?t[i+1].from_money:t[i].from_money)}},setLastMoneyWin:function(t){this.lastMoneyWinLabel.string=n.numberWithCommas(t)},setNumLineSelected:function(t){this.numLineSelectedLabel.string=t},setNumberAutoSpin:function(t){this.numberAutoSpinLabel.string=t}}),cc._RF.pop()},{"../../helper/Config":"Config","../../prefab/mini-game/item/JackpotItem":"JackpotItem","../../util/FormatUtil":"FormatUtil"}],Slot2Lines:[function(t,e,i){"use strict";cc._RF.push(e,"61c5cn8G/9L3I785JLx60o5","Slot2Lines");t("../../util/FormatUtil");var n=t("./item/Slot2NumberLineItem");cc.Class({extends:cc.Component,properties:{moneyNode:cc.Node,moneyLabel:cc.Label,listNumberLineItem:[n],listLine:[cc.Node]},init:function(t){for(var e in this.Slot2=t,this.SlotUI=t.SlotUI,this.listNumberLineItem)this.listNumberLineItem[e].init(t)},onLoad:function(){},showLines:function(t){if(this.reset(),t)for(var e in t){var i=t[e].line-1;this.listLine[i].active=!0,this.listNumberLineItem[i].showNumberLine()}},showLine:function(t){for(var e in this.listLine)parseInt(t)-1==e?(this.listLine[e].active=!0,this.listNumberLineItem[e].showNumberLine()):(this.listLine[e].active=!1,this.listNumberLineItem[e].hideNumberLine())},showMoney:function(t){this.moneyNode.active=!0,this.moneyLabel.string=t},reset:function(){for(var t in this.listLine)this.listLine[t].active=!1;for(var e in this.listNumberLineItem)this.listNumberLineItem[e].hideNumberLine();this.moneyNode.active=!1}}),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil","./item/Slot2NumberLineItem":"Slot2NumberLineItem"}],Slot2MiniGameItem:[function(t,e,i){"use strict";cc._RF.push(e,"f84cdM9v+BByIMvO/DtHG38","Slot2MiniGameItem");var n=t("../../util/FormatUtil"),o=t("../../helper/Config");cc.Class({extends:cc.Component,properties:{eggeSpriteNode:cc.Node,openSpriteNode:cc.Node,moneyNode:cc.Node,moneyLabel:cc.Label,moneyNonSelectLabel:cc.Label},init:function(t){this.Slot2=t,this.Slot2UI=t.Slot2UI,this.Slot2Bonus=t.Slot2Bonus},onLoad:function(){this.click=!1,this.open=!1,this.hideTimeout=null,this.onMouseEnter=function(){},cc.sys.isBrowser&&this.node.on(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this.node)},onEnable:function(){this.reset()},onDisable:function(){this.reset()},onClick:function(){this.click||(this.setClick(!0),this.Slot2Bonus.openItemMiniGame(this))},setMoney:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setOpen(!0),clearTimeout(this.hideTimeout),this.hideTimeout=setTimeout(function(){this.openItem(),e?(this.moneyLabel.node.active=!0,this.moneyLabel.string=n.nFormatter(t,2).replace("k","K")):(this.moneyNonSelectLabel.node.active=!0,this.moneyNonSelectLabel.string=n.nFormatter(t,2).replace("k","K"))}.bind(this),1e3*o.SLOT2_TIME_OPEN_EGGE)},setClick:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.click=t},isClick:function(){return this.click},setOpen:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.open=t},openItem:function(){this.moneyNode.active=!0,this.eggeSpriteNode.active=!1,this.openSpriteNode.active=!0},isOpen:function(){return this.open},reset:function(){clearTimeout(this.hideTimeout),this.moneyNode.active=!1,this.moneyLabel.node.active=!1,this.moneyNonSelectLabel.node.active=!1,this.openSpriteNode.active=!1,this.eggeSpriteNode.active=!0,this.setClick(!1),this.setOpen(!1)}}),cc._RF.pop()},{"../../helper/Config":"Config","../../util/FormatUtil":"FormatUtil"}],Slot2NumberLineItem:[function(t,e,i){"use strict";cc._RF.push(e,"c80577hXChNZagBGv5szcMq","Slot2NumberLineItem"),cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,numberLineLabel:cc.Label,normalSpriteFrame:cc.SpriteFrame,lightSpriteFrame:cc.SpriteFrame},init:function(t){this.Slot2=t,this.Slot2Lines=t.Slot2Lines},onLoad:function(){this.hideNumberLine()},showNumberLine:function(){this.bgSprite.spriteFrame=this.lightSpriteFrame},hideNumberLine:function(){this.bgSprite.spriteFrame=this.normalSpriteFrame}}),cc._RF.pop()},{}],Slot2RankItem:[function(t,e,i){"use strict";cc._RF.push(e,"cededhOckxIpbcqh+F7pugp","Slot2RankItem");var n=t("../../util/FormatUtil"),o=(t("../../helper/Message"),t("../../util/Util"));cc.Class({extends:cc.Component,properties:{idLabel:cc.Label,prefixNickNameLabel:cc.Label,nickNameLabel:cc.Label,balanceLabel:cc.Label},onLoad:function(){},init:function(t,e){this.idLabel.string=parseInt(e)+1,this.prefixNickNameLabel.string=o.getServerID(t.server_id),this.nickNameLabel.string=t.nick_name,this.balanceLabel.string=n.numberWithCommas(t.total_prize_value||t.total_prize_amount),this.prefixNickNameLabel.node.color=new cc.Color(255,173,0,255),this.nickNameLabel.node.color=new cc.Color(255,244,141,255)}}),cc._RF.pop()},{"../../helper/Message":"Message","../../util/FormatUtil":"FormatUtil","../../util/Util":"Util"}],Slot2Rank:[function(t,e,i){"use strict";cc._RF.push(e,"19b1fC9lmVJ+bFAA3cNloVp","Slot2Rank");t("../../../helper/Message");var n=t("../../../util/FormatUtil"),o=t("../Slot2Constant");cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,jackpotNode:cc.Node,rankNode:cc.Node,rankOnButtonNode:cc.Node,rankOffButtonNode:cc.Node,jackpotOnButtonNode:cc.Node,jackpotOffButtonNode:cc.Node,rankItemPrefab:cc.Prefab,listScrollView:cc.ScrollView,jackpotItemPrefab:cc.Prefab,jackpotScrollView:cc.ScrollView},init:function(t){this.Slot2=t,this.Slot2UI=t.Slot2UI},onLoad:function(){},onEnable:function(){this.data=null,this.onJackpotClick(),this.Slot2.sendRequest.send(o.GET_TOP)},onDisable:function(){},onRankClick:function(){this.hideAllButton(),this.hideAllContent(),this.rankOffButtonNode.active=!1,this.rankOnButtonNode.active=!0,this.rankNode.active=!0},onJackpotClick:function(){this.hideAllButton(),this.hideAllContent(),this.jackpotOffButtonNode.active=!1,this.jackpotOnButtonNode.active=!0,this.jackpotNode.active=!0},initDataRank:function(t){var e=t.data,i=[];i[0]=e[2],i[1]=e[0];var n=[];n[0]=e[3],n[1]=e[1],this.data=[],this.data[0]=i,this.data[1]=n,this.initData()},initData:function(){if(this.showListNode(),this.listScrollView.content.removeAllChildren(!0),this.jackpotScrollView.content.removeAllChildren(!0),this.data){var t=this.data[0]?this.data[0]:this.data[1];if(t[0]){var e=t[0];e=n.filterSameItemSlot(e);for(var i=0;i<e.length;i++){var o=cc.instantiate(this.rankItemPrefab);o.parent=this.listScrollView.content,o.getComponent("Slot2RankItem").init(e[i],i)}}if(t[1]){var s=n.sortDataTimeByTime(t[1]);s=n.filterSameItemSlot(s);for(var a=0;a<s.length;a++){var r=cc.instantiate(this.jackpotItemPrefab);r.parent=this.jackpotScrollView.content,r.getComponent("Slot2Jackpot2Item").init(s[a],a)}}}this.rankNode.active=this.isRankType(),this.jackpotNode.active=!this.isRankType()},isRankType:function(){return this.rankOnButtonNode.active},hideAllButton:function(){this.jackpotOffButtonNode.active=!0,this.rankOffButtonNode.active=!0,this.jackpotOnButtonNode.active=!1,this.rankOnButtonNode.active=!1},hideAllContent:function(){this.jackpotNode.active=!1,this.rankNode.active=!1},showLoadingNode:function(){this.loadingNode.active=!0,this.hideAllContent()},showListNode:function(){this.loadingNode.active=!1,this.rankNode.active=this.isRankType(),this.jackpotNode.active=!this.isRankType()}}),cc._RF.pop()},{"../../../helper/Message":"Message","../../../util/FormatUtil":"FormatUtil","../Slot2Constant":"Slot2Constant"}],Slot2Reels:[function(t,e,i){"use strict";cc._RF.push(e,"fd46fdx8blJaKiLR6BoOxfy","Slot2Reels");t("../../util/RandomUtil");var n=t("../../helper/Config"),o=(t("../../util/FormatUtil"),t("./Slot2Reel")),s=t("./Slot2Constant");cc.Class({extends:cc.Component,properties:{slotReels:[o],itemPrefab:cc.Prefab,itemEffectNode:cc.Node,listItemEffectNode:cc.Node},init:function(t){for(var e in this.Slot2=t,this.Slot2UI=t.Slot2UI,this.Slot2Lines=t.Slot2Lines,this.Slot2Effect=t.Slot2Effect,this.Slot2SelectLine=t.Slot2SelectLine,this.Slot2Lines=t.Slot2Lines,this.slotReels)this.slotReels[e].init(t)},onLoad:function(){this.timeOutResult=null,this.timeOutBonus=null,this.timeOutLines=null,this.intervalLines=null,this.first_remain_free=0},onDestroy:function(){clearTimeout(this.timeOutResult),clearTimeout(this.timeOutBonus),clearTimeout(this.timeOutLines),clearInterval(this.intervalLines)},initFirst:function(){for(var t in this.slotReels)this.slotReels[t].randomItems()},handleSpin:function(t){this.reset(),this.node.stopAllActions(!0);var e=t.display_slot_data,i=t.is_bonus,o=t.win_prize,a=t.is_free,r=t.list_line_prize,c=t.list_line_bonus,h=t.list_line_free,l=t.remain_free,u=t.win_type;this.listLine=r.concat(c),this.listLine=this.listLine.concat(h);for(var d=0;d<n.SLOT2_NUMBER_REELS;d++){for(var m=[],p=0;p<n.SLOT2_NUMBER_ITEM_IN_REEL;p++)m.push(e[p*n.SLOT2_NUMBER_REELS+d]);this.slotReels[d].spin(m)}this.node.runAction(cc.sequence(cc.delayTime(n.SLOT2_TIME_SPIN),cc.callFunc(function(){this.Slot2.Slot2State.isAutoSpin()||this.Slot2.Slot2State.setFinish(),this.showEffectSlotItem(this.listLine,t)},this),cc.callFunc(function(){switch(u){case s.WIN_TYPE_ZERO:this.Slot2.Slot2AutoSpinSetting.checkAutoSpin()?i||this.Slot2.spin():this.Slot2.Slot2State.setStop();break;case s.WIN_TYPE_NORMAL:this.Slot2.Slot2Effect.showWinNormal(o);break;case s.WIN_TYPE_BIG_WIN:case s.WIN_TYPE_SUPER_BIG_WIN:this.Slot2.Slot2Effect.showBigWin(o);break;case s.WIN_TYPE_JACKPOT:this.Slot2.Slot2Effect.showJackpot(o)}var e=this.getTimeEffect(u);u!==s.WIN_TYPE_ZERO?(clearTimeout(this.timeOutResult),this.timeOutResult=setTimeout(function(){this.Slot2.Slot2AutoSpinSetting.checkAutoSpin()&&!i?this.Slot2UI.showSpinDisableButton():this.Slot2UI.showSpinButton();var e=!1;a&&(this.isNewSpinFree(l)&&(this.Slot2.Slot2Effect.showFreeSpin(),e=!0),this.Slot2UI.showSpinFreeButton(l),this.first_remain_free=l),i?this.Slot2Effect.showBonus(t):this.Slot2.Slot2AutoSpinSetting.checkAutoSpin()?(this.Slot2.Slot2Effect.hideAll(),this.Slot2.spin()):(this.Slot2.Slot2Effect.hideAll(),this.Slot2.Slot2State.setStop(),a&&(e&&this.Slot2.Slot2Effect.showFreeSpin(),this.Slot2UI.showSpinFreeButton(l),this.Slot2.spin()))}.bind(this),e)):(a&&(this.isNewSpinFree(l)&&this.Slot2.Slot2Effect.showFreeSpin(),this.Slot2UI.showSpinFreeButton(l),this.first_remain_free=l,i||this.Slot2.spin()),i&&this.Slot2Effect.showBonus(t))},this)))},handleSpinDemo:function(t){this.reset(),this.node.stopAllActions(!0);var e=t.display_slot_data,i=t.is_bonus,o=t.win_prize,a=t.list_line_prize,r=t.list_line_bonus,c=t.list_line_free,h=t.win_type;this.listLine=a.concat(r),this.listLine=this.listLine.concat(c);for(var l=0;l<n.SLOT2_NUMBER_REELS;l++){for(var u=[],d=0;d<n.SLOT2_NUMBER_ITEM_IN_REEL;d++)u.push(e[d*n.SLOT2_NUMBER_REELS+l]);this.slotReels[l].spin(u)}this.node.runAction(cc.sequence(cc.delayTime(n.SLOT2_TIME_SPIN),cc.callFunc(function(){this.Slot2.Slot2State.isAutoSpin()||this.Slot2.Slot2State.setFinish(),this.showEffectSlotItem(this.listLine,t)},this),cc.callFunc(function(){var e=this.Slot2.getTestInfo();switch(o=h===s.WIN_TYPE_JACKPOT?e.jackpot:o,e.money+=o,this.Slot2.Slot2Label.setMoney(e.money),h){case s.WIN_TYPE_ZERO:this.Slot2.Slot2AutoSpinSetting.checkAutoSpin()?i||this.Slot2.spin():this.Slot2.Slot2State.setStop();break;case s.WIN_TYPE_NORMAL:this.Slot2.Slot2Effect.showWinNormal(o);break;case s.WIN_TYPE_BIG_WIN:case s.WIN_TYPE_SUPER_BIG_WIN:this.Slot2.Slot2Effect.showBigWin(o);break;case s.WIN_TYPE_JACKPOT:this.Slot2.Slot2Effect.showJackpot(o)}var n=this.getTimeEffect(h);h!==s.WIN_TYPE_ZERO?(clearTimeout(this.timeOutResult),this.timeOutResult=setTimeout(function(){i?this.Slot2.Slot2Effect.showBonus(t):(this.Slot2.Slot2Effect.hideAll(),this.Slot2.Slot2AutoSpinSetting.checkAutoSpin()?this.Slot2.spin():this.Slot2.Slot2State.setStop())}.bind(this),n)):i&&this.Slot2Effect.showBonus(t)},this)))},showEffectSlotItem:function(t,e){var i=this.getListSlotItem();this.Slot2Lines.showLines(t),this.Slot2SelectLine.showEffects(t),this.Slot2.Slot2AutoSpinSetting.checkAutoSpin()||(this.currentLine=0,clearTimeout(this.timeOutLines),clearInterval(this.intervalLines),this.timeOutLines=setTimeout(function(){this.hideEffectItem(),this.intervalLines=setInterval(function(){if(t&&t.length>this.currentLine){var e=s.LIST_LINES[t[this.currentLine].line-1],n=t[this.currentLine].line,o=t[this.currentLine].prize;for(var a in i)i[a].getComponent("Slot2Item").reset();for(var r in e)for(var c in i)if(e[r]-1==c){i[c].getComponent("Slot2Item").show();break}this.Slot2SelectLine.showEffect(n),this.Slot2Lines.showLine(n),this.Slot2Lines.showMoney(o),this.currentLine++,this.currentLine===t.length&&(this.currentLine=0)}else{for(var h in i)i[h].getComponent("Slot2Item").reset();this.Slot2.Slot2Lines.reset(),clearInterval(this.intervalLines)}}.bind(this),2e3)}.bind(this),1e3*n.SLOT2_DELAY_FINISH_2))},getListSlotItem:function(){for(var t=[],e=0;e<n.SLOT2_NUMBER_ITEM_IN_REEL;e++)for(var i=0;i<n.SLOT2_NUMBER_REELS;i++)t.push(this.slotReels[i].getListSlotItem()[e]);return t},isNewSpinFree:function(t){return t>this.first_remain_free-1},showEffectItem:function(t){var e=t.parent.convertToWorldSpace(t.getPosition()),i=this.listItemEffectNode.convertToNodeSpace(e),n=cc.instantiate(this.itemPrefab);n.getComponent("Slot2Item").init(t.getComponent("Slot2Item").getIndex(),this.Slot2.getGameName()),n.getComponent("Slot2Item").show(),n.setPosition(i),n.parent=this.listItemEffectNode,this.itemEffectNode.active=!0},hideEffectItem:function(){this.listItemEffectNode.removeAllChildren(!0),this.itemEffectNode.active=!1,this.Slot2SelectLine.reset()},getTimeEffect:function(t){return t===s.WIN_TYPE_NORMAL||t===s.WIN_TYPE_ZERO?1e3*n.TIME_WIN_TYPE_NORMAL:t===s.WIN_TYPE_BIG_WIN||t===s.WIN_TYPE_SUPER_BIG_WIN?1e3*n.TIME_WIN_TYPE_BIGWIN:t===s.WIN_TYPE_JACKPOT?1e3*n.TIME_WIN_TYPE_JACKPOT:1e3*n.TIME_WIN_TYPE_NORMAL},reset:function(){this.hideEffectItem(),clearTimeout(this.timeOutLines),clearInterval(this.intervalLines)}}),cc._RF.pop()},{"../../helper/Config":"Config","../../util/FormatUtil":"FormatUtil","../../util/RandomUtil":"RandomUtil","./Slot2Constant":"Slot2Constant","./Slot2Reel":"Slot2Reel"}],Slot2Reel:[function(t,e,i){"use strict";cc._RF.push(e,"d4da268EFFOsaqk3kiwHZL6","Slot2Reel");var n=t("../../util/RandomUtil"),o=t("../../helper/Config"),s=t("./Slot2Constant");cc.Class({extends:cc.Component,properties:{itemPrefab:cc.Prefab,numberItems:0,animation:cc.Animation},init:function(t){this.Slot2=t,this.Slot2UI=t.Slot2UI,this.Slot2Lines=t.Slot2Lines},onLoad:function(){this.listSlotItem=[],this.pool=new cc.NodePool;for(var t=0;t<this.numberItems;t++){var e=cc.instantiate(this.itemPrefab);this.pool.put(e)}this.items||(this.items=[])},spin:function(t){if(this.node.active){this.reset(),this.setItems(this.items),this.animation.play(),this.items=t,this.listSlotItem=[];for(var e=1;e<this.numberItems;e++){var i=this.getRandomItem();e===this.numberItems-1&&(i=t[0]),e===this.numberItems-2&&(i=t[1]),e===this.numberItems-3&&(i=t[2]);var n=this.instanceItem(i);n.setPosition(0,(e+1)*o.SLOT2_DISTANCE_TWO_ITEMS),n.parent=this.node,e===this.numberItems-1&&this.listSlotItem.push(n),e===this.numberItems-2&&this.listSlotItem.push(n),e===this.numberItems-3&&this.listSlotItem.push(n)}this.listSlotItem.reverse()}},getListSlotItem:function(){return this.listSlotItem},randomItems:function(){for(var t=[],e=0;e<o.SLOT2_NUMBER_ITEM_IN_REEL;e++){var i=this.getRandomItem();t.push(i)}this.reset(),this.setItems(t)},getRandomItem:function(){return s.LIST_ICONS[n.getRandomInt(0,s.LIST_ICONS.length-1)]},setItems:function(t){if(t){this.putAllChipToPool(),this.node.setPosition(this.node.x,0),this.items=t;for(var e=0;e<t.length;e++){var i=this.instanceItem(t[e]);i.setPosition(0,(1-e)*o.SLOT2_DISTANCE_TWO_ITEMS),i.parent=this.node}}},instanceItem:function(t){var e=void 0;return this.pool&&(e=this.pool.get()),e||(e=cc.instantiate(this.itemPrefab)),e.getComponent("Slot2Item").reset(),e.getComponent("Slot2Item").init(t,this.Slot2.getGameName()),e},putAllChipToPool:function(){if(this.pool){var t=this.node.getChildren(),e=[];for(var i in t)e.push(t[i]);for(var n in e)this.pool.put(e[n])}},reset:function(){this.node.stopAllActions(!0),this.node.setPosition(this.node.x,0),this.Slot2Lines.reset(),this.putAllChipToPool();var t=this.node.getChildren();for(var e in t)t[e].getComponent("Slot2Item").reset()}}),cc._RF.pop()},{"../../helper/Config":"Config","../../util/RandomUtil":"RandomUtil","./Slot2Constant":"Slot2Constant"}],Slot2SelectLine:[function(t,e,i){"use strict";cc._RF.push(e,"854eb0vawBETpD4r1iKq/sU","Slot2SelectLine");var n=t("../../helper/Message"),o=t("./item/Slot2SelectNumberLineItem");cc.Class({extends:cc.Component,properties:{listSelectNumLineItem:[o],evenOnButtonNode:cc.Node,evenOffButtonNode:cc.Node,oddOnButtonNode:cc.Node,oddOffButtonNode:cc.Node,allOnButtonNode:cc.Node,allOffButtonNode:cc.Node,cancelOnButttonNode:cc.Node,cancelOffButtonNode:cc.Node},init:function(t){for(var e in this.Slot2=t,this.Slot2Lines=t.Slot2Lines,this.Slot2Label=t.Slot2Label,this.listSelectNumLineItem)this.listSelectNumLineItem[e].init(t);this.is_first=!1},onLoad:function(){},start:function(){this.selectAllItem(),this.totalLineSelected=this.getLineSelected().length,this.Slot2Label.initLast(this.totalLineSelected)},initFirst:function(){this.is_first||(this.is_first=!0,this.totalLineSelected=0,this.selectAllItem(),this.Slot2Label.initLast(this.totalLineSelected))},itemIsSelected:function(){this.totalLineSelected=this.getLineSelected().length,0===this.totalLineSelected?(this.cancelOnButttonNode.active=!1,this.cancelOffButtonNode.active=!0):(20===this.totalLineSelected&&(this.allOnButtonNode.active=!0,this.allOffButtonNode.active=!1),this.cancelOnButttonNode.active=!0,this.cancelOffButtonNode.active=!1),this.Slot2Label.initLast(this.totalLineSelected)},getNumberLineSelected:function(){return this.getLineSelected().length},getLineSelected:function(){for(var t=[],e=0,i=this.listSelectNumLineItem.length;e<i;e++)this.listSelectNumLineItem[e].getSelected()&&t.push(e+1);return t},showNumberLines:function(t){this.Slot2Lines.showNumberLines(t)},showLines:function(t){this.Slot2Lines.showLines(t)},showLine:function(t){this.Slot2Lines.showLine(t)},showEffect:function(t){this.reset(),this.listSelectNumLineItem[t-1].showSelect()},showEffects:function(t){if(t)for(var e in t){var i=t[e].line-1;this.listSelectNumLineItem[i].showSelect(),this.listSelectNumLineItem[i].showEffect()}},setLineItemUnSelected:function(){this.allOnButtonNode.active=!1,this.allOffButtonNode.active=!0},onEvenOnClick:function(){if(this.Slot2.Audio.playClick(),!this.Slot2.isCanChangeBet()||this.Slot2.isFreeSpin()||this.Slot2.isBonus()||this.Slot2.isTest())this.Slot2.showToast(n.SLOT_NOT_CHANGE_BET);else{for(var t=1,e=this.listSelectNumLineItem.length;t<e;t+=2)this.listSelectNumLineItem[t].unSelect();this.evenOnButtonNode.active=!1,this.evenOffButtonNode.active=!0,this.allOnButtonNode.active=!1,this.allOffButtonNode.active=!0}},onEvenOffClick:function(){if(this.Slot2.Audio.playClick(),!this.Slot2.isCanChangeBet()||this.Slot2.isFreeSpin()||this.Slot2.isBonus()||this.Slot2.isTest())this.Slot2.showToast(n.SLOT_NOT_CHANGE_BET);else{for(var t=1,e=this.listSelectNumLineItem.length;t<e;t+=2)this.listSelectNumLineItem[t].select();this.evenOnButtonNode.active=!0,this.evenOffButtonNode.active=!1}},onOddOnClick:function(){if(this.Slot2.Audio.playClick(),!this.Slot2.isCanChangeBet()||this.Slot2.isFreeSpin()||this.Slot2.isBonus()||this.Slot2.isTest())this.Slot2.showToast(n.SLOT_NOT_CHANGE_BET);else{for(var t=0,e=this.listSelectNumLineItem.length;t<e;t+=2)this.listSelectNumLineItem[t].unSelect();this.oddOnButtonNode.active=!1,this.oddOffButtonNode.active=!0}},onOddOffClick:function(){if(this.Slot2.Audio.playClick(),!this.Slot2.isCanChangeBet()||this.Slot2.isFreeSpin()||this.Slot2.isBonus()||this.Slot2.isTest())this.Slot2.showToast(n.SLOT_NOT_CHANGE_BET);else{for(var t=0,e=this.listSelectNumLineItem.length;t<e;t+=2)this.listSelectNumLineItem[t].select();this.oddOnButtonNode.active=!0,this.oddOffButtonNode.active=!1}},onAllOnClick:function(){if(this.Slot2.Audio.playClick(),!this.Slot2.isCanChangeBet()||this.Slot2.isFreeSpin()||this.Slot2.isBonus()||this.Slot2.isTest())this.Slot2.showToast(n.SLOT_NOT_CHANGE_BET);else{for(var t=0,e=this.listSelectNumLineItem.length;t<e;t++)this.listSelectNumLineItem[t].unSelect();this.evenOnButtonNode.active=!1,this.oddOnButtonNode.active=!1,this.allOnButtonNode.active=!1,this.cancelOnButttonNode.active=!1,this.evenOffButtonNode.active=!0,this.oddOffButtonNode.active=!0,this.allOffButtonNode.active=!0,this.cancelOffButtonNode.active=!0}},onAllOffClick:function(){this.Slot2.Audio.playClick(),!this.Slot2.isCanChangeBet()||this.Slot2.isFreeSpin()||this.Slot2.isBonus()||this.Slot2.isTest()?this.Slot2.showToast(n.SLOT_NOT_CHANGE_BET):this.selectAllItem()},onCancelOnClick:function(){this.onAllOnClick()},selectAllItem:function(){for(var t=0,e=this.listSelectNumLineItem.length;t<e;t++)this.listSelectNumLineItem[t].select();this.evenOnButtonNode.active=!0,this.oddOnButtonNode.active=!0,this.allOnButtonNode.active=!0,this.cancelOnButttonNode.active=!0,this.evenOffButtonNode.active=!1,this.oddOffButtonNode.active=!1,this.allOffButtonNode.active=!1,this.evenOffButtonNode.active=!1},hideAllButton:function(){this.is_selectAllEvent=this.evenOnButtonNode.active,this.is_selectAllOdd=this.oddOnButtonNode.active,this.is_selectAll=this.allOnButtonNode.active,this.is_unSelectAll=this.cancelOnButttonNode.active,this.evenOnButtonNode.active=!1,this.oddOnButtonNode.active=!1,this.allOnButtonNode.active=!1,this.cancelOnButttonNode.active=!1,this.evenOffButtonNode.active=!0,this.oddOffButtonNode.active=!0,this.allOffButtonNode.active=!0,this.cancelOffButtonNode.active=!0},showAllButton:function(){this.getLineSelected().length>0&&(this.is_selectAllEvent?(this.evenOnButtonNode.active=!0,this.evenOffButtonNode.active=!1):(this.evenOnButtonNode.active=!1,this.evenOffButtonNode.active=!0),this.is_selectAllOdd?(this.oddOnButtonNode.active=!0,this.oddOffButtonNode.active=!1):(this.oddOnButtonNode.active=!1,this.oddOffButtonNode.active=!0),this.is_selectAll?(this.allOnButtonNode.active=!0,this.allOffButtonNode.active=!1):(this.allOnButtonNode.active=!1,this.allOffButtonNode.active=!0),this.is_unSelectAll?(this.cancelOnButttonNode.active=!0,this.cancelOffButtonNode.active=!1):(this.cancelOnButttonNode.active=!1,this.cancelOffButtonNode.active=!0))},reset:function(){for(var t in this.listSelectNumLineItem)this.listSelectNumLineItem[t].reset()}}),cc._RF.pop()},{"../../helper/Message":"Message","./item/Slot2SelectNumberLineItem":"Slot2SelectNumberLineItem"}],Slot2SelectNumberLineItem:[function(t,e,i){"use strict";cc._RF.push(e,"039433wzi1BabR5TOU4BIp6","Slot2SelectNumberLineItem"),cc.Class({extends:cc.Component,properties:{line:0,onSelectButtonNode:cc.Node,offSelectButtonNode:cc.Node},init:function(t){this.Slot2=t,this.Slot2SelectLine=t.Slot2SelectLine},onLoad:function(){this.selected=this.onSelectButtonNode.active},onClick:function(){this.Slot2.Audio.playClick(),!this.Slot2.isCanChangeBet()||this.Slot2.isFreeSpin()||this.Slot2.isBonus()||this.Slot2.isTest()||(this.selected?this.unSelect():this.select())},select:function(){this.setSelected(!0),this.Slot2SelectLine.itemIsSelected(!0),this.showSelect()},unSelect:function(){this.setSelected(!1),this.Slot2SelectLine.setLineItemUnSelected(),this.Slot2SelectLine.itemIsSelected(!1),this.showUnSelect()},showSelect:function(){this.onSelectButtonNode.active=!0,this.offSelectButtonNode.active=!1},showUnSelect:function(){this.offSelectButtonNode.active=!0,this.onSelectButtonNode.active=!1},showEffect:function(){},setSelected:function(t){this.selected=t},getSelected:function(){return this.selected},reset:function(){this.getSelected()?this.showSelect():this.showUnSelect()}}),cc._RF.pop()},{}],Slot2State:[function(t,e,i){"use strict";cc._RF.push(e,"ef18frlNztMDahJNAiQTyE5","Slot2State");e.exports={currentState:"",STOP:"STOP",SPINNING:"SPINNING",FINISH:"SPINNING",AUTO_SPIN:"AUTO_SPIN",init:function(t){this.Slot2=t,this.Slot2UI=t.Slot2UI,this.Slot2SelectLine=t.Slot2SelectLine},setStop:function(){this.currentState=this.STOP,this.Slot2.isFreeSpin()&&!this.Slot2.isTest()?this.Slot2UI.showSpinFreeButton():this.Slot2UI.showSpinButton(),this.Slot2UI.showAutoSpinButton(),this.Slot2SelectLine.showAllButton(),this.reset()},setSpinning:function(){this.currentState=this.SPINNING,this.Slot2.isFreeSpin()&&!this.Slot2.isTest()?this.Slot2UI.showSpinFreeButton():this.Slot2UI.showSpinDisableButton(),this.Slot2UI.showAutoSpinDisableButton(),this.Slot2SelectLine.hideAllButton(),this.reset()},setFinish:function(){this.currentState=this.FINISH,this.Slot2.isFreeSpin()&&!this.Slot2.isTest()?this.Slot2UI.showSpinFreeButton():this.Slot2UI.showSpinDisableButton(),this.Slot2UI.showAutoSpinDisableButton(),this.Slot2SelectLine.showAllButton(),this.reset()},setAutoSpin:function(){this.currentState=this.AUTO_SPIN,this.Slot2.isFreeSpin()&&!this.Slot2.isTest()?this.Slot2UI.showSpinFreeButton():this.Slot2UI.showSpinDisableButton(),this.Slot2UI.showStopAutoSpinButton(),this.Slot2SelectLine.hideAllButton(),this.reset()},reset:function(){this.Slot2.Slot2Lines.reset(),this.Slot2.Slot2Label.setNumberAutoSpin(0)},isAutoSpin:function(){return this.currentState===this.AUTO_SPIN},isStop:function(){return this.currentState===this.STOP}},cc._RF.pop()},{}],Slot2Tutorial:[function(t,e,i){"use strict";cc._RF.push(e,"aac60bmlFpOm7hmUdkaK68p","Slot2Tutorial"),cc.Class({extends:cc.Component,properties:{pageNodes:[cc.Node]},init:function(t){this.Slot2=t,this.Slot2UI=t.Slot2UI},onLoad:function(){this.showPage(0),this.dialogForm=this.node.getComponent("DialogForm")},onNextClick:function(){for(var t in this.pageNodes)if(this.page==t){++t>=this.pageNodes.length&&(t=0),this.showPage(t);break}},onPreviousClick:function(){for(var t in this.pageNodes)if(this.page==t){--t<0&&(t=this.pageNodes.length-1),this.showPage(t);break}},showPage:function(t){for(var e in this.page=t,this.pageNodes)this.pageNodes[e].active=t==e},hideAll:function(){for(var t in this.pageNodes)this.pageNodes[t].active=!1}}),cc._RF.pop()},{}],Slot2UI:[function(t,e,i){"use strict";var n;function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}cc._RF.push(e,"3edael2PBBLk5w5GZYvDopL","Slot2UI");var s=t("../../util/FormatUtil");cc.Class((o(n={extends:cc.Component,properties:{gameNode:cc.Node,gameBonusNode:cc.Node,spinFreeLabel:cc.Label,spinButtonNode:cc.Node,spinFreeButtonNode:cc.Node,autoSpinButtonNode:cc.Node,stopAutoSpinButtonNode:cc.Node,spinButtonDisableNode:cc.Node,autoSpinButtonDisableNode:cc.Node,playButtonNode:cc.Node,testButtonNode:cc.Node,jackpotNode:cc.Node,autoSpinSettingFormNode:cc.Node,selectLineFormNode:cc.Node,bonusFormNode:cc.Node,historyFormNode:cc.Node,rankFormNode:cc.Node,tableBonusFormNode:cc.Node,dialogMessageFormNode:cc.Node,processingNode:cc.Node},init:function(t){this.Slot2=t},onLoad:function(){this.dialogFormAutoSpinSetting=this.autoSpinSettingFormNode.getComponent("DialogForm"),this.dialogFormBonus=this.bonusFormNode.getComponent("DialogForm"),this.dialogMessageForm=this.dialogMessageFormNode.getComponent("DialogMessage"),this.dialogFormHistory=this.historyFormNode.getComponent("DialogForm"),this.dialogSelectLine=this.selectLineFormNode.getComponent("DialogForm"),this.dialogRank=this.rankFormNode.getComponent("DialogForm"),this.dialogFormTableBonus=this.tableBonusFormNode.getComponent("DialogForm")},showContentGame:function(){this.hideAllContent(),this.gameNode.active=!0},showBonus:function(){this.hideAllContent(),this.gameBonusNode.active=!0},showSpinButton:function(){this.spinButtonNode.active=!0,this.spinFreeButtonNode.active=!1,this.spinButtonDisableNode.active=!1},showSpinDisableButton:function(){this.spinButtonNode.active=!1,this.spinFreeButtonNode.active=!1,this.spinButtonDisableNode.active=!0},showSpinFreeButton:function(t){t<0&&(t=0),this.spinButtonNode.active=!1,this.spinFreeButtonNode.active=!0,this.spinButtonDisableNode.active=!1,void 0!==t&&(this.spinFreeLabel.string=s.numberWithCommas(t))},showAutoSpinButton:function(){this.autoSpinButtonNode.active=!0,this.autoSpinButtonDisableNode.active=!1,this.stopAutoSpinButtonNode.active=!1},showAutoSpinDisableButton:function(){this.autoSpinButtonNode.active=!1,this.autoSpinButtonDisableNode.active=!0,this.stopAutoSpinButtonNode.active=!1},showStopAutoSpinButton:function(){this.autoSpinButtonNode.active=!1,this.autoSpinButtonDisableNode.active=!1,this.stopAutoSpinButtonNode.active=!0},showBonusResultForm:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormBonus.showDialog(t)},hideBonusResultForm:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormBonus.hideDialog(t)},showAutoSpinSettingFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormAutoSpinSetting.showDialog(t)},hideAutoSpinSettingFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormAutoSpinSetting.hideDialog(t)}},"showStopAutoSpinButton",function(){this.autoSpinButtonNode.active=!1,this.autoSpinButtonDisableNode.active=!0,this.stopAutoSpinButtonNode.active=!0}),o(n,"showJackpot",function(){this.jackpotNode.active=!0}),o(n,"hideJackpot",function(){this.jackpotNode.active=!1}),o(n,"showPlayButton",function(){this.playButtonNode.active=!0,this.testButtonNode.active=!1}),o(n,"showTestButton",function(){this.playButtonNode.active=!1,this.testButtonNode.active=!0}),o(n,"hideAllContent",function(){this.gameNode.active=!1,this.gameBonusNode.active=!1}),o(n,"showSelectLineFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogSelectLine.showDialog(t)}),o(n,"hideSelectLineFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogSelectLine.hideDialog(t)}),o(n,"showDialogMessage",function(t,e){this.dialogMessageForm.setMessage(t,e),this.dialogMessageForm.showDialog()}),o(n,"showHistoryFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormHistory.showDialog(t)}),o(n,"hideHistoryFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormHistory.hideDialog(t)}),o(n,"showRankFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogRank.showDialog(t)}),o(n,"hideRankFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogRank.hideDialog(t)}),o(n,"showBonusFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormTableBonus.showDialog(t)}),o(n,"hideBonusFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormTableBonus.hideDialog(t)}),o(n,"hideDialogMessage",function(){this.dialogMessageForm.hideDialog()}),o(n,"showProcessingNode",function(){this.processingNode.active=!0}),o(n,"hideProcessingNode",function(){this.processingNode.active=!1}),n)),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil"}],Slot2X:[function(t,e,i){"use strict";cc._RF.push(e,"f3891DZHRBG4a5CkeLjmhFS","Slot2X"),cc.Class({extends:cc.Component,properties:{xPrizeLabel:cc.Label},init:function(t){this.Slot2=t},onLoad:function(){this.xPrize=1},setXPrize:function(t){this.xPrize=t,this.xPrizeLabel.string="x"+t},getXPrize:function(){return this.xPrize}}),cc._RF.pop()},{}],Slot2:[function(t,e,i){"use strict";cc._RF.push(e,"fe87eTdr/9IRb2Yd8cOzNxa","Slot2");var n=t("../../base/BaseScene"),o=t("../../helper/Constant"),s=t("../../helper/Message"),a=t("../../helper/Config"),r=t("./Slot2Constant"),c=t("./Slot2UI"),h=t("./Slot2HandlerRequest"),l=t("./Slot2Bonus"),u=t("./Slot2Header"),d=t("./Slot2Lines"),m=t("./Slot2SelectLine"),p=t("./Slot2Label"),f=t("./Slot2Effect"),_=t("./Slot2Control"),S=t("./Slot2Reels"),g=t("./Slot2State"),N=t("./form/Slot2AutoSpinSetting"),I=t("./form/Slot2BonusResult"),C=t("./form/Slot2Rank"),E=t("./form/Slot2History"),T=t("../../object/JackpotX"),v=t("../../prefab/Toast"),L=t("../../ui/dialog/DialogMessage"),R=t("../../ui/Processing"),b=t("../../object/Audio"),M=t("../../object/Music");cc.Class({extends:n,properties:{questNotificationItemPrefab:cc.Prefab,Slot2UI:c,Slot2Header:u,Slot2Bonus:l,Slot2Lines:d,Slot2SelectLine:m,Slot2Control:_,Slot2Label:p,Slot2Effect:f,Slot2Reels:S,Slot2Rank:C,Slot2AutoSpinSetting:N,Slot2BonusResult:I,Slot2History:E,JackpotX:T,Toast:v,DialogMessage:L,Processing:R,Audio:b,Music:M},onLoad:function(){this._super(),this.setSceneName(o.SCENE_GAME_SLOT_2),this.setSceneGameSlot(!0),this.sfsManager.setController(this),this.isAddEvent=!1,this.Slot2State=g,this.Slot2State.init(this),this.Slot2HandlerRequest=h,this.Slot2HandlerRequest.init(this),this.Slot2UI.init(this),this.Slot2Header.init(this),this.Slot2Bonus.init(this),this.Slot2Lines.init(this),this.Slot2SelectLine.init(this),this.Slot2Control.init(this),this.Slot2Label.init(this),this.Slot2Effect.init(this),this.Slot2Reels.init(this),this.Slot2Rank.init(this),this.Slot2History.init(this),this.Slot2AutoSpinSetting.init(this),this.Slot2BonusResult.init(this),this.updateMoneyGold(),this.Slot2State.setStop(),this.onResponseBind=this.Slot2HandlerRequest.onResponse.bind(this.Slot2HandlerRequest),this.onUserVariablesUpdateBind=this.Slot2HandlerRequest.onUserVariablesUpdate.bind(this.Slot2HandlerRequest),this.sfsManager.removeEventResponse(),this.addEventResponse(),this.initTestInfo()},start:function(){this.initRoomInfo(),this.initDataBet()},onDestroy:function(){this.removeEventResponse()},addEventResponse:function(){this.sfs&&this.sfs.isConnected()&&!this.isAddEvent&&(this.sfs.addEventListener(this.SFS2X.SFSEvent.EXTENSION_RESPONSE,this.onResponseBind),this.sfs.addEventListener(this.SFS2X.SFSEvent.USER_VARIABLES_UPDATE,this.onUserVariablesUpdateBind),this.isAddEvent=!0)},removeEventResponse:function(){this.sfs&&this.sfs.isConnected()&&(this.sfs.removeEventListener(this.SFS2X.SFSEvent.EXTENSION_RESPONSE,this.onResponseBind),this.sfs.removeEventListener(this.SFS2X.SFSEvent.USER_VARIABLES_UPDATE,this.onUserVariablesUpdateBind),this.isAddEvent=!1)},initRoomInfo:function(){var t=this.getRoomInfo();this.info=t.data.info},initTestInfo:function(){this.testInfo={current_step:0,max_spin_extra_step:10,is_extra:!1,jackpot:5e7,money_type:0,spin_fee:1e4,total_score:0,x_prize:1,money:5e7}},handleJackpot:function(t){var e=0,i=1;for(var n in this.info){var o=void 0;switch(this.info[n].spin_fee){case 100:this.info[n].jackpot=t.data[0],(o=t.data[3])&&(this.info[n].x_jackpot=o[0]);break;case 1e3:this.info[n].jackpot=t.data[1],o=t.data[3],t.data[3]&&(this.info[n].x_jackpot=o[1]);break;case 1e4:this.info[n].jackpot=t.data[2],(o=t.data[3])&&(this.info[n].x_jackpot=o[2])}this.info[n].spin_fee===this.bet&&(e=this.info[n].jackpot,i=this.info[n].x_jackpot)}this.isTest()||(this.Slot2Label.setJackpot(e,!0),this.JackpotX.showSlotX(i))},handleSpin:function(t){this.is_spin=!1;var e=t.data;this.Slot2Bonus.node.active&&this.Slot2UI.showContentGame(),this.Slot2State.isAutoSpin()||this.Slot2State.setSpinning(),this.initInfo(e),this.Slot2AutoSpinSetting.handleSpin(e),this.Slot2Label.handleSpin(e),this.Slot2Reels.handleSpin(e)},initInfo:function(t){var e=this.getInfo();e.total_prize_amount=t.total_prize_amount,e.is_free=t.is_free,e.is_bonus=t.is_bonus,e.x_amount=t.x_amount,e.x_bonus=t.x_bonus,e.x_free=t.x_free},handleSpinDemo:function(t){this.is_spin=!1;var e=t.data;this.info&&(e.total_prize_amount>0?this.testInfo.x_prize++:this.testInfo.x_prize=1),e.win_type===r.WIN_TYPE_JACKPOT&&(e.win_prize=this.testInfo.jackpot),this.testInfo.is_free=e.is_free,this.Slot2State.setSpinning(),this.Slot2Label.handleSpinDemo(e),this.Slot2Reels.handleSpinDemo(e)},handleSpinBonus:function(t){this.is_spin=!1,this.Slot2Bonus.handleSpin(t)},handleSpinBonusDemo:function(t){this.is_spin=!1,this.Slot2Bonus.handleSpinDemo(t)},handleSpinFail:function(t){this.is_spin=!1,this.showToast(t.msg),this.Slot2State.setStop(),this.Slot2AutoSpinSetting.stopAutoSpin()},handleAchivementedQuest:function(t){this.showNotificationMessage(t.msg)},handlePlusLuckyWheelFree:function(t){var e=t.data.amount;this.MiniGame.LuckyWheel.addLuckyWheelFree(e),this.showNotificationMessage(t.msg)},handleAlert:function(t){this.showNotificationMessage(t.msg)},handleNewMessage:function(t){this.showNotificationMessage(s.MAIL_NOTIFICATION)},showNotificationMessage:function(t){var e=cc.instantiate(this.questNotificationItemPrefab);e.getComponent("QuestNotificationItem").setMessage(t),e.parent=this.node},handleUpdateBigwin:function(t){var e=t.data;this.dataRank.list_player_bigwin=e.list_player_bigwin,this.dataRank.list_player_jackpot=e.list_player_jackpot,this.Slot2Form.Slot2JackpotForm.initData(this.dataRank)},handleGetChat:function(t){if(t.status){var e=t.data.chat;this.Slot2Chat.initChat(e)}else this.showToast(t.msg)},handleSendChat:function(t){if(t.status){var e=t.data;this.Slot2Chat.addChat(e)}else this.Slot2Chat.addChatFail(t.msg)},handleGetTop:function(t){this.Slot2Rank.initDataRank(t)},initDataBet:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;this.setIsTest(!1),this.setBet(t),this.setFistBet(t),this.Slot2Reels.initFirst(),this.Slot2Reels.reset(),this.Slot2SelectLine.initFirst()},initDataTest:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setIsTest(t),this.bet=this.testInfo.spin_fee,this.initTestData(),this.Slot2Reels.initFirst(),this.Slot2Reels.reset(),this.Slot2SelectLine.initFirst()},initTestData:function(){this.Slot2Label.setBet(this.bet),this.initBetData(this.testInfo),this.Slot2Label.setMoney(this.testInfo.money),this.Slot2Label.setLastMoneyWin(0)},onBackClick:function(){this.showProcessingNode(),this.sendRequest.sendNoPrefixToZone(o.REQUEST_OUT_LOBBY_GAME)},onRechargeClick:function(){this.Audio.playClick(),this.Slot2UI.showRechargeFormNode()},spin:function(){if(this.line_player_choose=this.Slot2SelectLine.getLineSelected(),this.line_player_choose.length>0){if(!this.is_spin){var t={money_type:0,money_value:this.bet,line_player_choose:this.line_player_choose};this.isTest()?(this.sendRequest.send(r.SPIN_DEMO,t),this.testInfo.money-=2e4,this.Slot2Label.setMoney(this.testInfo.money)):this.sendRequest.send(r.SPIN,t),this.is_spin=!0}}else this.showToast(s.SLOT2_NOT_SELECT_LINE),this.Slot2State.setStop(),this.Slot2AutoSpinSetting.stopAutoSpin(),this.Slot2AutoSpinSetting.onResetClick()},updateMoneyGold:function(){this.isTest()||this.Slot2Label.setMoney(this.getMoney())},setBet:function(t){this.bet=t;var e=this.getInfo();if(this.Slot2Label.setBet(t),this.initBetData(e),this.Slot2Label.setMoney(this.getMoney()),e){var i=e.x_jackpot?e.x_jackpot:1;this.JackpotX.showSlotX(i)}},initBetData:function(t){if(t){var e=t.jackpot,i=t.is_extra,n=this.Slot2SelectLine.getLineSelected().length;this.Slot2Label.setJackpot(e,!1),this.Slot2Label.initLast(n),i?this.Slot2UI.showSpinFreeButton(1):this.Slot2UI.showSpinButton()}},addBet:function(){if(!this.isCanChangeBet()||this.isTest()||this.isBonus())this.isBonus()||this.showToast(s.SLOT_NOT_CHANGE_BET);else for(var t=a.SLOT_BETS,e=0;e<t.length;e++)if(this.bet===t[e]){++e>=t.length&&(e=0),this.setBet(t[e]);break}},minusBet:function(){if(!this.isCanChangeBet()||this.isTest()||this.isBonus())this.isBonus()||this.showToast(s.SLOT_NOT_CHANGE_BET);else for(var t=a.SLOT_BETS,e=0;e<t.length;e++)if(this.bet===t[e]){--e<0&&(e=t.length-1),this.setBet(t[e],e);break}},getBet:function(){return this.bet},setFistBet:function(t){this.fistBet=t},getFistBet:function(){return this.fistBet},isFreeSpin:function(){return!!this.getInfo()&&this.getInfo().is_free},isBonus:function(){return this.Slot2Bonus.node.active},getInfo:function(){for(var t in this.info)if(this.info[t].spin_fee===this.bet)return this.info[t];return null},getTestInfo:function(){return this.testInfo},isTest:function(){return this.istest},setIsTest:function(t){this.istest=t},isCanChangeBet:function(){return this.Slot2State.isStop()},showBonusGame:function(t){var e=t.remain_bonus;this.Slot2UI.showBonus(),this.Slot2Bonus.initData(t),this.Slot2Bonus.setRemainBonus(e)},getTotalBet:function(){return this.bet*this.line_player_choose.length},showBonusResult:function(t){this.Slot2UI.showBonusResultForm(),this.Slot2BonusResult.setMoney(t)},hideBonusResult:function(){this.Slot2UI.hideBonusResultForm()},showToast:function(t){this.Toast.showToast(t)},showDialogMessage:function(t,e){this.Slot2UI.showDialogMessage(t,e)},hideDialogMessage:function(){this.Slot2UI.hideDialogMessage()},showProcessingNode:function(){this.Slot2UI.showProcessingNode()},hideProcessingNode:function(){this.Slot2UI.hideProcessingNode()},clearTimeoutProcessingNode:function(){this.Processing.clearTimeout()}}),cc._RF.pop()},{"../../base/BaseScene":"BaseScene","../../helper/Config":"Config","../../helper/Constant":"Constant","../../helper/Message":"Message","../../object/Audio":"Audio","../../object/JackpotX":"JackpotX","../../object/Music":"Music","../../prefab/Toast":"Toast","../../ui/Processing":"Processing","../../ui/dialog/DialogMessage":"DialogMessage","./Slot2Bonus":"Slot2Bonus","./Slot2Constant":"Slot2Constant","./Slot2Control":"Slot2Control","./Slot2Effect":"Slot2Effect","./Slot2HandlerRequest":"Slot2HandlerRequest","./Slot2Header":"Slot2Header","./Slot2Label":"Slot2Label","./Slot2Lines":"Slot2Lines","./Slot2Reels":"Slot2Reels","./Slot2SelectLine":"Slot2SelectLine","./Slot2State":"Slot2State","./Slot2UI":"Slot2UI","./form/Slot2AutoSpinSetting":"Slot2AutoSpinSetting","./form/Slot2BonusResult":"Slot2BonusResult","./form/Slot2History":"Slot2History","./form/Slot2Rank":"Slot2Rank"}],Slot3AutoSpinSetting:[function(t,e,i){"use strict";cc._RF.push(e,"bf7f8PJm3pABLafzFoPUYQ1","Slot3AutoSpinSetting");var n=t("../Slot3Constant"),o=t("../../../util/FormatUtil"),s=t("../../../helper/Config");cc.Class({extends:cc.Component,properties:{numberSpinLabel:cc.Label,numberSpinSlider:cc.Slider,stopGameJackpotToggle:cc.Toggle,stopGameWinToToggle:cc.Toggle,stopGameLoseToToggle:cc.Toggle,stopGameMaxWinToggle:cc.Toggle,stopGameWinToEditBox:cc.EditBox,stopGameLoseToEditBox:cc.EditBox,stopGameMaxWinEditBox:cc.EditBox},init:function(t){this.Slot3=t,this.Slot3UI=t.Slot3UI},onLoad:function(){this.defaultNumberAutoSpin=s.SLOT3_NUMBER_AUTO_SPIN[0],this.stopGameJackpot=!1,this.stopGameWinTo=!1,this.stopGameLoseTo=!1,this.stopGameMaxWin=!1,this.winTo=0,this.loseTo=0,this.maxWin=0,this.lastWin=0,this.totalMoneyChange=0,this.isJackpot=!1,this.autoSpin=!1,this.dialogForm=this.node.getComponent("DialogForm"),cc.auto=this},onEnable:function(){this.reset()},onNumberSpinSlider:function(){var t=this.numberSpinSlider.progress;t>=1-1/14?(this.defaultNumberAutoSpin=s.SLOT3_NUMBER_AUTO_SPIN[7],t=1):t>=6/7-1/14?(this.defaultNumberAutoSpin=s.SLOT3_NUMBER_AUTO_SPIN[6],t=6/7):t>=5/7-1/14?(this.defaultNumberAutoSpin=s.SLOT3_NUMBER_AUTO_SPIN[5],t=5/7):t>=.5?(this.defaultNumberAutoSpin=s.SLOT3_NUMBER_AUTO_SPIN[4],t=4/7):t>=3/7-1/14?(this.defaultNumberAutoSpin=s.SLOT3_NUMBER_AUTO_SPIN[3],t=3/7):t>=2/7-1/14?(this.defaultNumberAutoSpin=s.SLOT3_NUMBER_AUTO_SPIN[2],t=2/7):t>=1/7-1/14?(this.defaultNumberAutoSpin=s.SLOT3_NUMBER_AUTO_SPIN[1],t=1/7):(this.defaultNumberAutoSpin=s.SLOT3_NUMBER_AUTO_SPIN[0],t=0),this.numberSpinSlider.progress=t},onStopGameWinToChange:function(){var t=this.stopGameWinToEditBox.string,e=o.numberWithCommas(o.getOnlyNumberInString(t));this.stopGameWinToEditBox.string=e},onStopGameLoseToChange:function(){var t=this.stopGameLoseToEditBox.string,e=o.numberWithCommas(o.getOnlyNumberInString(t));this.stopGameLoseToEditBox.string=e},onStopGameMaxWinChange:function(){var t=this.stopGameMaxWinEditBox.string,e=o.numberWithCommas(o.getOnlyNumberInString(t));this.stopGameMaxWinEditBox.string=e},onResetClick:function(){this.stopGameJackpotToggle.isChecked=!1,this.stopGameWinToToggle.isChecked=!1,this.stopGameLoseToToggle.isChecked=!1,this.stopGameMaxWinToggle.isChecked=!1,this.stopGameWinToEditBox.string=0,this.stopGameLoseToEditBox.string=0,this.stopGameMaxWinEditBox.string=0,this.numberSpinSlider.progress=0,this.numberSpinLabel.string=0},onSpinClick:function(){this.stopGameJackpot=this.stopGameJackpotToggle.isChecked,this.stopGameWinTo=this.stopGameWinToToggle.isChecked,this.stopGameLoseTo=this.stopGameLoseToToggle.isChecked,this.stopGameMaxWin=this.stopGameMaxWinToggle.isChecked,this.winTo=parseInt(o.getOnlyNumberInString(this.stopGameWinToEditBox.string.toString())),this.loseTo=parseInt(o.getOnlyNumberInString(this.stopGameLoseToEditBox.string.toString())),this.maxWin=parseInt(o.getOnlyNumberInString(this.stopGameMaxWinEditBox.string.toString())),this.lastWin=0,this.totalMoneyChange=0,this.isJackpot=!1,this.autoSpin=!0,this.numberAutoSpin=this.defaultNumberAutoSpin,this.Slot3.Slot3State.setAutoSpin(),this.numberSpinLabel.string=o.numberWithCommas(this.numberAutoSpin),this.Slot3.spin(),this.dialogForm.hideDialog(!1)},handleSpin:function(t){if(this.Slot3.Slot3State.isAutoSpin()){var e=t.win_type,i=t.total_prize_amount||t.win_prize,s=i-this.Slot3.getTotalBet();this.addTotalMoneyChange(s),this.numberAutoSpin--,e===n.WIN_TYPE_JACKPOT&&(this.isJackpot=!0),this.lastWin=i,this.numberSpinLabel.string=o.numberWithCommas(this.numberAutoSpin)}},addTotalMoneyChange:function(t){this.totalMoneyChange+=t},stopAutoSpin:function(){this.autoSpin=!1},isAutoSpin:function(){return this.autoSpin},checkAutoSpin:function(){var t=this.numberAutoSpin>0,e=!this.stopGameWinTo||this.totalMoneyChange<this.winTo,i=!this.stopGameLoseTo||this.totalMoneyChange>-this.loseTo,n=!this.stopGameMaxWin||this.lastWin<this.maxWin,o=!this.stopGameJackpot||!this.isJackpot,s=this.Slot3.getMoney()>=this.Slot3.getBet()*this.Slot3.Slot3SelectLine.getNumberLineSelected();return this.autoSpin&&t&&e&&i&&n&&o&&s},reset:function(){this.stopGameJackpot=!1,this.stopGameWinTo=!1,this.stopGameLoseTo=!1,this.stopGameMaxWin=!1,this.winTo=0,this.loseTo=0,this.maxWin=0,this.lastWin=0,this.totalMoneyChange=0,this.isJackpot=!1,this.autoSpin=!1}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../util/FormatUtil":"FormatUtil","../Slot3Constant":"Slot3Constant"}],Slot3BonusItem:[function(t,e,i){"use strict";cc._RF.push(e,"2007cbOxldNYabAUx1dCE58","Slot3BonusItem");var n=t("../../util/FormatUtil"),o=t("../../helper/Message"),s=t("../../scene/game-slot-3/Slot3Constant");cc.Class({extends:cc.Component,properties:{notOpenNode:cc.Node,openNode:cc.Node,bonusNode:cc.Node,moneyNode:cc.Node,moneyLabel:cc.Label},init:function(t){this.Slot3=t,this.Slot3UI=t.Slot3UI,this.Slot3Bonus=t.Slot3Bonus},onLoad:function(){this.click=!1,this.open=!1},onClick:function(){this.Slot3.Slot3State.isAutoSpin()?this.Slot3.showToast(o.SLOT3_AUTOSPIN_NOT_CHANGE):this.click||this.Slot3Bonus.isStateStop()||(this.click=!0,this.Slot3Bonus.setStateStop(!0),this.Slot3Bonus.onItemClick(this))},onClickIsAutoSpin:function(){this.Slot3.Slot3State.isAutoSpin()&&(this.click||this.Slot3Bonus.isStateStop()||(this.click=!0,this.Slot3Bonus.setStateStop(!0),this.Slot3Bonus.onItemClick(this)))},openBox:function(t,e,i){this.open=!0,this.initType(t,i),e||this.Slot3Bonus.setStateStop(!1)},initType:function(t,e){switch(t.item_id){case s.BONUS_KEY:this.showBonus(t);break;case s.BONUS_MONEY:case s.BONUS_MINIGAME:this.setMoney(t)}},setMoney:function(t){var e=n.nFormatter(t,2).replace("k","K");this.moneyLabel.string=e,this.showMoney()},isOpen:function(){return this.open},isClick:function(){return this.click},showNormalBox:function(){this.hideAll(),this.notOpenNode.active=!0},showOpenBox:function(){this.hideAll(),this.openNode.active=!0},showMoney:function(){this.showOpenBox(),this.moneyNode.active=!0},hideMoney:function(){this.moneyNode.active=!1},showBonus:function(){this.hideAll(),this.bonusNode.active=!0},hideAll:function(){this.notOpenNode.active=!1,this.openNode.active=!1,this.bonusNode.active=!1,this.moneyNode.active=!1},reset:function(){this.click=!1,this.open=!1,this.moneyNode.active=!1,this.moneyLabel.node.active=!0,this.showNormalBox()}}),cc._RF.pop()},{"../../helper/Message":"Message","../../scene/game-slot-3/Slot3Constant":"Slot3Constant","../../util/FormatUtil":"FormatUtil"}],Slot3BonusResult:[function(t,e,i){"use strict";cc._RF.push(e,"b4090SrndNIia0/0GdaHG/5","Slot3BonusResult");var n=t("../../../prefab/mini-game/item/JackpotItem");cc.Class({extends:cc.Component,properties:{moneyJackpotItem:n},init:function(t){this.Slot3=t,this.Slot3UI=t.Slot3UI},onLoad:function(){this.dialogForm=this.node.getComponent("DialogForm")},setMoney:function(t){this.moneyJackpotItem.setMoney(t)}}),cc._RF.pop()},{"../../../prefab/mini-game/item/JackpotItem":"JackpotItem"}],Slot3Bonus:[function(t,e,i){"use strict";cc._RF.push(e,"b2198/KQ/9GlbidN3Ct83nB","Slot3Bonus");t("../../util/FormatUtil");var n=t("../../util/RandomUtil"),o=(t("../../util/BrowserUtil"),t("../../helper/Config"),t("../../prefab/slot-3/Slot3BonusItem")),s=t("../../prefab/slot-3/Slot3MiniGameItem"),a=t("./Slot3Constant");cc.Class({extends:cc.Component,properties:{remainLabel:cc.Label,minigameBonusNode:cc.Node,closeMiniGameNode:cc.Node,listSlot3BonusItem:[o],listSlot3MiniGameItem:[s]},init:function(t){this.Slot3=t,this.Slot3UI=t.Slot3UI;for(var e=0;e<this.listSlot3BonusItem.length;e++)this.listSlot3BonusItem[e].init(t);for(var i=0;i<this.listSlot3MiniGameItem.length;i++)this.listSlot3MiniGameItem[i].init(t)},onLoad:function(){this.timeOutResult=null,this.openAllEggeTimeOut=null,this.openAutoSpinTimeOut=null,this.dialogMinigame=this.minigameBonusNode.getComponent("DialogForm")},initData:function(t){this.data=t},initContent:function(){this.data&&(this.list_bonus_prize=this.data.list_bonus_prize,this.bonus_prize=this.data.bonus_prize,this.x_bonus=this.data.number_key_start_bonus,this.remainBonus=10,this.setRemainBonus(this.remainBonus))},onEnable:function(){this.reset(),this.initContent(),this.Slot3UI.hideJackpot(),this.Slot3.Slot3State.isAutoSpin()&&this.autoOpenBox()},onDisable:function(){this.Slot3UI.showJackpot(),this.Slot3UI.hideBonusResultForm(!1),this.data.is_free?this.Slot3.spin():this.Slot3.Slot3State.isAutoSpin()?this.Slot3.spin():this.Slot3.Slot3State.setStop()},autoOpenBox:function(){clearInterval(this.intervalAutoOpenBonusItem),this.intervalAutoOpenBonusItem=setInterval(function(){clearInterval(this.intervalAutoOpenBonusItem);var t=this.getItemBonusNotOpen();console.log(t),t&&t.onClickIsAutoSpin()}.bind(this),1200)},onItemClick:function(t){if(this.list_bonus_prize.length>0){var e=this.list_bonus_prize[0];this.list_bonus_prize.splice(0,1);var i=e.line,n=e.prize;this.openBonusItem(t,i,n)}},openBonusItem:function(t,e,i){switch(e){case a.BONUS_KEY:this.openItemBonusKey(t,i);break;case a.BONUS_MONEY:this.openItemBonusMoney(t,i);break;case a.BONUS_MINIGAME:this.openItemBonusMiniGame(t,i)}},openItemBonusKey:function(t,e){this.x_bonus++,t.showBonus(),this.setRemainBonus(this.remainBonus),this.setStateStop(!1),this.checkFinishMiniGameBonus()},openItemBonusMoney:function(t,e){this.remainBonus--,t.setMoney(e),this.setRemainBonus(this.remainBonus),this.setStateStop(!1),this.checkFinishMiniGameBonus()},openItemBonusMiniGame:function(t,e){this.remainBonus--,this.mini_game_bonus_prize=e,this.bonusItem=t,t.showOpenBox(),this.setRemainBonus(this.remainBonus),this.showMiniGame();for(var i=0;i<this.listSlot3MiniGameItem.length;i++)this.listSlot3MiniGameItem[i].reset();this.setStateStop(!1),this.Slot3.Slot3State.isAutoSpin()&&(clearInterval(this.intervalAutoOpenMiniGameItem),this.intervalAutoOpenMiniGameItem=setInterval(function(){this.getItemMiniGameNotOpen().onClick(),clearInterval(this.intervalAutoOpenMiniGameItem)}.bind(this),2e3))},openItemMiniGame:function(t){this.bonusItem&&this.bonusItem.showMoney(this.mini_game_bonus_prize),t.openItem(this.mini_game_bonus_prize,!0),this.openMiniGameItemByMultipBet(10),this.openMiniGameItemByMultipBet(15),this.openMiniGameItemByMultipBet(15),this.openMiniGameItemByMultipBet(20),this.setStateStop(!1),this.showCloseMiniGame(),this.checkFinishMiniGameBonus()},openMiniGameItemByMultipBet:function(t){var e=t*this.Slot3.getBet()*this.x_bonus,i=this.getItemMiniGameNotOpen();i&&i.openItem(e,!1)},getItemMiniGameNotOpen:function(){var t=[];for(var e in this.listSlot3MiniGameItem)this.listSlot3MiniGameItem[e].isOpen()||t.push(this.listSlot3MiniGameItem[e]);return t[n.getRandomInt(0,t.length-1)]},getItemBonusNotOpen:function(){var t=[];for(var e in this.listSlot3BonusItem)this.listSlot3BonusItem[e].isOpen()||this.listSlot3BonusItem[e].isClick()||t.push(this.listSlot3BonusItem[e]);console.log("listItemBonusNotOpen length: "+t.length);var i=n.getRandomInt(0,t.length-1);return console.log("randomIndex: "+i),t[i]},isStateStop:function(){return this.is_StateStop},setStateStop:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.is_StateStop=t},setRemainBonus:function(t){void 0!==t&&(this.remainLabel.string=t)},checkFinishMiniGameBonus:function(){this.list_bonus_prize.length<=0?(clearInterval(this.intervalShowResultForm),clearInterval(this.intervalShowGameContent),this.intervalShowResultForm=setInterval(function(){this.Slot3.showBonusResult(this.data.bonus_prize),clearInterval(this.intervalShowResultForm)}.bind(this),2500),this.intervalShowGameContent=setInterval(function(){this.Slot3UI.showContentGame(),clearInterval(this.intervalShowGameContent)}.bind(this),3500)):this.Slot3.Slot3State.isAutoSpin()&&(this.autoOpenBox(),this.minigameBonusNode.active&&(clearInterval(this.intervalHideMiniGameContentNode),this.intervalHideMiniGameContentNode=setInterval(function(){this.hideMiniGame(),clearInterval(this.intervalHideMiniGameContentNode)}.bind(this),1e3)))},showMiniGame:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogMinigame.showDialog(t)},hideMiniGame:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogMinigame.hideDialog(t)},showCloseMiniGame:function(){this.closeMiniGameNode.active=!0},hideCloseMiniGame:function(){this.closeMiniGameNode.active=!1},reset:function(){for(var t in this.list_bonus_prize=[],this.bonus_prize=0,this.mini_game_bonus_prize=0,this.minigameBonusNode.active=!1,this.hideCloseMiniGame(),this.setStateStop(!1),clearInterval(this.intervalShowResultForm),clearInterval(this.intervalShowGameContent),clearInterval(this.intervalAutoOpenMiniGameItem),clearInterval(this.intervalAutoOpenBonusItem),clearInterval(this.intervalHideMiniGameContentNode),this.listSlot3BonusItem)this.listSlot3BonusItem[t].reset();for(var e in this.listSlot3MiniGameItem)this.listSlot3MiniGameItem[e].reset()}}),cc._RF.pop()},{"../../helper/Config":"Config","../../prefab/slot-3/Slot3BonusItem":"Slot3BonusItem","../../prefab/slot-3/Slot3MiniGameItem":"Slot3MiniGameItem","../../util/BrowserUtil":"BrowserUtil","../../util/FormatUtil":"FormatUtil","../../util/RandomUtil":"RandomUtil","./Slot3Constant":"Slot3Constant"}],Slot3Constant:[function(t,e,i){"use strict";var n;function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}cc._RF.push(e,"06095w927BAmIEg406aO5Vz","Slot3Constant");var s=(o(n={SPIN:"SPIN",SPIN_DEMO:"SPIN_DEMO",SPIN_BONUS:"SPIN_BONUS",SPIN_BONUS_DEMO:"SPIN_BONUS_DEMO",SPIN_FAIL:"SPIN_FAIL",JACKPOT:"jackpot",UPDATE_BIGWIN:"UPDATE_BIGWIN",GET_TOP:"GET_TOP",WIN_TYPE_ZERO:0,WIN_TYPE_NORMAL:1,WIN_TYPE_BIG_WIN:2,WIN_TYPE_SUPER_BIG_WIN:3,WIN_TYPE_JACKPOT:4,BONUS_KEY:0,BONUS_MINIGAME:2,BONUS_MONEY:1,NUM_IN_HISTORY:20,SLOT3_DISTANCE_TWO_ITEMS:160,SLOT3_SPEED_SPIN_CARD:2500,SLOT3_DELAY_SPIN:2e3,SLOT3_NUMBER_ITEM_IN_REEL:3,SLOT3_TOTAL_ITEM_IN_REEL:15,SLOT3_DELAY_SHOW_MONEY_PRIZE:1e3,SLOT3_TIME_DELAY_FINISH:3e3,SLOT3_LIST_ICON:["A","B","C","D","E","F","G"]},"NUM_IN_HISTORY",30),o(n,"LIST_INDEX_NUMBER_IN_LINE",[[6,7,8,9,10],[1,2,3,4,5],[11,12,13,14,15],[6,7,3,9,10],[6,7,13,9,10],[1,2,8,4,5],[11,12,8,14,15],[1,12,3,14,5],[11,2,13,4,15],[6,2,13,4,10],[11,7,3,9,15],[1,7,13,9,5],[6,12,8,4,10],[6,2,8,14,10],[11,7,8,9,15],[1,7,8,9,5],[6,12,13,14,10],[6,2,3,4,10],[11,12,8,4,5],[1,2,8,14,15]]),o(n,"TIME_SHOW_JACKPOT",5),o(n,"TIME_SHOW_FREESPIN",3.5),o(n,"TIME_SHOW_BONUS",4),o(n,"TIME_SHOW_BIGWIN",4),o(n,"TIME_SHOW_WIN_NORMAL",2.5),n);e.exports=s,cc._RF.pop()},{}],Slot3Control:[function(t,e,i){"use strict";cc._RF.push(e,"49d8dCa4d9I6b6NGsRHUuEE","Slot3Control");var n=t("../../helper/Message"),o=t("../../helper/Config");cc.Class({extends:cc.Component,properties:{},init:function(t){this.Slot3=t,this.Slot3UI=t.Slot3UI},onLoad:function(){},onSpinClick:function(){this.Slot3.Audio.playClick(),!this.Slot3.isBonus()&&this.Slot3.isCanChangeBet()&&this.Slot3.spin()},onAutoSpinClick:function(){this.Slot3.Audio.playClick(),!this.Slot3.isCanChangeBet()||this.Slot3.isTest()||this.Slot3.isBonus()||this.Slot3.isFreeSpin()?this.Slot3.showToast(n.SLOT_NOT_CHANGE_BET):this.Slot3UI.showAutoSpinSettingFormNode()},onStopAutoSpinClick:function(){this.Slot3.Audio.playClick(),this.Slot3.Slot3State.setSpinning(),this.Slot3.Slot3AutoSpinSetting.stopAutoSpin()},onSelectLineClick:function(){this.Slot3.Audio.playClick(),!this.Slot3.isCanChangeBet()||this.Slot3.isTest()||this.Slot3.isBonus()||this.Slot3.isFreeSpin()?this.Slot3.showToast(n.SLOT_NOT_CHANGE_BET):this.Slot3UI.showSelectLineFormNode()},onAddClick:function(){if(this.Slot3.Audio.playClick(),!this.Slot3.isCanChangeBet()||this.Slot3.isTest()||this.Slot3.isBonus()||this.Slot3.isFreeSpin())this.Slot3.showToast(n.SLOT_NOT_CHANGE_BET);else for(var t=o.SLOT_BETS,e=0;e<t.length;e++)if(this.Slot3.getBet()===t[e]){++e>=t.length&&(e=0),this.Slot3.setFistBet(t[e]),this.Slot3.setBet(t[e]);break}},onMinusClick:function(){if(this.Slot3.Audio.playClick(),!this.Slot3.isCanChangeBet()||this.Slot3.isTest()||this.Slot3.isBonus()||this.Slot3.isFreeSpin())this.Slot3.showToast(n.SLOT_NOT_CHANGE_BET);else for(var t=o.SLOT_BETS,e=0;e<t.length;e++)if(this.Slot3.getBet()===t[e]){--e<0&&(e=t.length-1),this.Slot3.setFistBet(t[e]),this.Slot3.setBet(t[e]);break}}}),cc._RF.pop()},{"../../helper/Config":"Config","../../helper/Message":"Message"}],Slot3Effect:[function(t,e,i){"use strict";cc._RF.push(e,"a4f00sux51EdJAquHEpa8Fe","Slot3Effect");var n=t("../../prefab/mini-game/item/JackpotItem");cc.Class({extends:cc.Component,properties:{winNormalNode:cc.Node,moreEffectNode:cc.Node,winNormalJackpotItem:n,moreMoneyJackpotItem:n,freeSpinSkeleton:sp.Skeleton,bonusSkeleton:sp.Skeleton,jackpotSkeleton:sp.Skeleton,bigWinSkeleton:sp.Skeleton},init:function(t){this.Slot3=t,this.Slot3UI=t.Slot3UI,this.Music=t.Music},onLoad:function(){},showWinNormal:function(t,e){this.hideAll(),this.winNormalNode.active=!0,this.winNormalJackpotItem.setMoneyWithoutAnimation(t/2),this.winNormalJackpotItem.setMoneyWithAnimation(t),this.Music.soundWinNormal()},showBigWin:function(t){this.hideAll(),this.moreEffectNode.active=!0,this.bigWinSkeleton.node.active=!0,this.bigWinSkeleton.setAnimation(0,"Win",!0),this.moreMoneyJackpotItem.node.active=!1,this.Music.soundBigWin(),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){this.moreMoneyJackpotItem.node.active=!0,this.moreMoneyJackpotItem.setMoneyWithoutAnimation(t/2),this.moreMoneyJackpotItem.setMoneyWithAnimation(t)},this)))},showSuperBigWin:function(t){this.showBigWin(t)},showJackpot:function(t){this.hideAll(),this.moreEffectNode.active=!0,this.jackpotSkeleton.node.active=!0,this.jackpotSkeleton.setAnimation(0,"Jackpot",!0),this.moreMoneyJackpotItem.node.active=!1,this.Music.soundJackpot(),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){this.moreMoneyJackpotItem.node.active=!0,this.moreMoneyJackpotItem.setMoneyWithoutAnimation(t/2),this.moreMoneyJackpotItem.setMoneyWithAnimation(t)},this)))},showBonus:function(t){this.hideAll(),this.moreEffectNode.active=!0,this.bonusSkeleton.node.active=!0,this.bonusSkeleton.setAnimation(0,"Bonus",!0),this.node.stopAllActions(!0),this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){this.hideAll(),this.node.runAction(cc.sequence(cc.delayTime(.75),cc.callFunc(function(){this.hideAll(),this.Slot3.Slot3Bonus.initData(t),this.Slot3.Slot3Bonus.setRemainBonus(t.remain_bonus),this.Slot3UI.showBonus()},this)))},this)))},showFreeSpin:function(){this.hideAll(),this.moreEffectNode.active=!0,this.freeSpinSkeleton.node.active=!0,this.freeSpinSkeleton.setAnimation(0,"Freespin",!0),this.node.stopAllActions(!0),this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){this.hideAll()},this)))},hideAll:function(){this.winNormalNode.active=!1,this.moreEffectNode.active=!1,this.moreMoneyJackpotItem.node.active=!1,this.freeSpinSkeleton.clearTrack(0),this.bonusSkeleton.clearTrack(0),this.jackpotSkeleton.clearTrack(0),this.bigWinSkeleton.clearTrack(0),this.freeSpinSkeleton.node.active=!1,this.bonusSkeleton.node.active=!1,this.jackpotSkeleton.node.active=!1,this.bigWinSkeleton.node.active=!1}}),cc._RF.pop()},{"../../prefab/mini-game/item/JackpotItem":"JackpotItem"}],Slot3Footer:[function(t,e,i){"use strict";cc._RF.push(e,"836145SmWdA77xHLujlsgqQ","Slot3Footer");t("../../helper/Message");cc.Class({extends:cc.Component,properties:{},init:function(t){this.Slot3=t,this.Slot3UI=t.Slot3UI},onLoad:function(){},onEnable:function(){},onPlayFreeClick:function(){this.Slot3.Audio.playClick()},onPlayClick:function(){this.Slot3.Audio.playClick()},onBonusClick:function(){this.Slot3.Audio.playClick()},onBackClick:function(){this.Slot3.Audio.playClick()},onShopClick:function(){this.Slot3.Audio.playClick()},onRankClick:function(){this.Slot3.Audio.playClick()},onTutorialClick:function(){this.Slot3.Audio.playClick()},onHelpClick:function(){this.Slot3.Audio.playClick()},onSettingClick:function(){this.Slot3.Audio.playClick()}}),cc._RF.pop()},{"../../helper/Message":"Message"}],Slot3HandlerRequest:[function(t,e,i){"use strict";cc._RF.push(e,"a9eeerhl2lMS400KCS3x6OX","Slot3HandlerRequest");var n=t("../../helper/Constant"),o=(t("../../helper/Message"),t("./Slot3Constant")),s={init:function(t){this.Slot3=t,this.Slot3UI=t.Slot3UI},onUserVariablesUpdate:function(t){var e=t.user,i=t.changedVars;if(e.isItMe)for(var o in i)switch(i[o]){case n.MONEY:this.Slot3.updateMoneyGold();break;case n.GOLD:break;case n.DIAMOND_EVENT:case n.DIAMOND_LEVEL_EVENT:}},onResponse:function(t){var e=t.params,i=t.cmd;switch("MINIGAME"!==i&&n.NEWS,i){case n.NEWS:this.Slot3.handleNews(e);break;case o.JACKPOT:this.Slot3.handleJackpot(e);break;case o.SPIN:this.Slot3.handleSpin(e);break;case o.SPIN_DEMO:this.Slot3.handleSpinDemo(e);break;case o.SPIN_BONUS:this.Slot3.handleSpinBonus(e);break;case o.SPIN_BONUS_DEMO:this.Slot3.handleSpinBonusDemo(e);break;case o.SPIN_FAIL:this.Slot3.handleSpinFail(e);break;case o.UPDATE_BIGWIN:this.Slot3.handleUpdateBigwin(e);break;case o.GET_TOP:this.Slot3.handleGetTop(e),this.Slot3.MiniGame&&this.Slot3.MiniGame.handleRequest(e);break;case n.MINIGAME_REQUEST:this.Slot3.MiniGame&&this.Slot3.MiniGame.handleRequest(e);break;case n.REQUEST_RECHARGE_GOLD:this.Slot3.handleRechargeGold(e);break;case n.REQUEST_PLAYER_RECEIVE_ALERT:this.Slot3.handleAlert(e);break;case n.REQUEST_PLAYER_RECEIVE_NEW_MESSAGE:this.Slot3.handleNewMessage(e);break;case n.REQUEST_ACHIVEMENTED_QUEST:this.Slot3.handleAchivementedQuest(e);break;case n.REQUEST_PLUS_LUCKY_WHEEL_FREE:this.Slot3.handlePlusLuckyWheelFree(e);break;case n.REQUEST_CHAT_GET_CHAT:case n.REQUEST_CHAT_SEND_CHAT:break;case n.UPDATE_MINIGAME_FREE:this.Slot3.MiniGame&&this.Slot3.MiniGame.initNumberSpinFreeGame(e)}}};e.exports=s,cc._RF.pop()},{"../../helper/Constant":"Constant","../../helper/Message":"Message","./Slot3Constant":"Slot3Constant"}],Slot3Header:[function(t,e,i){"use strict";cc._RF.push(e,"7a3047q9RRCKamSGB7Sxx0r","Slot3Header");var n=t("../../helper/Message");cc.Class({extends:cc.Component,properties:{freeSpinButtonNode:cc.Node,playSpinButton:cc.Node},init:function(t){this.Slot3=t,this.Slot3UI=t.Slot3UI},onLoad:function(){},onEnable:function(){},onPlayFreeClick:function(){this.Slot3.Audio.playClick(),!this.Slot3.isCanChangeBet()||this.Slot3.isBonus()||this.Slot3.isFreeSpin()?this.Slot3.showToast(n.SLOT_NOT_TEST):(this.Slot3UI.showPlayButton(),this.Slot3.initDataTest())},onPlayClick:function(){this.Slot3.Audio.playClick(),!this.Slot3.isCanChangeBet()||this.Slot3.isBonus()||this.Slot3.isFreeSpin()?this.Slot3.showToast(n.SLOT_NOT_CHANGE_SPIN):(this.Slot3UI.showTestButton(),this.Slot3.initDataBet(this.Slot3.getFistBet()))},onBonusClick:function(){this.Slot3.Audio.playClick(),this.Slot3UI.showBonusTableFormNode()},onBackClick:function(){this.Slot3.Audio.playClick(),this.Slot3.isCanChangeBet()?this.Slot3.onBackClick():this.Slot3.showToast(n.SLOT_NOT_CHANGE_SPIN)},onShopClick:function(){this.Slot3.Audio.playClick(),this.Slot3.showDialogMessage(n.RECHARGE_MONEY_TITLE,"H\u1ec7 th\u1ed1ng n\u1ea1p th\u1ebb \u0111ang b\u1ea3o tr\xec")},onRankClick:function(){this.Slot3.Audio.playClick(),this.Slot3UI.showRankFormNode()},onHistoryClick:function(){this.Slot3.Audio.playClick(),this.Slot3UI.showHistoryFormNode()},onSettingClick:function(){this.Slot3.Audio.playClick(),this.Slot3UI.showSettingFormNode()}}),cc._RF.pop()},{"../../helper/Message":"Message"}],Slot3HistoryItem:[function(t,e,i){"use strict";cc._RF.push(e,"eb276dWEWFBIbyaB7TI2f4I","Slot3HistoryItem");var n=t("../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{idLabel:cc.Label,timeLabel:cc.Label,betLabel:cc.Label,numberLineLabel:cc.Label,balanceLabel:cc.Label,noteLabel:cc.Label},onLoad:function(){},init:function(t){var e=t.list_line_win_amount;e=JSON.parse(e),t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.idLabel.string=t.id,this.timeLabel.string=n.getStringDateByTimeStamp(t.created_at),this.betLabel.string=n.numberWithCommas(t.spin_fee),this.numberLineLabel.string=e.length,this.balanceLabel.string=n.numberWithCommas(t.total_prize_amount),this.noteLabel.string=""}}),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil"}],Slot3History:[function(t,e,i){"use strict";cc._RF.push(e,"6b524xMsnBG16gosNyVNae2","Slot3History");var n=t("../../../helper/Message");cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,slotHistoryItemPrefab:cc.Prefab,listScrollView:cc.ScrollView},init:function(t){this.Slot3=t,this.Slot3UI=t.Slot3UI},onLoad:function(){this.data=null},onEnable:function(){this.loadData()},loadData:function(){var t=this;if(this.showLoadingNode(),this.listScrollView.content.removeAllChildren(!0),this.data)this.initData();else{var e={token:this.Slot3.getToken(),user_id:this.Slot3.getUserId()};this.Slot3.api.getHistorySlot3(e,function(e){t.data=e.data,t.initData()},function(e){t.showListNode(),t.Slot3.showDialogMessage(n.HISTORY_TITLE,e.msg)})}},initData:function(){if(this.showListNode(),this.data){var t=this.data[0];for(var e in t){var i=cc.instantiate(this.slotHistoryItemPrefab);i.parent=this.listScrollView.content,i.getComponent("Slot3HistoryItem").init(t[e])}}},showLoadingNode:function(){this.loadingNode.active=!0,this.listScrollView.node.active=!1},showListNode:function(){this.loadingNode.active=!1,this.listScrollView.node.active=!0},isMoneyType:function(){return this.moneyOnButtonNode.active},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{"../../../helper/Message":"Message"}],Slot3Item:[function(t,e,i){"use strict";cc._RF.push(e,"d47b0KCaFVLybyLjnPkf4Rf","Slot3Item"),cc.Class({extends:cc.Component,properties:{slotSprite:cc.Sprite,listSprite:[cc.SpriteFrame],item1Node:cc.Node,item3Node:cc.Node},onLoad:function(){},init:function(t,e){this.index=t;var i=void 0;switch(this.hideAll(),this.index){case"A":this.slotSprite.node.active=!0,i=1;break;case"B":this.item1Node.active=!0,i=0;break;case"C":this.slotSprite.node.active=!0,i=3;break;case"D":this.slotSprite.node.active=!0,i=4;break;case"E":this.slotSprite.node.active=!0,i=5;break;case"F":this.slotSprite.node.active=!0,i=6;break;case"G":this.item3Node.active=!0,i=2;break;default:this.slotSprite.node.active=!0,i=2}this.slotSprite.spriteFrame=this.listSprite[i]},show:function(){this.showEffect()},isBonus:function(){},getIndex:function(){return this.index},showEffect:function(){this.slotSprite.node.getComponent(cc.Animation).play()},hideEffect:function(){this.slotSprite.node.scale=1,this.slotSprite.node.skewX=0,this.slotSprite.node.skewY=0},showPoint:function(){},hidePoint:function(){},showBonus:function(){},hideBonus:function(){},reset:function(){this.hideEffect()},hideAll:function(){this.slotSprite.node.active=!1,this.item1Node.active=!1,this.item3Node.active=!1}}),cc._RF.pop()},{}],Slot3Jackpot2Item:[function(t,e,i){"use strict";cc._RF.push(e,"4b09cKh21ZHjJN3n+CH2ozg","Slot3Jackpot2Item");var n=t("../../util/FormatUtil"),o=(t("../../helper/Message"),t("../../util/Util"));cc.Class({extends:cc.Component,properties:{idLabel:cc.Label,prefixNickNameLabel:cc.Label,nickNameLabel:cc.Label,balanceLabel:cc.Label,timeLabel:cc.Label},onLoad:function(){},init:function(t,e){t?(t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.idLabel.string=parseInt(e)+1,this.prefixNickNameLabel.string=o.getServerID(t.server_id),this.nickNameLabel.string=t.nick_name,this.balanceLabel.string=n.numberWithCommas(t.total_prize_value||t.total_prize_amount),this.timeLabel.string=n.getStringDateByTimeStamp(t.created_at),this.prefixNickNameLabel.node.color=new cc.Color(255,173,0,255),this.nickNameLabel.node.color=new cc.Color(255,244,141,255)):this.node.active=!1}}),cc._RF.pop()},{"../../helper/Message":"Message","../../util/FormatUtil":"FormatUtil","../../util/Util":"Util"}],Slot3JackpotForm:[function(t,e,i){"use strict";cc._RF.push(e,"7a692L+IbxCaq5PnbSZLN6h","Slot3JackpotForm");t("../../../helper/Config"),t("../../../prefab/mini-game/item/JackpotItem");var n=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{contentScrollView:cc.ScrollView,jackpotItemPrefab:cc.Prefab},init:function(t){this.Slot3=t,this.Slot3UI=t.Slot3UI},onLoad:function(){this.pool=new cc.NodePool;for(var t=0;t<10;t++){var e=cc.instantiate(this.jackpotItemPrefab);this.pool.put(e)}},onEnable:function(){},initData:function(t){t&&(this.data=t,this.initJackpot())},initJackpot:function(){this.putAllChipToPool(),this.contentScrollView.node.active=!0;var t=this.data.list_player_jackpot;for(var e in t=n.filterSameItemSlot(t)){this.instanceItem(t[e]).parent=this.contentScrollView.content}},instanceItem:function(t){var e=void 0;return this.pool&&(e=this.pool.get()),e||(e=cc.instantiate(this.jackpotItemPrefab)),e.getComponent("Slot3JackpotItem").init(t),e},putAllChipToPool:function(){if(this.pool){var t=this.contentScrollView.content.getChildren(),e=[];for(var i in t)e.push(t[i]);for(var n in e)this.pool.put(e[n])}}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../prefab/mini-game/item/JackpotItem":"JackpotItem","../../../util/FormatUtil":"FormatUtil"}],Slot3JackpotItem:[function(t,e,i){"use strict";cc._RF.push(e,"e1b26cTAphBnq06KToB4pks","Slot3JackpotItem");var n=t("../../util/FormatUtil"),o=(t("../../helper/Message"),t("../../util/Util"));cc.Class({extends:cc.Component,properties:{timeLabel:cc.Label,betLabel:cc.Label,prefixNickNameLabel:cc.Label,nickNameLabel:cc.Label,blanceLabel:cc.Label},onLoad:function(){},init:function(t){this.prefixNickNameLabel.string=o.getServerID(t.server_id);var e=t.nick_name;t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3));var i=n.numberWithCommas(t.total_prize_amount),s=n.getStringDateByTimeStamp(t.created_at).replace(" ","\n"),a=n.numberWithCommas(t.spin_fee);this.timeLabel.string=s,this.nickNameLabel.string=e,this.blanceLabel.string=i,this.betLabel.string=a,this.prefixNickNameLabel.node.color=new cc.Color(255,173,0,255),this.nickNameLabel.node.color=new cc.Color(255,244,141,255)}}),cc._RF.pop()},{"../../helper/Message":"Message","../../util/FormatUtil":"FormatUtil","../../util/Util":"Util"}],Slot3Label:[function(t,e,i){"use strict";cc._RF.push(e,"36f43n/z7BCQI6jpDGAJ7yi","Slot3Label");var n=t("../../util/FormatUtil"),o=t("../../prefab/mini-game/item/JackpotItem");cc.Class({extends:cc.Component,properties:{jackpotJackpotItem:o,spinIDLabel:cc.Label,totalBetLabel:cc.Label,betLabel:cc.Label,moneyLabel:cc.Label,lastMoneyWinLabel:cc.Label,numLineSelectedLabel:cc.Label,numberAutoSpinLabel:cc.Label,avatarSprite:cc.Sprite,nickNameLabel:cc.Label,vipSprite:cc.Sprite,vipProgressBar:cc.ProgressBar,listVipSprite:[cc.SpriteFrame]},init:function(t){this.Slot3=t,this.Slot3UI=t.Slot3UI},onLoad:function(){this.timeOutSpin=null,this.loadUserInfo()},loadUserInfo:function(){var t=this,e=this.Slot3.getUser();if(e){var i=e.nick_name,n=e.avatar;this.nickNameLabel.string=i,n&&cc.loader.load(n,function(e,i){if(i instanceof cc.Texture2D){var n=new cc.SpriteFrame(i,cc.Rect(0,0,90,128));t.avatarSprite.spriteFrame=n}})}},onDestroy:function(){clearTimeout(this.timeOutSpin)},initLast:function(t){var e=this.Slot3.getBet(),i=t*e;this.setBet(e),this.setTotalBet(i),this.setNumLineSelected(t)},handleSpin:function(t){this.setId(t.spin_id),this.timeOutSpin=setTimeout(function(){var e=t.total_prize_amount||t.win_prize;this.lastMoneyWinLabel.string=n.numberWithCommas(e)}.bind(this),5e3)},handleSpinDemo:function(t){this.setId(t.spin_id),this.timeOutSpin=setTimeout(function(){var e=t.win_prize;this.Slot3.getTestInfo().money+=e,this.lastMoneyWinLabel.string=n.numberWithCommas(e),this.setMoney(this.Slot3.getTestInfo().money)}.bind(this),3e3)},setId:function(t){this.spinIDLabel.string="#"+t},setLineSelected:function(t){this.numLineSelectedLabel.string=t},setJackpot:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.jackpotJackpotItem.setMoney(t):this.jackpotJackpotItem.setMoneyWithoutAnimation(t)},setBet:function(t){this.betLabel.string=n.numberWithCommas(t)},setTotalBet:function(t){this.totalBetLabel.string=n.numberWithCommas(t)},setMoney:function(t){this.moneyLabel.string=n.numberWithCommas(t),this.initVip()},initVip:function(){var t=this.Slot3.getConfig().vip,e=this.Slot3.getVipPoint();if(t&&e){var i=e.value,n=this.getVipPointData(t,i);this.vipSprite.spriteFrame=n.sprite,this.vipProgressBar.progress=n.progress}},getVipPointData:function(t,e){for(var i=0,n=0,o=t.length;n<o;n++)t[n].from_money<=e&&(i=n);return{sprite:this.listVipSprite[i-1]||this.listVipSprite[0],progress:e/(i<t.length-1?t[i+1].from_money:t[i].from_money)}},setLastMoneyWin:function(t){this.lastMoneyWinLabel.string=n.numberWithCommas(t)},setNumberAutoSpin:function(t){this.numberAutoSpinLabel.string=t},setNumLineSelected:function(t){this.numLineSelectedLabel.string=t}}),cc._RF.pop()},{"../../prefab/mini-game/item/JackpotItem":"JackpotItem","../../util/FormatUtil":"FormatUtil"}],Slot3Lines:[function(t,e,i){"use strict";cc._RF.push(e,"05e99EvyDhDe52MW+ww1Yi6","Slot3Lines");t("../../util/FormatUtil");var n=t("./items/Slot3NumberLineItem");cc.Class({extends:cc.Component,properties:{moneyNode:cc.Node,moneyLabel:cc.Label,listNumberLineItem:[n],listLine:[cc.Node]},init:function(t){for(var e in this.Slot3=t,this.SlotUI=t.SlotUI,this.listNumberLineItem)this.listNumberLineItem[e].init(t)},onLoad:function(){},showLines:function(t){if(this.reset(),t)for(var e in t){var i=t[e].line-1;this.listLine[i].active=!0,this.listNumberLineItem[i].showNumberLine()}},showLine:function(t){for(var e in this.listLine)parseInt(t)-1==e?(this.listLine[e].active=!0,this.listNumberLineItem[e].showNumberLine()):(this.listLine[e].active=!1,this.listNumberLineItem[e].hideNumberLine())},showMoney:function(t){this.moneyNode.active=!0,this.moneyLabel.string=t},reset:function(){for(var t in this.listLine)this.listLine[t].active=!1;for(var e in this.listNumberLineItem)this.listNumberLineItem[e].hideNumberLine();this.moneyNode.active=!1}}),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil","./items/Slot3NumberLineItem":"Slot3NumberLineItem"}],Slot3MiniGameItem:[function(t,e,i){"use strict";cc._RF.push(e,"79b387IgGZEbpTFartdoBFo","Slot3MiniGameItem");var n=t("../../util/FormatUtil"),o=t("../../helper/Config");cc.Class({extends:cc.Component,properties:{eggeSpriteNode:cc.Node,openSpriteNode:cc.Node,moneyLabel:cc.Label,moneyNonSelectLabel:cc.Label},init:function(t){this.Slot3=t,this.Slot3UI=t.Slot3UI,this.Slot3Bonus=t.Slot3Bonus},onLoad:function(){this.isClicked=!1,this.is_open=!1,this.hideTimeout=null},onEnable:function(){this.reset()},onDisable:function(){},onClick:function(){this.isClicked||(this.isClicked=!0,this.Slot3Bonus.openItemMiniGame(this))},openItem:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setOpen(!0),clearTimeout(this.hideTimeout),this.hideTimeout=setTimeout(function(){this.eggeSpriteNode.active=!1,this.openSpriteNode.active=!0,e?(this.moneyLabel.node.active=!0,this.moneyLabel.string=n.nFormatter(t,2).replace("k","K")):(this.moneyNonSelectLabel.node.active=!0,this.moneyNonSelectLabel.string=n.nFormatter(t,2).replace("k","K"))}.bind(this),500*o.SLOT3_TIME_OPEN_EGGE)},setClicked:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isClicked=t},getClicked:function(){return this.isClicked},setOpen:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.is_open=t},isOpen:function(){return this.is_open},reset:function(){clearTimeout(this.hideTimeout),this.moneyLabel.node.active=!1,this.moneyNonSelectLabel.node.active=!1,this.openSpriteNode.active=!1,this.eggeSpriteNode.active=!0,this.setClicked(!1),this.setOpen(!1)}}),cc._RF.pop()},{"../../helper/Config":"Config","../../util/FormatUtil":"FormatUtil"}],Slot3NumberLineItem:[function(t,e,i){"use strict";cc._RF.push(e,"dbcdcs8WzVMFoekX+0Cqdnt","Slot3NumberLineItem"),cc.Class({extends:cc.Component,properties:{numberLineLabel:cc.Label},init:function(t){this.Slot3=t,this.Slot3Lines=t.Slot3Lines,this.line=this.numberLineLabel.string},onLoad:function(){this.hideNumberLine()},showNumberLine:function(){},hideNumberLine:function(){}}),cc._RF.pop()},{}],Slot3Rank2Item:[function(t,e,i){"use strict";cc._RF.push(e,"8359fhCCvlB/basvs0KBh9p","Slot3Rank2Item");var n=t("../../util/FormatUtil"),o=(t("../../helper/Message"),t("../../util/Util"));cc.Class({extends:cc.Component,properties:{idLabel:cc.Label,prefixNickNameLabel:cc.Label,nickNameLabel:cc.Label,balanceLabel:cc.Label},onLoad:function(){},init:function(t,e){this.idLabel.string=parseInt(e)+1,this.prefixNickNameLabel.string=o.getServerID(t.server_id),this.nickNameLabel.string=t.nick_name,this.balanceLabel.string=n.numberWithCommas(t.total_prize_value||t.total_prize_amount),this.prefixNickNameLabel.node.color=new cc.Color(255,173,0,255),this.nickNameLabel.node.color=new cc.Color(255,244,141,255)}}),cc._RF.pop()},{"../../helper/Message":"Message","../../util/FormatUtil":"FormatUtil","../../util/Util":"Util"}],Slot3Rank2:[function(t,e,i){"use strict";cc._RF.push(e,"80961PhWnBN07hP1O8WqY1p","Slot3Rank2");t("../../../helper/Message");var n=t("../../../util/FormatUtil"),o=t("../Slot3Constant");cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,jackpotNode:cc.Node,rankNode:cc.Node,rankOnButtonNode:cc.Node,rankOffButtonNode:cc.Node,jackpotOnButtonNode:cc.Node,jackpotOffButtonNode:cc.Node,rankItemPrefab:cc.Prefab,listScrollView:cc.ScrollView,jackpotItemPrefab:cc.Prefab,jackpotScrollView:cc.ScrollView},init:function(t){this.Slot3=t,this.Slot3UI=t.Slot3UI},onLoad:function(){this.dialogForm=this.node.getComponent("DialogForm")},onEnable:function(){this.data=null,this.onJackpotClick(),this.Slot3.sendRequest.send(o.GET_TOP)},onRankClick:function(){this.hideAllButton(),this.hideAllContent(),this.rankOffButtonNode.active=!1,this.rankOnButtonNode.active=!0,this.rankNode.active=!0},onJackpotClick:function(){this.hideAllButton(),this.hideAllContent(),this.jackpotOffButtonNode.active=!1,this.jackpotOnButtonNode.active=!0,this.jackpotNode.active=!0},initDataRank:function(t){var e=t.data,i=[];i[0]=e[2],i[1]=e[0];var n=[];n[0]=e[3],n[1]=e[1],this.data=[],this.data[0]=i,this.data[1]=n,this.initData()},initData:function(){if(this.showListNode(),this.listScrollView.content.removeAllChildren(!0),this.jackpotScrollView.content.removeAllChildren(!0),this.data){var t=this.data[0]?this.data[0]:this.data[1];if(t[0]){var e=t[0];e=n.filterSameItemSlot(e);for(var i=0;i<e.length;i++){var o=cc.instantiate(this.rankItemPrefab);o.parent=this.listScrollView.content,o.getComponent("Slot3Rank2Item").init(e[i],i)}}if(t[1]){var s=n.sortDataTimeByTime(t[1]);s=n.filterSameItemSlot(s);for(var a=0;a<s.length;a++){var r=cc.instantiate(this.jackpotItemPrefab);r.parent=this.jackpotScrollView.content,r.getComponent("Slot3Jackpot2Item").init(s[a],a)}}}this.rankNode.active=this.isRankType(),this.jackpotNode.active=!this.isRankType()},isRankType:function(){return this.rankOnButtonNode.active},hideAllButton:function(){this.jackpotOffButtonNode.active=!0,this.rankOffButtonNode.active=!0,this.jackpotOnButtonNode.active=!1,this.rankOnButtonNode.active=!1},hideAllContent:function(){this.jackpotNode.active=!1,this.rankNode.active=!1},showLoadingNode:function(){this.loadingNode.active=!0,this.hideAllContent()},showListNode:function(){this.loadingNode.active=!1,this.rankNode.active=this.isRankType(),this.jackpotNode.active=!this.isRankType()}}),cc._RF.pop()},{"../../../helper/Message":"Message","../../../util/FormatUtil":"FormatUtil","../Slot3Constant":"Slot3Constant"}],Slot3RankItem:[function(t,e,i){"use strict";cc._RF.push(e,"86b70m1MVxAwrMsi63Wq3JF","Slot3RankItem");var n=t("../../util/FormatUtil"),o=t("../../helper/Message");cc.Class({extends:cc.Component,properties:{rankRichtext:cc.RichText},onLoad:function(){},init:function(t){var e="";if(t.amount){t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3));var i=t.nick_name,s=n.numberWithCommas(t.amount),a=Math.round(new Date/1e3)-t.created_at,r=void 0;r=a>86400?Math.round(a/86400)+" ng\xe0y":a>3600?Math.round(a/3600)+" gi\u1edd":a>60?Math.round(a/60)+" ph\xfat":a+" gi\xe2y",e=String.format(o.SLOT3_RANK_2,i,s,r)}if(t.spin_fee){t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3));var c=t.nick_name,h=n.numberWithCommas(t.total_prize_amount),l=n.getStringDateByTimeStamp(t.created_at);e=String.format(o.SLOT3_RANK_1,c,h,l)}this.rankRichtext.string=e}}),cc._RF.pop()},{"../../helper/Message":"Message","../../util/FormatUtil":"FormatUtil"}],Slot3Reels:[function(t,e,i){"use strict";cc._RF.push(e,"4da557Ju55C46FcxzIBrZF3","Slot3Reels");t("../../util/RandomUtil");var n=t("../../helper/Config"),o=t("../../util/FormatUtil"),s=t("./Slot3Reel"),a=t("./Slot3Constant");cc.Class({extends:cc.Component,properties:{slotReels:[s],itemPrefab:cc.Prefab,itemEffectNode:cc.Node,listItemEffectNode:cc.Node},init:function(t){for(var e in this.Slot3=t,this.Slot3UI=t.Slot3UI,this.Slot3Lines=t.Slot3Lines,this.Slot3SelectLine=t.Slot3SelectLine,this.Slot3Effect=t.Slot3Effect,this.slotReels)this.slotReels[e].init(t,e)},onLoad:function(){for(var t in this.intervalLines=null,this.slotReels)this.slotReels[t].randomItems()},onEnable:function(){},onDestroy:function(){clearInterval(this.intervalLines)},handleSpin:function(t){this.reset(),this.node.stopAllActions(!0);var e=t.display_slot_data,i=t.is_bonus,n=t.win_prize,o=t.is_free,s=t.list_line_prize,a=t.list_line_bonus,r=t.list_line_free,c=t.remain_free,h=t.win_type;this.listDataPrize=s.concat(a),this.listDataPrize=this.listDataPrize.concat(r),this.spinReels(e,h,n,i,o,c,t)},handleSpinDemo:function(t){this.reset(),this.node.stopAllActions(!0);var e=t.display_slot_data,i=t.is_bonus,n=t.win_prize,o=t.is_free,s=t.list_line_prize,a=t.list_line_bonus,r=t.list_line_free,c=t.remain_free,h=t.win_type;this.listDataPrize=s.concat(a),this.listDataPrize=this.listDataPrize.concat(r),this.spinReels(e,h,n,i,o,c,t)},spinReels:function(t,e,i,n,o,s,r){var c=this.getItemByCol(t,0),h=this.getItemByCol(t,1),l=this.getItemByCol(t,2),u=this.getItemByCol(t,3),d=this.getItemByCol(t,4);this.slotReels[0].spin(c,a.SLOT3_TOTAL_ITEM_IN_REEL),this.slotReels[1].spin(h,a.SLOT3_TOTAL_ITEM_IN_REEL+2),this.slotReels[2].spin(l,a.SLOT3_TOTAL_ITEM_IN_REEL+4),this.slotReels[3].spin(u,a.SLOT3_TOTAL_ITEM_IN_REEL+6),this.slotReels[4].spin(d,a.SLOT3_TOTAL_ITEM_IN_REEL+8,!0,e,i,n,o,s,r)},setItemListPrizeByIndex:function(t,e){this.listItemNodeSameDataDisplay||(this.listItemNodeSameDataDisplay=[]),this.listItemNodeSameDataDisplay[e]=t},showAllEffectItems:function(){if(this.listDataPrize){this.Slot3Lines.showLines(this.listDataPrize);for(var t=this.getIndexItemByLineId(this.listDataPrize),e=0,i=t.length;e<i;e++){var n=t[e]-1;this.showEffectItem(this.listItemNodeSameDataDisplay[n])}}},showEffectItem:function(t){var e=t.parent.convertToWorldSpaceAR(t.getPosition()),i=this.listItemEffectNode.convertToNodeSpaceAR(e),n=cc.instantiate(this.itemPrefab);n.getComponent("Slot3Item").init(t.getComponent("Slot3Item").getIndex()),n.getComponent("Slot3Item").showEffect(),n.setPosition(i),n.parent=this.listItemEffectNode,this.itemEffectNode.active=!0},showEffectLine:function(){clearInterval(this.intervalLines),this.Slot3.Slot3AutoSpinSetting.checkAutoSpin()||(this.currentLine=0,this.intervalLines=setInterval(function(){if(this.listItemNodeSameDataDisplay.length>0&&this.listDataPrize.length>0){this.hideAllEffectListItemSameDataDisplay();var t=this.listDataPrize[this.currentLine].line,e=this.listDataPrize[this.currentLine].prize;this.Slot3Lines.showLine(t),this.Slot3Lines.showMoney(e),this.showEffectItemSameDataDisplayBuyLine(t),this.currentLine++,this.currentLine===this.listDataPrize.length&&(this.currentLine=0)}}.bind(this),1200))},showEffectItemSameDataDisplayBuyLine:function(t){if(this.listItemNodeSameDataDisplay.length>0)for(var e=a.LIST_INDEX_NUMBER_IN_LINE[t-1],i=0,n=e.length;i<n;i++){var o=this.listItemNodeSameDataDisplay[e[i]-1];o&&o.getComponent("Slot3Item").showEffect()}},hideAllEffectListItemSameDataDisplay:function(){if(this.listItemNodeSameDataDisplay.length>0)for(var t=0,e=this.listItemNodeSameDataDisplay.length;t<e;t++){var i=this.listItemNodeSameDataDisplay[t];i&&i.getComponent("Slot3Item").hideEffect()}},getItemByCol:function(t,e){for(var i=[],n=0;n<a.SLOT3_NUMBER_ITEM_IN_REEL;n++){var o=this.slotReels.length*n+e;i.push(t[o])}return i},getIndexItemByLineId:function(t){var e=[];for(var i in t){var n=t[i].line-1,s=a.LIST_INDEX_NUMBER_IN_LINE[n];e=e.concat(s)}return o.deDuplicate(e)},hideEffectItem:function(){this.listItemEffectNode.removeAllChildren(!0),this.itemEffectNode.active=!1,this.Slot3Lines.reset()},getTimeEffect:function(t){return t===a.WIN_TYPE_NORMAL||t===a.WIN_TYPE_ZERO?1e3*n.TIME_WIN_TYPE_NORMAL:t===a.WIN_TYPE_BIG_WIN||t===a.WIN_TYPE_SUPER_BIG_WIN?1e3*n.TIME_WIN_TYPE_BIGWIN:t===a.WIN_TYPE_JACKPOT?1e3*n.TIME_WIN_TYPE_JACKPOT:1e3*n.TIME_WIN_TYPE_NORMAL},reset:function(){this.listItemNodeSameDataDisplay=[],this.hideEffectItem(),clearTimeout(this.timeOutLines),clearInterval(this.intervalLines)},getMoney:function(t,e){switch(t){case 1:return this.showJackpot(e);case 4:return this.showApple(e);case 5:return this.showClover(e);case 6:return this.showStar(e);case 7:return this.showBell(e);case 8:return this.showSeven(e);case 11:return this.showBonus(e)}},showJackpot:function(t){switch(t){case 5:return"Jackpot";case 4:return"Kho b\xe1u x5";case 3:return"Kho b\xe1u x1"}},showSeven:function(t){switch(t){case 5:return 5e3;case 4:return 25}},showBonus:function(t){switch(t){case 5:return"Mi\u1ec5n ph\xed x15";case 4:return"Mi\u1ec5n ph\xed x5";case 3:return"Mi\u1ec5n ph\xed x1"}},showBell:function(t){switch(t){case 5:return 1e3;case 4:return 20}},showStar:function(t){switch(t){case 5:return 200;case 4:return 15;case 3:return 3}},showClover:function(t){switch(t){case 5:return 80;case 4:return 10}},showApple:function(t){switch(t){case 5:return 20;case 4:return 6;case 3:return 2}}}),cc._RF.pop()},{"../../helper/Config":"Config","../../util/FormatUtil":"FormatUtil","../../util/RandomUtil":"RandomUtil","./Slot3Constant":"Slot3Constant","./Slot3Reel":"Slot3Reel"}],Slot3Reel:[function(t,e,i){"use strict";cc._RF.push(e,"ce639Zi/qFMT50cEakXl/5q","Slot3Reel");var n=t("../../util/RandomUtil"),o=(t("../../helper/Config"),t("./Slot3Constant"));cc.Class({extends:cc.Component,properties:{itemPrefab:cc.Prefab,numberItems:0,animation:cc.Animation},init:function(t,e){this.Slot3=t,this.Slot3UI=t.Slot3UI,this.Slot3Reels=t.Slot3Reels,this.Slot3Lines=t.Slot3Lines,this.Slot3Effect=t.Slot3Effect,this.indexNumberReel=parseInt(e)},onLoad:function(){this.listSlotItem=[],this.pool=new cc.NodePool;for(var t=0;t<this.numberItems;t++){var e=cc.instantiate(this.itemPrefab);this.pool.put(e)}this.items||(this.items=[])},spin:function(t,e,i,n,s,a,r,c,h){this.reset(),this.setItems(this.items),this.items=t;for(var l=1;l<e;l++){var u=this.getRandomItem(),d=this.indexNumberReel;l===e-1&&(u=t[0],d=this.indexNumberReel),l===e-2&&(u=t[1],d=this.indexNumberReel+5),l===e-3&&(u=t[2],d=this.indexNumberReel+10);var m=this.instanceItem(u);m.setPosition(0,(l+1)*o.SLOT3_DISTANCE_TWO_ITEMS),m.parent=this.node,l!==e-1&&l!==e-2&&l!==e-3||this.Slot3Reels.setItemListPrizeByIndex(m,d)}var p=(e-1)*o.SLOT3_DISTANCE_TWO_ITEMS,f=p/o.SLOT3_SPEED_SPIN_CARD,_=cc.moveTo(f,this.node.x,-p).easing(cc.easeInOut(3)),S=cc.callFunc(function(){i&&(this.Slot3.Slot3State.isAutoSpin()||this.Slot3.Slot3State.setFinish(),this.Slot3Reels.showAllEffectItems(),this.showEffectPrize(n,a,r,c,s,h))},this),g=cc.delayTime(.2);this.node.runAction(cc.sequence(_,g,S))},showEffectPrize:function(t,e,i,n,s,a){switch(t){case o.WIN_TYPE_NORMAL:case o.WIN_TYPE_BIG_WIN:this.Slot3.Slot3Effect.showWinNormal(s);break;case o.WIN_TYPE_SUPER_BIG_WIN:this.Slot3.Slot3Effect.showBigWin(s);break;case o.WIN_TYPE_JACKPOT:this.Slot3.Slot3Effect.showJackpot(s)}var r=this.getTimeEffect(t);t!==o.WIN_TYPE_ZERO?(clearTimeout(this.timeOutResult),this.timeOutResult=setTimeout(function(){this.Slot3.Slot3Effect.hideAll(),this.Slot3.Slot3AutoSpinSetting.checkAutoSpin()&&!e?this.Slot3UI.showSpinDisableButton():this.Slot3UI.showSpinButton(),i?((this.isNewSpinFree()||n>=this.getNumberSpinFree())&&this.Slot3.Slot3Effect.showFreeSpin(),this.setSpinFree(!0),this.setNumberSpinFree(n)):(this.setSpinFree(!1),this.setNumberSpinFree(0)),e?this.Slot3Effect.showBonus(a):this.Slot3.Slot3AutoSpinSetting.checkAutoSpin()?(this.Slot3.Slot3Effect.hideAll(),this.Slot3.spin()):(this.Slot3.Slot3State.setStop(),i&&(this.Slot3UI.showSpinFreeButton(n),clearTimeout(this.timeOutFreeSpin),this.timeOutFreeSpin=setTimeout(function(){this.Slot3.Slot3Effect.hideAll(),this.Slot3.spin()}.bind(this),2e3))),this.Slot3Reels.showEffectLine()}.bind(this),r)):(e&&this.Slot3Effect.showBonus(a),i&&(this.isNewSpinFree()||n>=this.getNumberSpinFree())&&this.Slot3.Slot3Effect.showFreeSpin(),e||i?(clearTimeout(this.timeOutResult),this.timeOutResult=setTimeout(function(){this.Slot3.Slot3Effect.hideAll(),i?(this.Slot3.spin(),this.setSpinFree(!0),this.setNumberSpinFree(n)):(this.setSpinFree(!1),this.setNumberSpinFree(0),this.Slot3.Slot3AutoSpinSetting.checkAutoSpin()?e||this.Slot3.spin():this.Slot3.Slot3State.setStop())}.bind(this),3e3)):(this.setSpinFree(!1),this.setNumberSpinFree(0),this.Slot3.Slot3Effect.hideAll(),this.Slot3.Slot3AutoSpinSetting.checkAutoSpin()?(clearTimeout(this.timeOutResult),this.timeOutResult=setTimeout(function(){this.Slot3.spin()}.bind(this),1e3)):this.Slot3.Slot3State.setStop()))},isNewSpinFree:function(){return!this.isFree},setSpinFree:function(t){this.isFree=t},setNumberSpinFree:function(t){this.numberFree=t},getNumberSpinFree:function(){return this.numberFree},randomItems:function(){for(var t=[],e=0;e<o.SLOT3_NUMBER_ITEM_IN_REEL;e++){var i=this.getRandomItem();t.push(i)}this.reset(),this.setItems(t)},getRandomItem:function(){var t=n.getRandomInt(0,o.SLOT3_LIST_ICON.length-1);return o.SLOT3_LIST_ICON[t]},setItems:function(t){if(t){this.putAllChipToPool(),this.node.setPosition(this.node.x,0),this.items=t;for(var e=0;e<t.length;e++){var i=this.instanceItem(t[e]);i.setPosition(0,(1-e)*o.SLOT3_DISTANCE_TWO_ITEMS),i.parent=this.node}}},instanceItem:function(t){var e=void 0;return this.pool&&(e=this.pool.get()),e||(e=cc.instantiate(this.itemPrefab)),e.getComponent("Slot3Item").reset(),e.getComponent("Slot3Item").init(t),e},putAllChipToPool:function(){if(this.pool){var t=this.node.getChildren(),e=[];for(var i in t)e.push(t[i]);for(var n in e)this.pool.put(e[n])}},getTimeEffect:function(t){return t===o.WIN_TYPE_NORMAL||t===o.WIN_TYPE_ZERO||t===o.WIN_TYPE_BIG_WIN?1e3*o.TIME_SHOW_WIN_NORMAL:t===o.WIN_TYPE_SUPER_BIG_WIN?1e3*o.TIME_SHOW_BIGWIN:t===o.WIN_TYPE_JACKPOT?1e3*o.TIME_SHOW_JACKPOT:1e3*o.TIME_SHOW_WIN_NORMAL},reset:function(){this.node.stopAllActions(!0),this.node.setPosition(this.node.x,0),this.putAllChipToPool(),clearTimeout(this.timeOutResult),clearTimeout(this.timeOutFreeSpin)}}),cc._RF.pop()},{"../../helper/Config":"Config","../../util/RandomUtil":"RandomUtil","./Slot3Constant":"Slot3Constant"}],Slot3SelectLine:[function(t,e,i){"use strict";cc._RF.push(e,"53131dK/TBNKLVMlIS2Jk5R","Slot3SelectLine");var n=t("./items/Slot3SelectNumberLineItem"),o=t("../../helper/Message");cc.Class({extends:cc.Component,properties:{evenOnButtonNode:cc.Node,evenOffButtonNode:cc.Node,oddOnButtonNode:cc.Node,oddOffButtonNode:cc.Node,allOnButtonNode:cc.Node,allOffButtonNode:cc.Node,cancelOnButttonNode:cc.Node,cancelOffButtonNode:cc.Node,listSelectNumLineItem:[n]},init:function(t){for(var e in this.Slot3=t,this.Slot3UI=t.Slot3UI,this.Slot3Label=t.Slot3Label,this.Slot3Lines=t.Slot3Lines,this.listSelectNumLineItem)this.listSelectNumLineItem[e].init(t)},onLoad:function(){this.totalLineSelected=0,this.selectAllItem()},itemIsSelected:function(){this.totalLineSelected=this.getLineSelected().length,0===this.totalLineSelected?(this.cancelOnButttonNode.active=!1,this.cancelOffButtonNode.active=!0):(20===this.totalLineSelected&&(this.allOnButtonNode.active=!0,this.allOffButtonNode.active=!1),this.cancelOnButttonNode.active=!0,this.cancelOffButtonNode.active=!1),this.Slot3Label.initLast(this.totalLineSelected)},getNumberLineSelected:function(){return this.getLineSelected().length},getLineSelected:function(){for(var t=[],e=0,i=this.listSelectNumLineItem.length;e<i;e++)this.listSelectNumLineItem[e].getSelected()&&t.push(e+1);return t},showNumberLines:function(t){this.Slot3Lines.showNumberLines(t)},showLines:function(t){this.Slot3Lines.showLines(t)},showLine:function(t){this.Slot3Lines.showLine(t)},showEffect:function(t){this.reset(),this.listSelectNumLineItem[t-1].showEffect()},showEffects:function(t){if(t)for(var e in t){var i=t[e].line_id-1;this.listSelectNumLineItem[i].showEffect(),this.listSelectNumLineItem[i].showEffect()}},setLineItemUnSelected:function(){this.allOnButtonNode.active=!1,this.allOffButtonNode.active=!0},onEvenOnClick:function(){if(this.Slot3.Audio.playClick(),!this.Slot3.isCanChangeBet()||this.Slot3.isFreeSpin()||this.Slot3.isBonus()||this.Slot3.isTest())this.Slot3.showToast(o.SLOT_NOT_CHANGE_BET);else{for(var t=1,e=this.listSelectNumLineItem.length;t<e;t+=2)this.listSelectNumLineItem[t].unSelect();this.evenOnButtonNode.active=!1,this.evenOffButtonNode.active=!0,this.allOnButtonNode.active=!1,this.allOffButtonNode.active=!0}},onEvenOffClick:function(){if(this.Slot3.Audio.playClick(),!this.Slot3.isCanChangeBet()||this.Slot3.isFreeSpin()||this.Slot3.isBonus()||this.Slot3.isTest())this.Slot3.showToast(o.SLOT_NOT_CHANGE_BET);else{for(var t=1,e=this.listSelectNumLineItem.length;t<e;t+=2)this.listSelectNumLineItem[t].select();this.evenOnButtonNode.active=!0,this.evenOffButtonNode.active=!1}},onOddOnClick:function(){if(this.Slot3.Audio.playClick(),!this.Slot3.isCanChangeBet()||this.Slot3.isFreeSpin()||this.Slot3.isBonus()||this.Slot3.isTest())this.Slot3.showToast(o.SLOT_NOT_CHANGE_BET);else{for(var t=0,e=this.listSelectNumLineItem.length;t<e;t+=2)this.listSelectNumLineItem[t].unSelect();this.oddOnButtonNode.active=!1,this.oddOffButtonNode.active=!0}},onOddOffClick:function(){if(this.Slot3.Audio.playClick(),!this.Slot3.isCanChangeBet()||this.Slot3.isFreeSpin()||this.Slot3.isBonus()||this.Slot3.isTest())this.Slot3.showToast(o.SLOT_NOT_CHANGE_BET);else{for(var t=0,e=this.listSelectNumLineItem.length;t<e;t+=2)this.listSelectNumLineItem[t].select();this.oddOnButtonNode.active=!0,this.oddOffButtonNode.active=!1}},onAllOnClick:function(){if(this.Slot3.Audio.playClick(),!this.Slot3.isCanChangeBet()||this.Slot3.isFreeSpin()||this.Slot3.isBonus()||this.Slot3.isTest())this.Slot3.showToast(o.SLOT_NOT_CHANGE_BET);else{for(var t=0,e=this.listSelectNumLineItem.length;t<e;t++)this.listSelectNumLineItem[t].unSelect();this.evenOnButtonNode.active=!1,this.oddOnButtonNode.active=!1,this.allOnButtonNode.active=!1,this.cancelOnButttonNode.active=!1,this.evenOffButtonNode.active=!0,this.oddOffButtonNode.active=!0,this.allOffButtonNode.active=!0,this.cancelOffButtonNode.active=!0}},onAllOffClick:function(){this.Slot3.Audio.playClick(),!this.Slot3.isCanChangeBet()||this.Slot3.isFreeSpin()||this.Slot3.isBonus()||this.Slot3.isTest()?this.Slot3.showToast(o.SLOT_NOT_CHANGE_BET):this.selectAllItem()},onCancelOnClick:function(){this.onAllOnClick()},selectAllItem:function(){for(var t=0,e=this.listSelectNumLineItem.length;t<e;t++)this.listSelectNumLineItem[t].select();this.evenOnButtonNode.active=!0,this.oddOnButtonNode.active=!0,this.allOnButtonNode.active=!0,this.cancelOnButttonNode.active=!0,this.evenOffButtonNode.active=!1,this.oddOffButtonNode.active=!1,this.allOffButtonNode.active=!1,this.evenOffButtonNode.active=!1},hideAllButton:function(){this.is_selectAllEvent=this.evenOnButtonNode.active,this.is_selectAllOdd=this.oddOnButtonNode.active,this.is_selectAll=this.allOnButtonNode.active,this.is_unSelectAll=this.cancelOnButttonNode.active,this.evenOnButtonNode.active=!1,this.oddOnButtonNode.active=!1,this.allOnButtonNode.active=!1,this.cancelOnButttonNode.active=!1,this.evenOffButtonNode.active=!0,this.oddOffButtonNode.active=!0,this.allOffButtonNode.active=!0,this.cancelOffButtonNode.active=!0},showAllButton:function(){this.is_selectAllEvent?(this.evenOnButtonNode.active=!0,this.evenOffButtonNode.active=!1):(this.evenOnButtonNode.active=!1,this.evenOffButtonNode.active=!0),this.is_selectAllOdd?(this.oddOnButtonNode.active=!0,this.oddOffButtonNode.active=!1):(this.oddOnButtonNode.active=!1,this.oddOffButtonNode.active=!0),this.is_selectAll?(this.allOnButtonNode.active=!0,this.allOffButtonNode.active=!1):(this.allOnButtonNode.active=!1,this.allOffButtonNode.active=!0),this.is_unSelectAll?(this.cancelOnButttonNode.active=!0,this.cancelOffButtonNode.active=!1):(this.cancelOnButttonNode.active=!1,this.cancelOffButtonNode.active=!0)},reset:function(){for(var t in this.listSelectNumLineItem)this.listSelectNumLineItem[t].reset()}}),cc._RF.pop()},{"../../helper/Message":"Message","./items/Slot3SelectNumberLineItem":"Slot3SelectNumberLineItem"}],Slot3SelectNumberLineItem:[function(t,e,i){"use strict";cc._RF.push(e,"0bc81+t2Y5PDpKj636kBumi","Slot3SelectNumberLineItem"),cc.Class({extends:cc.Component,properties:{line:0,onSelectButtonNode:cc.Node,offSelectButtonNode:cc.Node},init:function(t){this.Slot3=t,this.Slot3SelectLine=t.Slot3SelectLine},onLoad:function(){this.selected=this.onSelectButtonNode.active},onClick:function(){this.Slot3.Audio.playClick(),!this.Slot3.isCanChangeBet()||this.Slot3.isFreeSpin()||this.Slot3.isBonus()||this.Slot3.isTest()||(this.selected?this.unSelect():this.select())},select:function(){this.setSelected(!0),this.Slot3SelectLine.itemIsSelected(),this.showSelect()},unSelect:function(){this.setSelected(!1),this.Slot3SelectLine.setLineItemUnSelected(),this.Slot3SelectLine.itemIsSelected(),this.showUnSelect()},showSelect:function(){this.onSelectButtonNode.active=!0,this.offSelectButtonNode.active=!1},showUnSelect:function(){this.offSelectButtonNode.active=!0,this.onSelectButtonNode.active=!1},showEffect:function(){},setSelected:function(t){this.selected=t},getSelected:function(){return this.selected},reset:function(){this.getSelected()?this.showSelect():this.showUnSelect()}}),cc._RF.pop()},{}],Slot3State:[function(t,e,i){"use strict";cc._RF.push(e,"b9978oRz6FHpIB7usSf2eDz","Slot3State");e.exports={currentState:"",STOP:"STOP",SPINNING:"SPINNING",FINISH:"SPINNING",AUTO_SPIN:"AUTO_SPIN",init:function(t){this.Slot3=t,this.Slot3UI=t.Slot3UI,this.Slot3SelectLine=t.Slot3SelectLine},setStop:function(){this.currentState=this.STOP,this.Slot3.isFreeSpin()&&!this.Slot3.isTest()?this.Slot3UI.showSpinFreeButton():this.Slot3UI.showSpinButton(),this.Slot3UI.showAutoSpinButton(),this.Slot3SelectLine.showAllButton(),this.reset()},setSpinning:function(){this.currentState=this.SPINNING,this.Slot3.isFreeSpin()&&!this.Slot3.isTest()?this.Slot3UI.showSpinFreeButton():this.Slot3UI.showSpinDisableButton(),this.Slot3UI.showAutoSpinDisableButton(),this.Slot3SelectLine.hideAllButton(),this.reset()},setFinish:function(){this.currentState=this.FINISH,this.Slot3.isFreeSpin()&&!this.Slot3.isTest()?this.Slot3UI.showSpinFreeButton():this.Slot3UI.showSpinDisableButton(),this.Slot3UI.showAutoSpinDisableButton(),this.Slot3SelectLine.showAllButton(),this.reset()},setAutoSpin:function(){this.currentState=this.AUTO_SPIN,this.Slot3.isFreeSpin()&&!this.Slot3.isTest()?this.Slot3UI.showSpinFreeButton():this.Slot3UI.showSpinDisableButton(),this.Slot3UI.showStopAutoSpinButton(),this.Slot3SelectLine.hideAllButton(),this.reset()},reset:function(){this.Slot3.Slot3Reels.hideEffectItem(),this.Slot3.Slot3Label.setNumberAutoSpin(0)},isAutoSpin:function(){return this.currentState===this.AUTO_SPIN},isStop:function(){return this.currentState===this.STOP}},cc._RF.pop()},{}],Slot3UI:[function(t,e,i){"use strict";var n;function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}cc._RF.push(e,"d39ceXJQLBGhZKzEIfVLTZp","Slot3UI");var s=t("../../util/FormatUtil");cc.Class((o(n={extends:cc.Component,properties:{gameNode:cc.Node,gameBonusNode:cc.Node,spinFreeLabel:cc.Label,spinButtonNode:cc.Node,spinFreeButtonNode:cc.Node,autoSpinButtonNode:cc.Node,stopAutoSpinButtonNode:cc.Node,spinButtonDisableNode:cc.Node,autoSpinButtonDisableNode:cc.Node,playButtonNode:cc.Node,testButtonNode:cc.Node,jackpotNode:cc.Node,idSpinNode:cc.Node,autoSpinSettingFormNode:cc.Node,bonusResultFormNode:cc.Node,historyFormNode:cc.Node,rankFormNode:cc.Node,bonusTableFormNode:cc.Node,selectLineFormNode:cc.Node,dialogMessageFormNode:cc.Node,processingNode:cc.Node},init:function(t){this.Slot3=t},onLoad:function(){this.dialogFormAutoSpinSetting=this.autoSpinSettingFormNode.getComponent("DialogForm"),this.dialogFormBonus=this.bonusResultFormNode.getComponent("DialogForm"),this.dialogMessageForm=this.dialogMessageFormNode.getComponent("DialogMessage"),this.dialogFormHistory=this.historyFormNode.getComponent("DialogForm"),this.dialogFormRank=this.rankFormNode.getComponent("DialogForm"),this.dialogFormBonusTable=this.bonusTableFormNode.getComponent("DialogForm"),this.dialogFormSelectLine=this.selectLineFormNode.getComponent("DialogForm")},showContentGame:function(){this.hideAllContent(),this.gameNode.active=!0,this.idSpinNode.active=!0},showBonus:function(){this.hideAllContent(),this.gameBonusNode.active=!0,this.idSpinNode.active=!1},showSpinButton:function(){this.spinButtonNode.active=!0,this.spinFreeButtonNode.active=!1,this.spinButtonDisableNode.active=!1},showSpinDisableButton:function(){this.spinButtonNode.active=!1,this.spinFreeButtonNode.active=!1,this.spinButtonDisableNode.active=!0},showSpinFreeButton:function(t){t<0&&(t=0),this.spinButtonNode.active=!1,this.spinFreeButtonNode.active=!0,this.spinButtonDisableNode.active=!1,void 0!==t&&(this.spinFreeLabel.string=s.numberWithCommas(t))},showAutoSpinButton:function(){this.autoSpinButtonNode.active=!0,this.autoSpinButtonDisableNode.active=!1,this.stopAutoSpinButtonNode.active=!1},showAutoSpinDisableButton:function(){this.autoSpinButtonNode.active=!1,this.autoSpinButtonDisableNode.active=!0,this.stopAutoSpinButtonNode.active=!1},showStopAutoSpinButton:function(){this.autoSpinButtonNode.active=!1,this.autoSpinButtonDisableNode.active=!1,this.stopAutoSpinButtonNode.active=!0},showBonusResultForm:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormBonus.showDialog(t)},hideBonusResultForm:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormBonus.hideDialog(t)},showAutoSpinSettingFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormAutoSpinSetting.showDialog(t)},hideAutoSpinSettingFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormAutoSpinSetting.hideDialog(t)}},"showStopAutoSpinButton",function(){this.autoSpinButtonNode.active=!1,this.autoSpinButtonDisableNode.active=!0,this.stopAutoSpinButtonNode.active=!0}),o(n,"showJackpot",function(){this.jackpotNode.active=!0}),o(n,"hideJackpot",function(){this.jackpotNode.active=!1}),o(n,"showPlayButton",function(){this.playButtonNode.active=!0,this.testButtonNode.active=!1}),o(n,"showTestButton",function(){this.playButtonNode.active=!1,this.testButtonNode.active=!0}),o(n,"showSelectLineFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormSelectLine.showDialog(t)}),o(n,"hideAllContent",function(){this.gameNode.active=!1,this.gameBonusNode.active=!1}),o(n,"showDialogMessage",function(t,e){this.dialogMessageForm.setMessage(t,e),this.dialogMessageForm.showDialog()}),o(n,"showRankFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormRank.showDialog(t)}),o(n,"hideRankFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormRank.hideDialog(t)}),o(n,"showHistoryFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormHistory.showDialog(t)}),o(n,"hideHistoryFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormHistory.hideDialog(t)}),o(n,"showBonusTableFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormBonusTable.showDialog(t)}),o(n,"hideBonusTableFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormBonusTable.hideDialog(t)}),o(n,"hideDialogMessage",function(){this.dialogMessageForm.hideDialog()}),o(n,"showProcessingNode",function(){this.processingNode.active=!0}),o(n,"hideProcessingNode",function(){this.processingNode.active=!1}),n)),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil"}],Slot3X:[function(t,e,i){"use strict";cc._RF.push(e,"bc772z5qPpJqaQ2eHsDGxpO","Slot3X"),cc.Class({extends:cc.Component,properties:{xPrizeLabel:cc.Label},init:function(t){this.Slot3=t},onLoad:function(){this.xPrize=1},setXPrize:function(t){this.xPrize=t,this.xPrizeLabel.string="x"+t},getXPrize:function(){return this.xPrize}}),cc._RF.pop()},{}],Slot3:[function(t,e,i){"use strict";cc._RF.push(e,"57d01y+RL9NHLCfjiFSAhuj","Slot3");var n=t("../../base/BaseScene"),o=t("../../helper/Constant"),s=t("../../helper/Message"),a=t("./Slot3UI"),r=t("./Slot3Header"),c=t("./Slot3Control"),h=t("./Slot3Label"),l=t("./Slot3Reels"),u=t("./Slot3Lines"),d=t("./Slot3Effect"),m=t("./Slot3Bonus"),p=t("./Slot3Constant"),f=t("./Slot3State"),_=t("./Slot3HandlerRequest"),S=t("./Slot3SelectLine"),g=t("./form/Slot3AutoSpinSetting"),N=t("./form/Slot3BonusResult"),I=t("./form/Slot3Rank2"),C=t("./form/Slot3History"),E=t("../../object/JackpotX"),T=t("../../prefab/News"),v=t("../../prefab/Toast"),L=t("../../ui/dialog/DialogMessage"),R=t("../../ui/Processing"),b=t("../../object/Audio"),M=t("../../object/Music");cc.Class({extends:n,properties:{questNotificationItemPrefab:cc.Prefab,Slot3UI:a,Slot3Header:r,Slot3Control:c,Slot3Label:h,Slot3SelectLine:S,Slot3Reels:l,Slot3Effect:d,Slot3Lines:u,Slot3Bonus:m,Slot3Rank2:I,Slot3History:C,Slot3AutoSpinSetting:g,Slot3BonusResult:N,JackpotX:E,News:T,Toast:v,DialogMessage:L,Processing:R,Audio:b,Music:M,minigameContainerNode:cc.Node,minigamePrefab:cc.Prefab},onLoad:function(){this._super(),this.setSceneName(o.SCENE_GAME_SLOT_3),this.setSceneGameSlot(!0),this.sfsManager.setController(this),this.isAddEvent=!1,this.Slot3State=f,this.Slot3HandlerRequest=_,this.Slot3State.init(this),this.Slot3HandlerRequest.init(this),this.Slot3UI.init(this),this.Slot3Header.init(this),this.Slot3Control.init(this),this.Slot3Label.init(this),this.Slot3SelectLine.init(this),this.Slot3Reels.init(this),this.Slot3Effect.init(this),this.Slot3Lines.init(this),this.Slot3Bonus.init(this),this.Slot3Rank2.init(this),this.Slot3History.init(this),this.Slot3AutoSpinSetting.init(this),this.Slot3BonusResult.init(this),this.updateMoneyGold(),this.Slot3State.setStop(),this.onResponseBind=this.Slot3HandlerRequest.onResponse.bind(this.Slot3HandlerRequest),this.onUserVariablesUpdateBind=this.Slot3HandlerRequest.onUserVariablesUpdate.bind(this.Slot3HandlerRequest),this.sfsManager.removeEventResponse(),this.addEventResponse(),this.initTestInfo()},start:function(){this.initRoomInfo(),this.initDataBet(),this.Slot3UI.showContentGame(),this.Slot3SelectLine.selectAllItem()},onDestroy:function(){this.removeEventResponse()},addEventResponse:function(){this.sfs&&this.sfs.isConnected()&&!this.isAddEvent&&(this.sfs.addEventListener(this.SFS2X.SFSEvent.EXTENSION_RESPONSE,this.onResponseBind),this.sfs.addEventListener(this.SFS2X.SFSEvent.USER_VARIABLES_UPDATE,this.onUserVariablesUpdateBind),this.isAddEvent=!0)},removeEventResponse:function(){this.sfs&&this.sfs.isConnected()&&(this.sfs.removeEventListener(this.SFS2X.SFSEvent.EXTENSION_RESPONSE,this.onResponseBind),this.sfs.removeEventListener(this.SFS2X.SFSEvent.USER_VARIABLES_UPDATE,this.onUserVariablesUpdateBind),this.isAddEvent=!1)},initRoomInfo:function(){var t=this.getRoomInfo();this.info=t.data.info,this.dataRank={},t.data.list_player_jackpot&&(this.dataRank.list_player_jackpot=t.data.list_player_jackpot),t.data.list_player_bigwin&&(this.dataRank.list_player_bigwin=t.data.list_player_bigwin)},initTestInfo:function(){this.testInfo={current_step:0,max_spin_extra_step:10,is_extra:!1,jackpot:5e7,money_type:0,spin_fee:1e4,total_score:0,x_prize:1,money:5e7}},handleNews:function(t){this.News.addNews(t)},handleJackpot:function(t){var e=0,i=1;for(var n in this.info){var o=void 0;switch(this.info[n].spin_fee){case 100:this.info[n].jackpot=t.data[0],(o=t.data[3])&&(this.info[n].x_jackpot=o[0]);break;case 1e3:this.info[n].jackpot=t.data[1],o=t.data[3],t.data[3]&&(this.info[n].x_jackpot=o[1]);break;case 1e4:this.info[n].jackpot=t.data[2],(o=t.data[3])&&(this.info[n].x_jackpot=o[2])}this.info[n].spin_fee===this.bet&&(e=this.info[n].jackpot,i=this.info[n].x_jackpot)}this.isTest()||(this.Slot3Label.setJackpot(e,!0),this.JackpotX.showSlotX(i))},handleSpin:function(t){var e=t.data;this.is_spin=!1,this.Slot3Bonus.node.active&&this.Slot3UI.showContentGame(),this.Slot3State.isAutoSpin()||this.Slot3State.setSpinning(),this.initInfo(e),this.Slot3AutoSpinSetting.handleSpin(e),this.Slot3Label.handleSpin(e),this.Slot3Reels.handleSpin(e)},initInfo:function(t){var e=this.getInfo();e.total_prize_amount=t.total_prize_amount||t.win_prize,e.is_free=t.is_free,e.is_bonus=t.is_bonus,e.x_amount=t.x_amount,e.x_bonus=t.x_bonus,e.x_free=t.x_free},handleSpinDemo:function(t){this.is_spin=!1;var e=t.data;e.win_type===p.WIN_TYPE_JACKPOT&&(e.win_prize=this.getTestInfo().jackpot),this.initInfoTest(e),this.Slot3State.setSpinning(),this.Slot3Label.handleSpinDemo(e),this.Slot3Reels.handleSpinDemo(e)},initInfoTest:function(t){this.getTestInfo().is_free=t.is_free},handleSpinBonus:function(t){this.is_spin=!1,this.Slot3Bonus.handleSpin(t)},handleSpinBonusDemo:function(t){this.is_spin=!1,this.Slot3Bonus.handleSpinDemo(t)},handleSpinFail:function(t){this.is_spin=!1,this.showToast(t.msg),this.Slot3State.setStop(),this.Slot3AutoSpinSetting.stopAutoSpin()},handleAchivementedQuest:function(t){this.showNotificationMessage(t.msg)},handlePlusLuckyWheelFree:function(t){var e=t.data.amount;this.MiniGame.LuckyWheel.addLuckyWheelFree(e),this.showNotificationMessage(t.msg)},handleAlert:function(t){this.showNotificationMessage(t.msg)},handleNewMessage:function(t){this.showNotificationMessage(s.MAIL_NOTIFICATION)},showNotificationMessage:function(t){var e=cc.instantiate(this.questNotificationItemPrefab);e.getComponent("QuestNotificationItem").setMessage(t),e.parent=this.node},handleUpdateBigwin:function(t){var e=t.data;this.dataRank||(this.dataRank={}),this.dataRank.list_player_bigwin=e.list_player_bigwin,this.dataRank.list_player_jackpot=e.list_player_jackpot},handleGetTop:function(t){this.Slot3Rank2.initDataRank(t)},handleGetChat:function(t){if(t.status){var e=t.data.chat;this.Slot3Chat.initChat(e)}else this.showToast(t.msg)},handleSendChat:function(t){if(t.status){var e=t.data;this.Slot3Chat.addChat(e)}else this.Slot3Chat.addChatFail(t.msg)},initDataBet:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;this.setIsTest(!1),this.setBet(t),this.setFistBet(t)},initDataTest:function(){this.setIsTest(!0),this.bet=this.testInfo.spin_fee,this.initTestData(),this.Slot3Reels.reset(),this.Slot3SelectLine.selectAllItem()},initTestData:function(){this.Slot3Label.setBet(this.bet),this.initBetData(this.testInfo),this.Slot3Label.setMoney(this.testInfo.money),this.Slot3Label.setLastMoneyWin(0)},onBackClick:function(){this.showProcessingNode(),this.sendRequest.sendNoPrefixToZone(o.REQUEST_OUT_LOBBY_GAME)},spin:function(){if(this.line_player_choose=this.Slot3SelectLine.getLineSelected(),this.line_player_choose.length>0){if(!this.is_spin){var t={money_type:0,money_value:this.bet,line_player_choose:this.line_player_choose};this.isTest()?(this.sendRequest.send(p.SPIN_DEMO,t),this.testInfo.money-=2e4,this.Slot3Label.setMoney(this.testInfo.money)):this.sendRequest.send(p.SPIN,t),this.is_spin=!0}}else this.showToast(s.SLOT3_NOT_SELECT_LINE),this.Slot3State.setStop(),this.Slot3AutoSpinSetting.stopAutoSpin(),this.Slot3AutoSpinSetting.onResetClick()},updateMoneyGold:function(){this.isTest()||this.Slot3Label.setMoney(this.getMoney())},setBet:function(t){this.bet=t;var e=this.getInfo();if(this.Slot3Label.setBet(t),this.initBetData(e),this.Slot3Label.setMoney(this.getMoney()),e){var i=e.x_jackpot?e.x_jackpot:1;this.JackpotX.showSlotX(i)}},initBetData:function(t){if(t){var e=t.jackpot,i=t.is_extra,n=this.Slot3SelectLine.getLineSelected().length;this.Slot3Label.setJackpot(e,!1),this.Slot3Label.initLast(n),i?this.Slot3UI.showSpinFreeButton(1):this.Slot3UI.showSpinButton()}},getBet:function(){return this.bet},setFistBet:function(t){this.fistBet=t},getFistBet:function(){return this.fistBet},isFreeSpin:function(){return!!this.getInfo()&&this.getInfo().is_free},isBonus:function(){return this.Slot3Bonus.node.active},getInfo:function(){for(var t in this.info)if(this.info[t].spin_fee===this.bet)return this.info[t];return null},getTestInfo:function(){return this.testInfo},isTest:function(){return this.istest},setIsTest:function(t){this.istest=t},isCanChangeBet:function(){return this.Slot3State.isStop()},getTotalBet:function(){return this.bet*this.line_player_choose.length},showBonusResult:function(t){this.Slot3UI.showBonusResultForm(),this.Slot3BonusResult.setMoney(t)},hideBonusResult:function(){this.Slot3UI.hideBonusResultForm()},showToast:function(t){this.Toast.showToast(t)},showDialogMessage:function(t,e){this.Slot3UI.showDialogMessage(t,e)},hideDialogMessage:function(){this.Slot3UI.hideDialogMessage()},showProcessingNode:function(){this.Slot3UI.showProcessingNode()},hideProcessingNode:function(){this.Slot3UI.hideProcessingNode()},clearTimeoutProcessingNode:function(){this.Processing.clearTimeout()},dataTestBonus:function(){var t={bonus_prize:4e3,display_slot_data:["D","F","A","E","E","E","A","F","D","A","E","E","C","A","E"],is_bonus:!0,is_free:!1,is_jackpot:!1,list_bonus_prize:[]};return t.list_bonus_prize[0]={line:1,prize:400},t.list_bonus_prize[1]={line:1,prize:400},t.list_bonus_prize[2]={line:2,prize:0},t.list_bonus_prize[3]={line:1,prize:400},t.list_bonus_prize[4]={line:1,prize:400},t.list_bonus_prize[5]={line:1,prize:400},t.list_bonus_prize[6]={line:1,prize:400},t.list_bonus_prize[7]={line:1,prize:400},t.list_bonus_prize[8]={line:0,prize:1},t.list_bonus_prize[9]={line:1,prize:400},t.list_bonus_prize[10]={line:1,prize:400},t.list_line_bonus=[{line:4,prize:1}],t.list_line_free=[],t.list_line_prize=[],t.list_line_prize[0]={line:3,prize:200},t.list_line_prize[1]={line:7,prize:200},t.list_line_prize[2]={line:9,prize:200},t.list_line_prize[3]={line:13,prize:200},t.list_line_prize[4]={line:19,prize:200},t.money_type=0,t.number_key_start_bonus=1,t.remain_free=0,t.spin_id=314,t.win_prize=1800,t.win_type=1,t},dataTestFree:function(){var t={bonus_prize:0,display_slot_data:["G","C","F","G","D","F","E","D","G","E","C","F","G","D","C"],is_bonus:!1,is_free:!0,is_jackpot:!1,list_bonus_prize:[],list_line_bonus:[],list_line_free:[],list_line_prize:[{line:1,prize:200}],money_type:0,number_key_start_bonus:0,remain_free:1,spin_id:166,win_prize:0,win_type:0};return t}}),cc._RF.pop()},{"../../base/BaseScene":"BaseScene","../../helper/Constant":"Constant","../../helper/Message":"Message","../../object/Audio":"Audio","../../object/JackpotX":"JackpotX","../../object/Music":"Music","../../prefab/News":"News","../../prefab/Toast":"Toast","../../ui/Processing":"Processing","../../ui/dialog/DialogMessage":"DialogMessage","./Slot3Bonus":"Slot3Bonus","./Slot3Constant":"Slot3Constant","./Slot3Control":"Slot3Control","./Slot3Effect":"Slot3Effect","./Slot3HandlerRequest":"Slot3HandlerRequest","./Slot3Header":"Slot3Header","./Slot3Label":"Slot3Label","./Slot3Lines":"Slot3Lines","./Slot3Reels":"Slot3Reels","./Slot3SelectLine":"Slot3SelectLine","./Slot3State":"Slot3State","./Slot3UI":"Slot3UI","./form/Slot3AutoSpinSetting":"Slot3AutoSpinSetting","./form/Slot3BonusResult":"Slot3BonusResult","./form/Slot3History":"Slot3History","./form/Slot3Rank2":"Slot3Rank2"}],Slot4AutoSpinSetting:[function(t,e,i){"use strict";cc._RF.push(e,"595e9GxlJFOvrRRTpwGMuoU","Slot4AutoSpinSetting");var n=t("../Slot4Constant"),o=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{numberSpinLabel:cc.Label,numberSpinSlider:cc.Slider,stopGameJackpotToggle:cc.Toggle,stopGameWinToToggle:cc.Toggle,stopGameLoseToToggle:cc.Toggle,stopGameMaxWinToggle:cc.Toggle,stopGameWinToEditBox:cc.EditBox,stopGameLoseToEditBox:cc.EditBox,stopGameMaxWinEditBox:cc.EditBox},init:function(t){this.Slot4=t,this.Slot4UI=t.Slot4UI},onLoad:function(){this.defaultNumberAutoSpin=n.SLOT4_NUMBER_AUTO_SPIN[0],this.stopGameJackpot=!1,this.stopGameWinTo=!1,this.stopGameLoseTo=!1,this.stopGameMaxWin=!1,this.winTo=0,this.loseTo=0,this.maxWin=0,this.lastWin=0,this.totalMoneyChange=0,this.isJackpot=!1,this.autoSpin=!1,this.dialogForm=this.node.getComponent("DialogForm")},onEnable:function(){this.reset()},onNumberSpinSlider:function(){var t=this.numberSpinSlider.progress;t>=1-1/14?(this.defaultNumberAutoSpin=n.SLOT4_NUMBER_AUTO_SPIN[7],t=1):t>=6/7-1/14?(this.defaultNumberAutoSpin=n.SLOT4_NUMBER_AUTO_SPIN[6],t=6/7):t>=5/7-1/14?(this.defaultNumberAutoSpin=n.SLOT4_NUMBER_AUTO_SPIN[5],t=5/7):t>=.5?(this.defaultNumberAutoSpin=n.SLOT4_NUMBER_AUTO_SPIN[4],t=4/7):t>=3/7-1/14?(this.defaultNumberAutoSpin=n.SLOT4_NUMBER_AUTO_SPIN[3],t=3/7):t>=2/7-1/14?(this.defaultNumberAutoSpin=n.SLOT4_NUMBER_AUTO_SPIN[2],t=2/7):t>=1/7-1/14?(this.defaultNumberAutoSpin=n.SLOT4_NUMBER_AUTO_SPIN[1],t=1/7):(this.defaultNumberAutoSpin=n.SLOT4_NUMBER_AUTO_SPIN[0],t=0),this.numberSpinSlider.progress=t},onStopGameWinToChange:function(){var t=this.stopGameWinToEditBox.string,e=o.numberWithCommas(o.getOnlyNumberInString(t));this.stopGameWinToEditBox.string=e},onStopGameLoseToChange:function(){var t=this.stopGameLoseToEditBox.string,e=o.numberWithCommas(o.getOnlyNumberInString(t));this.stopGameLoseToEditBox.string=e},onStopGameMaxWinChange:function(){var t=this.stopGameMaxWinEditBox.string,e=o.numberWithCommas(o.getOnlyNumberInString(t));this.stopGameMaxWinEditBox.string=e},onResetClick:function(){this.stopGameJackpotToggle.isChecked=!1,this.stopGameWinToToggle.isChecked=!1,this.stopGameLoseToToggle.isChecked=!1,this.stopGameMaxWinToggle.isChecked=!1,this.stopGameWinToEditBox.string=0,this.stopGameLoseToEditBox.string=0,this.stopGameMaxWinEditBox.string=0,this.numberSpinSlider.progress=0,this.numberSpinLabel.string=0},onSpinClick:function(){this.stopGameJackpot=this.stopGameJackpotToggle.isChecked,this.stopGameWinTo=this.stopGameWinToToggle.isChecked,this.stopGameLoseTo=this.stopGameLoseToToggle.isChecked,this.stopGameMaxWin=this.stopGameMaxWinToggle.isChecked,this.winTo=parseInt(o.getOnlyNumberInString(this.stopGameWinToEditBox.string.toString())),this.loseTo=parseInt(o.getOnlyNumberInString(this.stopGameLoseToEditBox.string.toString())),this.maxWin=parseInt(o.getOnlyNumberInString(this.stopGameMaxWinEditBox.string.toString())),this.lastWin=0,this.totalMoneyChange=0,this.isJackpot=!1,this.autoSpin=!0,this.numberAutoSpin=this.defaultNumberAutoSpin,this.Slot4.Slot4State.setAutoSpin(),this.numberSpinLabel.string=o.numberWithCommas(this.numberAutoSpin),this.Slot4.spin(),this.dialogForm.hideDialog(!1)},handleSpin:function(t){if(this.Slot4.Slot4State.isAutoSpin()){var e=t.win_type,i=t.total_prize_amount||t.win_prize,s=i-this.Slot4.getTotalBet();this.addTotalMoneyChange(s),this.numberAutoSpin--,e===n.WIN_TYPE_JACKPOT&&(this.isJackpot=!0),this.lastWin=i,this.numberSpinLabel.string=o.numberWithCommas(this.numberAutoSpin)}},addTotalMoneyChange:function(t){this.totalMoneyChange+=t},stopAutoSpin:function(){this.autoSpin=!1},isAutoSpin:function(){return this.autoSpin},checkAutoSpin:function(){var t=this.numberAutoSpin>0,e=!this.stopGameWinTo||this.totalMoneyChange<this.winTo,i=!this.stopGameLoseTo||this.totalMoneyChange>-this.loseTo,n=!this.stopGameMaxWin||this.lastWin<this.maxWin,o=!this.stopGameJackpot||!this.isJackpot,s=this.Slot4.getMoney()>=this.Slot4.getBet()*this.Slot4.Slot4SelectLine.getNumberLineSelected();return this.autoSpin&&t&&e&&i&&n&&o&&s},reset:function(){this.stopGameJackpot=!1,this.stopGameWinTo=!1,this.stopGameLoseTo=!1,this.stopGameMaxWin=!1,this.winTo=0,this.loseTo=0,this.maxWin=0,this.lastWin=0,this.totalMoneyChange=0,this.isJackpot=!1,this.autoSpin=!1}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil","../Slot4Constant":"Slot4Constant"}],Slot4BonusItem:[function(t,e,i){"use strict";cc._RF.push(e,"51825v/pIlPVJ/XUEx0qmoq","Slot4BonusItem");var n=t("../../util/FormatUtil"),o=(t("../../helper/Config"),t("../../util/BrowserUtil")),s=t("../../helper/Message");t("../../scene/game-slot-4/Slot4Constant");cc.Class({extends:cc.Component,properties:{defaultNode:cc.Node,keyNode:cc.Node,minigameNode:cc.Node,moneyNode:cc.Node,moneyMiniGameLabel:cc.Label,moneyLabel:cc.Label},init:function(t){this.Slot4=t,this.Slot4UI=t.Slot4UI,this.Slot4Bonus=t.Slot4Bonus},onLoad:function(){var t=this;this.is_clicked=!1,this.is_open=!1,this.onMouseEnter=function(){t.isOpen()||o.showCursorPointer()},this.onMouseLeave=function(){o.showCursorAuto()}},onEnable:function(){this.reset(),cc.sys.isBrowser&&this.addEventMouserHover()},onDisable:function(){cc.sys.isBrowser&&this.removeEventMouserHover()},addEventMouserHover:function(){this.node.on(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this.node),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this.node)},removeEventMouserHover:function(){this.node.off(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this.node),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this.node)},onClick:function(){this.Slot4.Slot4State.isAutoSpin()?this.Slot4.showToast(s.SLOT2_AUTOSPIN_NOT_CHANGE):this.isClicked()||this.Slot4Bonus.isStateStop()||(this.setClicked(!0),this.Slot4Bonus.setStateStop(!0),this.Slot4Bonus.onItemClick(this))},onClickIsAutoSpin:function(){this.isClicked()||this.Slot4Bonus.isStateStop()||(this.setClicked(!0),this.Slot4Bonus.setStateStop(!0),this.Slot4Bonus.onItemClick(this))},showKey:function(){this.hideAll(),this.setOpen(!0),this.keyNode.active=!0},showOpenMiniGame:function(){this.hideAll(),this.setOpen(!0),this.minigameNode.active=!0,this.moneyMiniGameLabel.node.active=!1},showMoneyMiniGame:function(t){this.setOpen(!0),this.moneyMiniGameLabel.node.active=!0,this.moneyMiniGameLabel.string=n.numberWithCommas(t)},showMoney:function(t){this.hideAll(),this.setOpen(!0),this.moneyNode.active=!0,this.moneyLabel.string=n.numberWithCommas(t)},setOpen:function(t){this.is_open=t},isOpen:function(){return this.is_open},setClicked:function(t){this.is_clicked=t},isClicked:function(){return this.is_clicked},hideAll:function(){this.defaultNode.active=!0,this.minigameNode.active=!1,this.keyNode.active=!1,this.moneyNode.active=!1,this.moneyMiniGameLabel.node.active=!1},reset:function(){this.hideAll(),this.setOpen(!1),this.setClicked(!1)}}),cc._RF.pop()},{"../../helper/Config":"Config","../../helper/Message":"Message","../../scene/game-slot-4/Slot4Constant":"Slot4Constant","../../util/BrowserUtil":"BrowserUtil","../../util/FormatUtil":"FormatUtil"}],Slot4BonusResult:[function(t,e,i){"use strict";cc._RF.push(e,"5c00f/M0rxLcYW9InM+11b+","Slot4BonusResult");var n=t("../../../prefab/mini-game/item/JackpotItem");cc.Class({extends:cc.Component,properties:{moneyJackpotItem:n},init:function(t){this.Slot4=t,this.Slot4UI=t.Slot4UI},onLoad:function(){this.dialogForm=this.node.getComponent("DialogForm")},onEnable:function(){cc.sys.isBrowser&&this.addEventKeyPress()},onDisable:function(){this.moneyJackpotItem.setMoneyWithoutAnimation(100),cc.sys.isBrowser&&this.removeEventKeyPress()},addEventKeyPress:function(){var t=this;t.keyEventListener=cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(e,i){switch(e){case cc.KEY.escape:t.isTop()&&t.dialogForm.hideDialog()}}},t.node)},removeEventKeyPress:function(){this.keyEventListener&&cc.eventManager.removeListener(this.keyEventListener)},isTop:function(){return!this.Slot4.DialogMessage.node.active&&!this.Slot4.Processing.node.active},setMoney:function(t){this.moneyJackpotItem.setMoneyWithoutAnimation(t)}}),cc._RF.pop()},{"../../../prefab/mini-game/item/JackpotItem":"JackpotItem"}],Slot4Bonus:[function(t,e,i){"use strict";cc._RF.push(e,"76f63ub6flCSYS0+zVJS+Td","Slot4Bonus");var n=t("../../util/RandomUtil"),o=t("../../prefab/slot-4/Slot4BonusItem"),s=t("./Slot4Constant"),a=t("../../prefab/slot-4/Slot4MiniGameItem");cc.Class({extends:cc.Component,properties:{remainLabel:cc.Label,minigameBonusNode:cc.Node,closeMiniGameNode:cc.Node,slot4BonusItem:[o],slot4MiniGameItem:[a]},init:function(t){this.Slot4=t,this.Slot4UI=t.Slot4UI;for(var e=0;e<this.slot4BonusItem.length;e++)this.slot4BonusItem[e].init(t);for(var i=0;i<this.slot4MiniGameItem.length;i++)this.slot4MiniGameItem[i].init(t)},onLoad:function(){this.dialogMinigame=this.minigameBonusNode.getComponent("DialogForm")},initData:function(t){this.data=t},initContent:function(){this.data&&(this.list_bonus_prize=this.data.list_bonus_prize,this.bonus_prize=this.data.bonus_prize,this.x_bonus=this.data.number_key_start_bonus,this.remainBonus=10,this.setRemainBonus(this.remainBonus))},onEnable:function(){this.reset(),this.initContent(),this.Slot4.Slot4State.isAutoSpin()&&this.autoOpenBox()},onDisable:function(){this.Slot4UI.hideBonusResultForm(!1),this.data.is_free?this.Slot4.spin():this.Slot4.Slot4State.isAutoSpin()?this.Slot4.spin():this.Slot4.Slot4State.setStop()},autoOpenBox:function(){clearInterval(this.intervalAutoOpenBonusItem),this.intervalAutoOpenBonusItem=setInterval(function(){clearInterval(this.intervalAutoOpenBonusItem);var t=this.getItemBonusNotOpen();t&&t.onClickIsAutoSpin()}.bind(this),1200)},onItemClick:function(t){if(this.list_bonus_prize.length>0){var e=this.list_bonus_prize[0];this.list_bonus_prize.splice(0,1);var i=e.line,n=e.prize;this.openBonusItem(t,i,n)}else console.log("THOI TH\xd4I. M\u1ede H\u1ebeT C\xd2N \u0110\xc2U")},openBonusItem:function(t,e,i){switch(e){case s.BONUS_KEY:this.openItemBonusKey(t,i);break;case s.BONUS_MONEY:this.openItemBonusMoney(t,i);break;case s.BONUS_MINIGAME:this.openItemBonusMiniGame(t,i)}},openItemBonusKey:function(t,e){this.x_bonus++,t.showKey(),this.setRemainBonus(this.remainBonus),this.setStateStop(!1),this.checkFinishMiniGameBonus()},openItemBonusMoney:function(t,e){this.remainBonus--,t.showMoney(e),this.setRemainBonus(this.remainBonus),this.setStateStop(!1),this.checkFinishMiniGameBonus()},openItemBonusMiniGame:function(t,e){this.remainBonus--,this.mini_game_bonus_prize=e,this.bonusItemMiniGame=t,t.showOpenMiniGame(),this.setRemainBonus(this.remainBonus),this.showMiniGame();for(var i=0;i<this.slot4MiniGameItem.length;i++)this.slot4MiniGameItem[i].reset();this.setStateStop(!1),this.Slot4.Slot4State.isAutoSpin()&&(clearInterval(this.intervalAutoOpenMiniGameItem),this.intervalAutoOpenMiniGameItem=setInterval(function(){this.getItemMiniGameNotOpen().onClickIsAutoSpin(),clearInterval(this.intervalAutoOpenMiniGameItem)}.bind(this),2e3))},openItemMiniGame:function(t){this.bonusItemMiniGame&&this.bonusItemMiniGame.showMoneyMiniGame(this.mini_game_bonus_prize),t.openItem(this.mini_game_bonus_prize,!0),this.openMiniGameItemByMultipBet(10),this.openMiniGameItemByMultipBet(15),this.openMiniGameItemByMultipBet(15),this.openMiniGameItemByMultipBet(20),this.setStateStop(!1),this.showCloseMiniGame(),this.checkFinishMiniGameBonus()},openMiniGameItemByMultipBet:function(t){var e=t*this.Slot4.getBet()*this.x_bonus,i=this.getItemMiniGameNotOpen();i&&i.openItem(e)},getItemMiniGameNotOpen:function(){var t=[];for(var e in this.slot4MiniGameItem)this.slot4MiniGameItem[e].isOpen()||this.slot4MiniGameItem[e].isClicked()||t.push(this.slot4MiniGameItem[e]);return t[n.getRandomInt(0,t.length-1)]},getItemBonusNotOpen:function(){var t=[];for(var e in this.slot4BonusItem)this.slot4BonusItem[e].isOpen()||this.slot4BonusItem[e].isClicked()||t.push(this.slot4BonusItem[e]);return t[n.getRandomInt(0,t.length-1)]},isStateStop:function(){return this.is_StateStop},setStateStop:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.is_StateStop=t},setRemainBonus:function(t){void 0!==t&&(this.remainLabel.string=t)},checkFinishMiniGameBonus:function(){this.list_bonus_prize.length<=0?(clearInterval(this.intervalShowResultForm),clearInterval(this.intervalShowGameContent),this.intervalShowResultForm=setInterval(function(){this.Slot4.showBonusResult(this.data.bonus_prize),clearInterval(this.intervalShowResultForm)}.bind(this),2500),this.intervalShowGameContent=setInterval(function(){this.Slot4UI.showContentGame(),clearInterval(this.intervalShowGameContent)}.bind(this),3500)):this.Slot4.Slot4State.isAutoSpin()&&(this.autoOpenBox(),this.minigameBonusNode.active&&(clearInterval(this.intervalHideMiniGameContentNode),this.intervalHideMiniGameContentNode=setInterval(function(){this.hideMiniGame(),clearInterval(this.intervalHideMiniGameContentNode)}.bind(this),1e3)))},showMiniGame:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogMinigame.showDialog(t)},hideMiniGame:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogMinigame.hideDialog(t)},showCloseMiniGame:function(){this.closeMiniGameNode.active=!0},hideCloseMiniGame:function(){this.closeMiniGameNode.active=!1},reset:function(){for(var t in this.setStateStop(!1),this.list_bonus_prize=[],this.bonus_prize=0,this.mini_game_bonus_prize=0,this.hideCloseMiniGame(),clearInterval(this.intervalShowResultForm),clearInterval(this.intervalShowGameContent),clearInterval(this.intervalAutoOpenMiniGameItem),clearInterval(this.intervalAutoOpenBonusItem),clearInterval(this.intervalHideMiniGameContentNode),this.slot4BonusItem)this.slot4BonusItem[t].reset();for(var e in this.slot4MiniGameItem)this.slot4MiniGameItem[e].reset()}}),cc._RF.pop()},{"../../prefab/slot-4/Slot4BonusItem":"Slot4BonusItem","../../prefab/slot-4/Slot4MiniGameItem":"Slot4MiniGameItem","../../util/RandomUtil":"RandomUtil","./Slot4Constant":"Slot4Constant"}],Slot4Constant:[function(t,e,i){"use strict";cc._RF.push(e,"a50aefhdxFGBagOTOAhZ4dH","Slot4Constant");e.exports={SPIN:"SPIN",SPIN_DEMO:"SPIN_DEMO",SPIN_BONUS:"SPIN_BONUS",SPIN_BONUS_DEMO:"SPIN_BONUS_DEMO",SPIN_FAIL:"SPIN_FAIL",JACKPOT:"jackpot",UPDATE_BIGWIN:"UPDATE_BIGWIN",GET_TOP:"GET_TOP",WIN_TYPE_ZERO:0,WIN_TYPE_NORMAL:1,WIN_TYPE_BIG_WIN:2,WIN_TYPE_SUPER_BIG_WIN:3,WIN_TYPE_JACKPOT:4,BONUS_KEY:0,BONUS_MINIGAME:2,BONUS_MONEY:1,SLOT4_DISTANCE_TWO_ITEMS:156,SLOT4_SPEED_SPIN_CARD:1500,SLOT4_DELAY_SPIN:2e3,SLOT4_NUMBER_ITEM_IN_REEL:3,SLOT4_TOTAL_ITEM_IN_REEL:15,SLOT4_DELAY_SHOW_MONEY_PRIZE:1e3,SLOT4_TIME_DELAY_FINISH:3e3,SLOT4_NUMBER_AUTO_SPIN:[10,20,50,100,200,500,1e3,5e3],SLOT4_LIST_ICON:["A","B","C","D","E","F","G"],NUM_IN_HISTORY:30,LIST_INDEX_NUMBER_IN_LINE:[[6,7,8,9,10],[1,2,3,4,5],[11,12,13,14,15],[6,7,3,9,10],[6,7,13,9,10],[1,2,8,4,5],[11,12,8,14,15],[1,12,3,14,5],[11,2,13,4,15],[6,2,13,4,10],[11,7,3,9,15],[1,7,13,9,5],[6,12,8,4,10],[6,2,8,14,10],[11,7,8,9,15],[1,7,8,9,5],[6,12,13,14,10],[6,2,3,4,10],[11,12,8,4,5],[1,2,8,14,15]],TIME_SHOW_JACKPOT:5,TIME_SHOW_FREESPIN:3.5,TIME_SHOW_BONUS:4,TIME_SHOW_BIGWIN:4,TIME_SHOW_WIN_NORMAL:2.5},cc._RF.pop()},{}],Slot4Control:[function(t,e,i){"use strict";cc._RF.push(e,"50b78s6sHxO076CEAnwbLoO","Slot4Control");var n=t("../../helper/Message"),o=t("../../helper/Config");cc.Class({extends:cc.Component,properties:{},init:function(t){this.Slot4=t,this.Slot4UI=t.Slot4UI},onLoad:function(){},onSpinClick:function(){this.Slot4.Audio.playClick(),!this.Slot4.isBonus()&&this.Slot4.isCanChangeBet()&&this.Slot4.spin()},onAutoSpinClick:function(){this.Slot4.Audio.playClick(),!this.Slot4.isCanChangeBet()||this.Slot4.isTest()||this.Slot4.isBonus()||this.Slot4.isFreeSpin()?this.Slot4.showToast(n.SLOT_NOT_CHANGE_BET):this.Slot4UI.showAutoSpinSettingFormNode()},onStopAutoSpinClick:function(){this.Slot4.Audio.playClick(),this.Slot4.Slot4AutoSpinSetting.stopAutoSpin()},onPlayClick:function(){this.Slot4.Audio.playClick(),!this.Slot4.isCanChangeBet()||this.Slot4.isBonus()||this.Slot4.isFreeSpin()?this.Slot4.showToast(n.SLOT_NOT_CHANGE_SPIN):(this.Slot4UI.showTestButton(),this.Slot4.initDataBet(this.Slot4.getFistBet()))},onTestClick:function(){this.Slot4.Audio.playClick(),!this.Slot4.isCanChangeBet()||this.Slot4.isBonus()||this.Slot4.isFreeSpin()?this.Slot4.showToast(n.SLOT_NOT_TEST):(this.Slot4UI.showPlayButton(),this.Slot4.initDataTest())},onAddClick:function(){if(this.Slot4.Audio.playClick(),!this.Slot4.isCanChangeBet()||this.Slot4.isTest()||this.Slot4.isBonus()||this.Slot4.isFreeSpin())this.Slot4.showToast(n.SLOT_NOT_CHANGE_BET);else for(var t=o.SLOT_BETS,e=0;e<t.length;e++)if(this.Slot4.getBet()===t[e]){++e>=t.length&&(e=0),this.Slot4.setFistBet(t[e]),this.Slot4.setBet(t[e]);break}},onMinusClick:function(){if(this.Slot4.Audio.playClick(),!this.Slot4.isCanChangeBet()||this.Slot4.isTest()||this.Slot4.isBonus()||this.Slot4.isFreeSpin())this.Slot4.showToast(n.SLOT_NOT_CHANGE_BET);else for(var t=o.SLOT_BETS,e=0;e<t.length;e++)if(this.Slot4.getBet()===t[e]){--e<0&&(e=t.length-1),this.Slot4.setFistBet(t[e]),this.Slot4.setBet(t[e]);break}},onSelectLineClick:function(){this.Slot4.Audio.playClick(),!this.Slot4.isCanChangeBet()||this.Slot4.isTest()||this.Slot4.isBonus()||this.Slot4.isFreeSpin()?this.Slot4.showToast(n.SLOT_NOT_CHANGE_BET):this.Slot4UI.showSelectLineFormNode()}}),cc._RF.pop()},{"../../helper/Config":"Config","../../helper/Message":"Message"}],Slot4Effect:[function(t,e,i){"use strict";cc._RF.push(e,"bdb8f/eEpBEe7ZzAZkJL8qJ","Slot4Effect");var n=t("../../prefab/mini-game/item/JackpotItem"),o=t("./Slot4Constant");cc.Class({extends:cc.Component,properties:{winNormalNode:cc.Node,bonusEffectNode:cc.Node,freeSpinEffectNode:cc.Node,bigwinEffectNode:cc.Node,jackpotEffectNode:cc.Node,winNormalJackpotItem:n,moneyLabelJackpotItem:n,jackpotLabelJackpotItem:n,bonusSkeleton:sp.Skeleton,freeSpinSkeletion:sp.Skeleton,bigwinSkeleton:sp.Skeleton,jackpotSkeleton:sp.Skeleton},init:function(t){this.Slot4=t,this.Slot4UI=t.Slot4UI,this.Music=t.Music},onLoad:function(){},onDestroy:function(){},showWinNormal:function(t){this.hideAll(),this.winNormalNode.active=!0,this.winNormalJackpotItem.node.active=!0,this.winNormalJackpotItem.setMoney(t),this.Music.soundWinNormal()},showBigWin:function(t){this.hideAll(),this.bigwinEffectNode.active=!0,this.bigwinSkeleton.setAnimation(0,"Win",!0),this.Music.soundMegaWin(),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){this.moneyLabelJackpotItem.node.active=!0,this.moneyLabelJackpotItem.setMoney(t)},this),cc.delayTime(o.TIME_SHOW_BIGWIN),cc.callFunc(function(){this.hideAll()},this)))},showJackpot:function(t){this.hideAll(),this.jackpotEffectNode.active=!0,this.jackpotSkeleton.setAnimation(0,"Jackpot",!0),this.Music.soundJackpot(),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){this.jackpotLabelJackpotItem.node.active=!0,this.jackpotLabelJackpotItem.setMoney(t)},this)))},showBonus:function(t){this.hideAll(),this.bonusEffectNode.active=!0,this.bonusSkeleton.setAnimation(0,"Bonus",!0),this.node.runAction(cc.sequence(cc.delayTime(o.TIME_SHOW_BONUS),cc.callFunc(function(){this.hideAll(),this.Slot4.Slot4Bonus.initData(t),this.Slot4UI.showBonus()},this)))},showFreeSpin:function(){this.hideAll(),this.freeSpinEffectNode.active=!0,this.freeSpinSkeletion.setAnimation(0,"Freespin",!0),this.node.stopAllActions(!0),this.node.runAction(cc.sequence(cc.delayTime(o.TIME_SHOW_FREESPIN),cc.callFunc(function(){this.hideAll()},this)))},hideAll:function(){this.winNormalNode.active=!1,this.bonusEffectNode.active=!1,this.freeSpinEffectNode.active=!1,this.bigwinEffectNode.active=!1,this.jackpotEffectNode.active=!1,this.jackpotLabelJackpotItem.node.active=!1,this.winNormalJackpotItem.node.active=!1,this.moneyLabelJackpotItem.node.active=!1,this.winNormalJackpotItem.setMoneyWithoutAnimation(100),this.jackpotLabelJackpotItem.setMoneyWithoutAnimation(100),this.moneyLabelJackpotItem.setMoneyWithoutAnimation(100),this.bonusSkeleton.clearTrack(0),this.freeSpinSkeletion.clearTrack(0),this.bigwinSkeleton.clearTrack(0),this.jackpotSkeleton.clearTrack(0)}}),cc._RF.pop()},{"../../prefab/mini-game/item/JackpotItem":"JackpotItem","./Slot4Constant":"Slot4Constant"}],Slot4Form:[function(t,e,i){"use strict";cc._RF.push(e,"16444Bj/MZCRY9+40KOMAyq","Slot4Form");var n=t("./Slot4History"),o=t("./Slot4Rank");cc.Class({extends:cc.Component,properties:{historyOnButtonNode:cc.Node,historyOffButtonNode:cc.Node,rankOnButtonNode:cc.Node,rankOffButtonNode:cc.Node,historyNode:cc.Node,rankNode:cc.Node,Slot4History:n,Slot4Rank:o},init:function(t){this.Slot4=t,this.Slot4History.init(t),this.Slot4Rank.init(t)},onLoad:function(){this.onRankClick()},onHistoryClick:function(){this.hideAllButton(),this.hideAllContent(),this.historyOnButtonNode.active=!0,this.historyOffButtonNode.active=!1,this.historyNode.active=!0},onRankClick:function(){this.hideAllButton(),this.hideAllContent(),this.rankOnButtonNode.active=!0,this.rankOffButtonNode.active=!1,this.rankNode.active=!0},hideAllButton:function(){this.historyOnButtonNode.active=!1,this.rankOnButtonNode.active=!1,this.historyOffButtonNode.active=!0,this.rankOffButtonNode.active=!0},hideAllContent:function(){this.historyNode.active=!1,this.rankNode.active=!1}}),cc._RF.pop()},{"./Slot4History":"Slot4History","./Slot4Rank":"Slot4Rank"}],Slot4HandlerRequest:[function(t,e,i){"use strict";cc._RF.push(e,"aeb791R+GROL70mC77MdAqZ","Slot4HandlerRequest");var n=t("../../helper/Constant"),o=(t("../../helper/Message"),t("./Slot4Constant")),s={init:function(t){this.Slot4=t,this.Slot4UI=t.Slot4UI},onUserVariablesUpdate:function(t){var e=t.user,i=t.changedVars;if(e.isItMe)for(var o in i)switch(i[o]){case n.MONEY:this.Slot4.updateMoneyGold();break;case n.GOLD:}},onResponse:function(t){var e=t.params,i=t.cmd;switch("MINIGAME"!==i&&n.NEWS,i){case o.JACKPOT:this.Slot4.handleJackpot(e);break;case o.SPIN:this.Slot4.handleSpin(e);break;case o.SPIN_DEMO:this.Slot4.handleSpinDemo(e);break;case o.SPIN_BONUS:this.Slot4.handleSpinBonus(e);break;case o.SPIN_BONUS_DEMO:break;case o.SPIN_FAIL:this.Slot4.handleSpinFail(e);break;case o.UPDATE_BIGWIN:case o.GET_TOP:break;case n.MINIGAME_REQUEST:this.Slot4.MiniGame&&this.Slot4.MiniGame.handleRequest(e);break;case n.REQUEST_RECHARGE_GOLD:this.Slot4.handleRechargeGold(e);break;case n.REQUEST_PLAYER_RECEIVE_ALERT:this.Slot4.handleAlert(e);break;case n.REQUEST_PLAYER_RECEIVE_NEW_MESSAGE:this.Slot4.handleNewMessage(e);break;case n.REQUEST_ACHIVEMENTED_QUEST:this.Slot4.handleAchivementedQuest(e);break;case n.REQUEST_PLUS_LUCKY_WHEEL_FREE:this.Slot4.handlePlusLuckyWheelFree(e);break;case n.REQUEST_CHAT_GET_CHAT:case n.REQUEST_CHAT_SEND_CHAT:break;case n.UPDATE_MINIGAME_FREE:this.Slot4.MiniGame&&this.Slot4.MiniGame.initNumberSpinFreeGame(e)}}};e.exports=s,cc._RF.pop()},{"../../helper/Constant":"Constant","../../helper/Message":"Message","./Slot4Constant":"Slot4Constant"}],Slot4Header:[function(t,e,i){"use strict";cc._RF.push(e,"1c027M32GFCvYDjAUv4IsZj","Slot4Header");var n=t("../../helper/Message");cc.Class({extends:cc.Component,properties:{},init:function(t){this.Slot4=t,this.Slot4UI=t.Slot4UI},onLoad:function(){},onEnable:function(){},onPrizeClick:function(){this.Slot4.Audio.playClick(),this.Slot4UI.showPrizeFormNode()},onBackClick:function(){this.Slot4.Audio.playClick(),this.Slot4.isCanChangeBet()?this.Slot4.onBackClick():this.Slot4.showToast(n.SLOT_NOT_CHANGE_SPIN)},onShopClick:function(){this.Slot4.Audio.playClick()},onRankClick:function(){this.Slot4.Audio.playClick(),this.Slot4UI.showRankHistoryFormNode(),this.Slot4.Slot4Form.onRankClick()},onHistoryClick:function(){this.Slot4.Audio.playClick(),this.Slot4UI.showRankHistoryFormNode(),this.Slot4.Slot4Form.onHistoryClick()},onSettingClick:function(){this.Slot4.Audio.playClick(),this.Slot4UI.showSettingFormNode()}}),cc._RF.pop()},{"../../helper/Message":"Message"}],Slot4HistoryItem:[function(t,e,i){"use strict";cc._RF.push(e,"3cb7aHcRR9IOLEfemJM7CMr","Slot4HistoryItem");var n=t("../../util/FormatUtil");t("../../helper/Message");cc.Class({extends:cc.Component,properties:{timeLabel:cc.Label,totalPrizeLabel:cc.Label,betLabel:cc.Label},onLoad:function(){},init:function(t){if(t){var e=n.numberWithCommas(t.total_prize_amount||t.win_prize),i=n.numberWithCommas(t.total_bet_amount);t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.timeLabel.string=n.getStringDateByTimeStamp(t.created_at),this.totalPrizeLabel.string=e,this.betLabel.string=i}},getMessage:function(){return this.richText.string}}),cc._RF.pop()},{"../../helper/Message":"Message","../../util/FormatUtil":"FormatUtil"}],Slot4History:[function(t,e,i){"use strict";cc._RF.push(e,"11ea8wpd5tEWqhY1HcGAF+I","Slot4History");var n=t("../../../helper/Message"),o=t("../Slot4Constant"),s=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{historyContentScrollView:cc.ScrollView,historyItemPrefab:cc.Prefab,loadingNode:cc.Node},init:function(t){this.Slot4=t,this.Slot4UI=t.Slot4UI},onLoad:function(){},onEnable:function(){this.initData()},initFirst:function(){this.listItem||(this.listItem=[],this.listData=[],this.timeShowHistory=null)},initData:function(){if(this.listData&&0!==this.listData.length){this.showListNode(),this.listData=s.sortDataTimeByTime(this.listData);for(var t=0,e=this.listData.length;t<e;t++){var i=this.listItem[t];i||(i=this.instanceItem(this.listData[t])),i.getComponent("Slot4HistoryItem").init(this.listData[t])}}else this.loadData()},handleSpin:function(t){this.initFirst();var e={};e.created_at=Math.round(new Date/1e3),e.total_prize_amount=t.win_prize,e.spin_fee=this.Slot4.getBet(),e.total_bet_amount=this.Slot4.Slot4SelectLine.getLineSelected().length*this.Slot4.getBet(),this.listData.length>o.NUM_IN_HISTORY?this.listData.splice(0,1):this.listData.push(e),this.node.active&&(clearTimeout(this.timeShowHistory),this.timeShowHistory=setTimeout(function(){if(this.listData.length>o.NUM_IN_HISTORY){this.listData.length>this.listItem.length&&this.listData.splice(0,1);for(var t=this.listData.length-1,i=0,n=this.listItem.length;i<n;i++)this.listItem[i].getComponent("Slot4HistoryItem").init(this.listData[t-i])}else this.instanceItem(e);clearTimeout(this.timeShowHistory)}.bind(this),o.SLOT4_TIME_DELAY_FINISH))},loadData:function(){var t=this;this.initFirst(),this.showLoadingNode(),this.historyContentScrollView.content.removeAllChildren(!0);var e={token:this.Slot4.getToken(),user_id:this.Slot4.getUserId()};this.Slot4.api.getHistorySlot4(e,function(i){e=i.data,t.initContent(e)},function(e){t.showListNode(),t.Slot4.showDialogMessage(n.HISTORY_TITLE,e.msg)})},initContent:function(t){this.showListNode();var e=t[0],i=0;i=e.length>o.NUM_IN_HISTORY?o.NUM_IN_HISTORY:e.length;for(var n=0;n<i;n++)this.instanceItem(e[n]),this.listData.push(e[n])},instanceItem:function(t){var e=cc.instantiate(this.historyItemPrefab);return e.parent=this.historyContentScrollView.content,e.getComponent("Slot4HistoryItem").init(t),this.listItem.push(e),e},showListNode:function(){this.historyContentScrollView.node.active=!0,this.hideLoadingNode()},showLoadingNode:function(){this.loadingNode.active=!0},hideLoadingNode:function(){this.loadingNode.active=!1}}),cc._RF.pop()},{"../../../helper/Message":"Message","../../../util/FormatUtil":"FormatUtil","../Slot4Constant":"Slot4Constant"}],Slot4Item:[function(t,e,i){"use strict";cc._RF.push(e,"b6286PEnOdCKKNwWB9c+ERM","Slot4Item"),cc.Class({extends:cc.Component,properties:{slotSprite:cc.Sprite,itemASpriteFrame:cc.SpriteFrame,itemBSpriteFrame:cc.SpriteFrame,itemCSpriteFrame:cc.SpriteFrame,itemDSpriteFrame:cc.SpriteFrame,itemESpriteFrame:cc.SpriteFrame,itemFSpriteFrame:cc.SpriteFrame,itemGSpriteFrame:cc.SpriteFrame,item1Node:cc.Node,item3Node:cc.Node,item5Node:cc.Node},onLoad:function(){},init:function(t){switch(this.index=t,this.hideAll(),this.index){case"A":this.item3Node.active=!0,this.slotSprite.spriteFrame=this.itemASpriteFrame;break;case"B":this.item1Node.active=!0,this.slotSprite.spriteFrame=this.itemBSpriteFrame;break;case"C":this.slotSprite.node.active=!0,this.slotSprite.spriteFrame=this.itemCSpriteFrame;break;case"D":this.slotSprite.node.active=!0,this.slotSprite.spriteFrame=this.itemDSpriteFrame;break;case"E":this.slotSprite.node.active=!0,this.slotSprite.spriteFrame=this.itemESpriteFrame;break;case"F":this.slotSprite.node.active=!0,this.slotSprite.spriteFrame=this.itemFSpriteFrame;break;case"G":this.item5Node.active=!0,this.slotSprite.spriteFrame=this.itemGSpriteFrame}},show:function(){this.showEffect()},isBonus:function(){},getIndex:function(){return this.index},showEffect:function(){this.slotSprite.node.getComponent(cc.Animation).play()},hideEffect:function(){this.slotSprite.node.scale=1,this.slotSprite.node.skewX=0,this.slotSprite.node.skewY=0},showPoint:function(){},hidePoint:function(){},showBonus:function(){},hideBonus:function(){},reset:function(){this.hideEffect()},hideAll:function(){this.slotSprite.node.active=!1,this.item1Node.active=!1,this.item3Node.active=!1,this.item5Node.active=!1}}),cc._RF.pop()},{}],Slot4Label:[function(t,e,i){"use strict";cc._RF.push(e,"55b30GAWaVIJKuCgtgn3Mxe","Slot4Label");var n=t("../../util/FormatUtil"),o=t("../../prefab/mini-game/item/JackpotItem");cc.Class({extends:cc.Component,properties:{jackpotJackpotItem:o,spinIDLabel:cc.Label,totalBetLabel:cc.Label,betLabel:cc.Label,moneyLabel:cc.Label,lastMoneyWinLabel:cc.Label,numLineSelectedLabel:cc.Label,numberAutoSpinLabel:cc.Label,avatarSprite:cc.Sprite,nickNameLabel:cc.Label,vipSprite:cc.Sprite,vipProgressBar:cc.ProgressBar,listVipSprite:[cc.SpriteFrame]},init:function(t){this.Slot4=t,this.Slot4UI=t.Slot4UI},onLoad:function(){this.timeOutSpin=null,this.loadUserInfo()},loadUserInfo:function(){var t=this,e=this.Slot4.getUser();if(e){var i=e.nick_name,n=e.avatar;this.nickNameLabel.string=i,n&&cc.loader.load(n,function(e,i){if(i instanceof cc.Texture2D){var n=new cc.SpriteFrame(i,cc.Rect(0,0,90,128));t.avatarSprite.spriteFrame=n}})}},onDestroy:function(){clearTimeout(this.timeOutSpin)},initTotalNumberLine:function(t){var e=this.Slot4.getBet(),i=t*e;this.setBet(e),this.setTotalBet(i),this.setNumLineSelected(t)},handleSpin:function(t){this.setId(t.spin_id),this.timeOutSpin=setTimeout(function(){var e=t.win_prize;this.lastMoneyWinLabel.string=n.numberWithCommas(e)}.bind(this),3e3)},handleSpinDemo:function(t){this.setId(t.spin_id),this.timeOutSpin=setTimeout(function(){var e=t.win_prize;this.Slot4.getTestInfo().money+=e,this.lastMoneyWinLabel.string=n.numberWithCommas(e),this.setMoney(this.Slot4.getTestInfo().money)}.bind(this),3e3)},setId:function(t){this.spinIDLabel.string="#"+t},setLineSelected:function(t){this.numLineSelectedLabel.string=t},setJackpot:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];void 0!==t&&(t=parseInt(t),e?this.jackpotJackpotItem.setMoney(t):this.jackpotJackpotItem.setMoneyWithoutAnimation(t))},setBet:function(t){void 0!==t&&(t=parseInt(t),this.betLabel.string=n.numberWithCommas(t))},setTotalBet:function(t){t=parseInt(t),this.totalBetLabel.string=n.numberWithCommas(t)},setMoney:function(t){void 0!==t&&(t=parseInt(t),this.moneyLabel.string=n.numberWithCommas(t),this.initVip())},initVip:function(){var t=this.Slot4.getConfig().vip,e=this.Slot4.getVipPoint();if(t&&e){var i=e.value,n=this.getVipPointData(t,i);this.vipSprite.spriteFrame=n.sprite,this.vipProgressBar.progress=n.progress}},getVipPointData:function(t,e){for(var i=0,n=0,o=t.length;n<o;n++)t[n].from_money<=e&&(i=n);return{sprite:this.listVipSprite[i-1]||this.listVipSprite[0],progress:e/(i<t.length-1?t[i+1].from_money:t[i].from_money)}},setLastMoneyWin:function(t){void 0!==t&&(t=parseInt(t),this.lastMoneyWinLabel.string=n.numberWithCommas(t))},setNumberAutoSpin:function(t){this.numberAutoSpinLabel.string=t},setNumLineSelected:function(t){this.numLineSelectedLabel.string=t}}),cc._RF.pop()},{"../../prefab/mini-game/item/JackpotItem":"JackpotItem","../../util/FormatUtil":"FormatUtil"}],Slot4Lines:[function(t,e,i){"use strict";cc._RF.push(e,"a380fPEuSJE94v0fCc8jEmd","Slot4Lines");var n=t("./items/Slot4NumberLineItem"),o=t("../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{moneyNode:cc.Node,moneyLabel:cc.Label,listNumberLineItem:[n],listLine:[cc.Node]},init:function(t){for(var e in this.Slot4=t,this.Slot4=t.Slot4UI,this.listNumberLineItem)this.listNumberLineItem[e].init(t)},onLoad:function(){},showLines:function(t){if(this.reset(),t)for(var e in t){var i=t[e].line-1;this.listLine[i].active=!0,this.listNumberLineItem[i].showNumberLine()}},showLine:function(t){for(var e in this.listLine)parseInt(t)-1==e?(this.listLine[e].active=!0,this.listNumberLineItem[e].showNumberLine()):(this.listLine[e].active=!1,this.listNumberLineItem[e].hideNumberLine())},showMoney:function(t){this.moneyNode.active=!0,this.moneyLabel.string=o.numberWithCommas(t)},reset:function(){for(var t in this.listLine)this.listLine[t].active=!1;for(var e in this.listNumberLineItem)this.listNumberLineItem[e].hideNumberLine();this.moneyNode.active=!1}}),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil","./items/Slot4NumberLineItem":"Slot4NumberLineItem"}],Slot4MiniGameItem:[function(t,e,i){"use strict";cc._RF.push(e,"d993d1jcy1LMbgS7lcYF6tn","Slot4MiniGameItem");var n=t("../../util/BrowserUtil"),o=t("../../util/FormatUtil"),s=t("../../helper/Config");cc.Class({extends:cc.Component,properties:{defaultSpriteNode:cc.Node,openSpriteNode:cc.Node,moneyLabel:cc.Label,moneyNonSelectLabel:cc.Label},init:function(t){this.Slot4=t,this.Slot4UI=t.Slot4UI,this.Slot4Bonus=t.Slot4Bonus},onLoad:function(){var t=this;this.is_clicked=!1,this.is_open=!1,this.hideTimeout=null,this.onMouseEnter=function(){t.isOpen()||n.showCursorPointer()},this.onMouseLeave=function(){n.showCursorAuto()}},onEnable:function(){this.reset(),cc.sys.isBrowser&&this.addEventMouserHover()},onDisable:function(){cc.sys.isBrowser&&this.removeEventMouserHover()},addEventMouserHover:function(){this.node.on(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this.node),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this.node)},removeEventMouserHover:function(){this.node.off(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this.node),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this.node)},onClickIsAutoSpin:function(){this.isClicked()||(this.setClicked(!0),this.Slot4Bonus.openItemMiniGame(this))},onClick:function(){this.isClicked()||this.Slot4.Slot4State.isAutoSpin()||(this.setClicked(!0),this.Slot4Bonus.openItemMiniGame(this))},openItem:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setOpen(!0),this.setClicked(!0),clearTimeout(this.hideTimeout),this.hideTimeout=setTimeout(function(){this.showOpenItem(),e?(this.moneyLabel.node.active=!0,this.moneyLabel.string=o.numberWithCommas(t)):(this.moneyNonSelectLabel.node.active=!0,this.moneyNonSelectLabel.string=o.numberWithCommas(t))}.bind(this),500*s.SLOT3_TIME_OPEN_EGGE)},setClicked:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.is_clicked=t},isClicked:function(){return this.is_clicked},setOpen:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.is_open=t},isOpen:function(){return this.is_open},showOpenItem:function(){this.defaultSpriteNode.active=!1,this.openSpriteNode.active=!0},reset:function(){clearTimeout(this.hideTimeout),this.setClicked(!1),this.setOpen(!1),this.moneyLabel.node.active=!1,this.moneyNonSelectLabel.node.active=!1,this.openSpriteNode.active=!1,this.defaultSpriteNode.active=!0}}),cc._RF.pop()},{"../../helper/Config":"Config","../../util/BrowserUtil":"BrowserUtil","../../util/FormatUtil":"FormatUtil"}],Slot4NumberLineItem:[function(t,e,i){"use strict";cc._RF.push(e,"19523hwc2dPdpz8Knzl0LYI","Slot4NumberLineItem"),cc.Class({extends:cc.Component,properties:{numberLineLabel:cc.Label,bgSprite:cc.Sprite},init:function(t){this.SlotLines=t,this.line=this.numberLineLabel.string},onLoad:function(){this.hideNumberLine()},showNumberLine:function(){this.bgSprite.node.active=!0},hideNumberLine:function(){this.bgSprite.node.active=!1}}),cc._RF.pop()},{}],Slot4RankItem:[function(t,e,i){"use strict";cc._RF.push(e,"8f7b6OmQftHfpnMO/D4Rhhr","Slot4RankItem");var n=t("../../util/FormatUtil"),o=t("../../util/Util");cc.Class({extends:cc.Component,properties:{idLabel:cc.Label,timeLabel:cc.Label,prefixNickNameLabel:cc.Label,nickNameLabel:cc.Label,balanceLabel:cc.Label},onLoad:function(){},init:function(t,e){t&&(t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.idLabel.string=parseInt(e)+1,this.prefixNickNameLabel.string=o.getServerID(t.server_id),this.nickNameLabel.string=t.nick_name,this.balanceLabel.string=n.numberWithCommas(t.total_prize_value||t.total_prize_amount||t.win_prize),this.timeLabel.string=n.getDateByTimeStamp(t.created_at),this.prefixNickNameLabel.node.color=new cc.Color(255,173,0,255),this.nickNameLabel.node.color=new cc.Color(255,244,141,255))}}),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil","../../util/Util":"Util"}],Slot4Rank:[function(t,e,i){"use strict";cc._RF.push(e,"04d9eTdNG1H1J6N+6hk6Cuj","Slot4Rank");var n=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{rankContentScrollView:cc.ScrollView,rankItemPrefab:cc.Prefab},init:function(t){this.Slot4=t,this.Slot4UI=t.Slot4UI},onLoad:function(){},onEnable:function(){this.initFirst(),this.initRank()},initFirst:function(){if(!this.pool){this.pool=new cc.NodePool;for(var t=0;t<20;t++){var e=cc.instantiate(this.rankItemPrefab);this.pool.put(e)}this.listChild=[]}},initData:function(t){t&&(this.data=t)},initRank:function(){if(this.data){this.showListRankNode(),this.putAllChipToPool();for(var t=n.sortDataTimeByTime(this.data.list_player_jackpot),e=0,i=(t=n.filterSameItemSlot(t)).length;e<i;e++){var o=this.instanceItem(t[e],e);o.parent=this.rankContentScrollView.content,this.listChild.push(o)}}},instanceItem:function(t,e){var i=void 0;return this.pool&&(i=this.pool.get()),i||(i=cc.instantiate(this.rankItemPrefab)),i.getComponent("Slot4RankItem").init(t,e),i},putAllChipToPool:function(){if(this.pool){var t=this.rankContentScrollView.content.getChildren(),e=[];for(var i in t)e.push(t[i]);for(var n in e)this.pool.put(e[n])}},showListRankNode:function(){this.rankContentScrollView.node.active=!0}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil"}],Slot4Reels:[function(t,e,i){"use strict";cc._RF.push(e,"af944zUfZJEvo0YXxI96wzY","Slot4Reels");var n=t("../../util/FormatUtil"),o=t("./Slot4Reel"),s=t("./Slot4Constant");cc.Class({extends:cc.Component,properties:{slotReels:[o],itemPrefab:cc.Prefab,itemEffectNode:cc.Node,listItemEffectNode:cc.Node},init:function(t){for(var e in this.Slot4=t,this.Slot4UI=t.Slot4UI,this.Slot4Lines=t.Slot4Lines,this.Slot4SelectLine=t.Slot4SelectLine,this.Slot4Effect=t.Slot4Effect,this.slotReels)this.slotReels[e].init(t,e)},onLoad:function(){for(var t in this.intervalLines=null,this.slotReels)this.slotReels[t].randomItems()},onEnable:function(){},onDestroy:function(){clearInterval(this.intervalLines)},handleSpin:function(t){this.reset(),this.node.stopAllActions(!0);var e=t.display_slot_data,i=t.is_bonus,n=t.win_prize,o=t.is_free,s=t.list_line_prize,a=t.list_line_bonus,r=t.list_line_free,c=(t.list_bonus_prize,t.remain_free),h=t.win_type;this.listDataPrize=s.concat(a),this.listDataPrize=this.listDataPrize.concat(r),this.spinReels(e,h,n,i,o,c,t)},handleSpinDemo:function(t){this.reset(),this.node.stopAllActions(!0);var e=t.display_slot_data,i=t.is_bonus,n=t.win_prize,o=t.is_free,s=t.list_line_prize,a=t.list_line_bonus,r=t.list_line_free,c=t.remain_free,h=t.win_type;this.listDataPrize=s.concat(a),this.listDataPrize=this.listDataPrize.concat(r),this.spinReels(e,h,n,i,o,c,t)},spinReels:function(t,e,i,n,o,a,r){var c=this.getItemByCol(t,0),h=this.getItemByCol(t,1),l=this.getItemByCol(t,2),u=this.getItemByCol(t,3),d=this.getItemByCol(t,4);this.slotReels[0].spin(c,s.SLOT4_TOTAL_ITEM_IN_REEL),this.slotReels[1].spin(h,s.SLOT4_TOTAL_ITEM_IN_REEL+2),this.slotReels[2].spin(l,s.SLOT4_TOTAL_ITEM_IN_REEL+4),this.slotReels[3].spin(u,s.SLOT4_TOTAL_ITEM_IN_REEL+6),this.slotReels[4].spin(d,s.SLOT4_TOTAL_ITEM_IN_REEL+8,!0,e,i,n,o,a,r)},setItemListPrizeByIndex:function(t,e){this.listItemNodeSameDataDisplay||(this.listItemNodeSameDataDisplay=[]),this.listItemNodeSameDataDisplay[e]=t},showAllEffectItems:function(){if(this.listDataPrize){this.Slot4Lines.showLines(this.listDataPrize);for(var t=this.getIndexItemByLineId(this.listDataPrize),e=0,i=t.length;e<i;e++){var n=t[e]-1;this.showEffectItem(this.listItemNodeSameDataDisplay[n])}}},showEffectItem:function(t){var e=t.parent.convertToWorldSpace(t.getPosition()),i=this.listItemEffectNode.convertToNodeSpace(e),n=cc.instantiate(this.itemPrefab);n.getComponent("Slot4Item").init(t.getComponent("Slot4Item").getIndex()),n.getComponent("Slot4Item").showEffect(),n.setPosition(i),n.parent=this.listItemEffectNode,this.itemEffectNode.active=!0},showEffectLine:function(){clearInterval(this.intervalLines),this.Slot4.Slot4AutoSpinSetting.checkAutoSpin()||(this.currentLine=0,this.intervalLines=setInterval(function(){if(this.listItemNodeSameDataDisplay.length>0&&this.listDataPrize.length>0){this.hideAllEffectListItemSameDataDisplay();var t=this.listDataPrize[this.currentLine].line,e=this.listDataPrize[this.currentLine].prize;this.Slot4Lines.showLine(t),this.Slot4Lines.showMoney(e),this.showEffectItemSameDataDisplayBuyLine(t),this.currentLine++,this.currentLine===this.listDataPrize.length&&(this.currentLine=0)}}.bind(this),1200))},showEffectItemSameDataDisplayBuyLine:function(t){if(this.listItemNodeSameDataDisplay.length>0)for(var e=s.LIST_INDEX_NUMBER_IN_LINE[t-1],i=0,n=e.length;i<n;i++){var o=this.listItemNodeSameDataDisplay[e[i]-1];o&&o.getComponent("Slot4Item").showEffect()}},hideAllEffectListItemSameDataDisplay:function(){if(this.listItemNodeSameDataDisplay.length>0)for(var t=0,e=this.listItemNodeSameDataDisplay.length;t<e;t++){var i=this.listItemNodeSameDataDisplay[t];i&&i.getComponent("Slot4Item").hideEffect()}},getItemByCol:function(t,e){for(var i=[],n=0;n<s.SLOT4_NUMBER_ITEM_IN_REEL;n++){var o=this.slotReels.length*n+e;i.push(t[o])}return i},getIndexItemByLineId:function(t){var e=[];for(var i in t){var o=t[i].line-1,a=s.LIST_INDEX_NUMBER_IN_LINE[o];e=e.concat(a)}return n.deDuplicate(e)},hideEffectItem:function(){this.listItemEffectNode.removeAllChildren(!0),this.itemEffectNode.active=!1,this.Slot4Lines.reset()},reset:function(){this.listItemNodeSameDataDisplay=[],this.hideEffectItem(),clearTimeout(this.timeOutLines),clearInterval(this.intervalLines)}}),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil","./Slot4Constant":"Slot4Constant","./Slot4Reel":"Slot4Reel"}],Slot4Reel:[function(t,e,i){"use strict";cc._RF.push(e,"8fee6pSU6ZILoMa+0kS56N3","Slot4Reel");var n=t("../../util/RandomUtil"),o=(t("../../helper/Config"),t("./Slot4Constant"));cc.Class({extends:cc.Component,properties:{itemPrefab:cc.Prefab},init:function(t,e){this.Slot4=t,this.Slot4UI=t.Slot4UI,this.Slot4Reels=t.Slot4Reels,this.Slot4Lines=t.Slot4Lines,this.Slot4Effect=t.Slot4Effect,this.indexNumberReel=parseInt(e)},onLoad:function(){this.listSlotItem=[],this.pool=new cc.NodePool;for(var t=0;t<this.numberItems;t++){var e=cc.instantiate(this.itemPrefab);this.pool.put(e)}this.items||(this.items=[])},spin:function(t,e,i,n,s,a,r,c,h){this.reset(),this.setItems(this.items),this.items=t;for(var l=1;l<e;l++){var u=this.getRandomItem(),d=this.indexNumberReel;l===e-1&&(u=t[0],d=this.indexNumberReel),l===e-2&&(u=t[1],d=this.indexNumberReel+5),l===e-3&&(u=t[2],d=this.indexNumberReel+10);var m=this.instanceItem(u);m.setPosition(0,(l+1)*o.SLOT4_DISTANCE_TWO_ITEMS),m.parent=this.node,l!==e-1&&l!==e-2&&l!==e-3||this.Slot4Reels.setItemListPrizeByIndex(m,d)}var p=(e-1)*o.SLOT4_DISTANCE_TWO_ITEMS,f=p/o.SLOT4_SPEED_SPIN_CARD,_=cc.moveTo(f,this.node.x,-p).easing(cc.easeElasticInOut(1.5)),S=cc.callFunc(function(){i&&(this.Slot4.Slot4State.isAutoSpin()||this.Slot4.Slot4State.setFinish(),this.Slot4Reels.showAllEffectItems(),this.showEffectPrize(n,a,r,c,s,h))},this),g=cc.delayTime(.2);this.node.runAction(cc.sequence(_,g,S))},showEffectPrize:function(t,e,i,n,s,a){switch(t){case o.WIN_TYPE_NORMAL:case o.WIN_TYPE_BIG_WIN:this.Slot4.Slot4Effect.showWinNormal(s);break;case o.WIN_TYPE_SUPER_BIG_WIN:this.Slot4.Slot4Effect.showBigWin(s);break;case o.WIN_TYPE_JACKPOT:this.Slot4.Slot4Effect.showJackpot(s)}var r=this.getTimeEffect(t);t!==o.WIN_TYPE_ZERO?(clearTimeout(this.timeOutResult),this.timeOutResult=setTimeout(function(){this.Slot4.Slot4Effect.hideAll(),this.Slot4.Slot4AutoSpinSetting.checkAutoSpin()&&!e?this.Slot4UI.showSpinDisableButton():this.Slot4UI.showSpinButton(),i?((this.isNewSpinFree()||n>=this.getNumberSpinFree())&&this.Slot4.Slot4Effect.showFreeSpin(),this.setSpinFree(!0),this.setNumberSpinFree(n)):(this.setSpinFree(!1),this.setNumberSpinFree(0)),e?this.Slot4Effect.showBonus(a):this.Slot4.Slot4AutoSpinSetting.checkAutoSpin()?(this.Slot4.Slot4Effect.hideAll(),this.Slot4.spin()):(this.Slot4.Slot4State.setStop(),i&&(this.Slot4UI.showSpinFreeButton(n),clearTimeout(this.timeOutFreeSpin),this.timeOutFreeSpin=setTimeout(function(){this.Slot4.Slot4Effect.hideAll(),this.Slot4.spin()}.bind(this),2e3))),this.Slot4Reels.showEffectLine()}.bind(this),r)):(e&&this.Slot4Effect.showBonus(a),i&&(this.isNewSpinFree()||n>=this.getNumberSpinFree())&&this.Slot4.Slot4Effect.showFreeSpin(),e||i?(clearTimeout(this.timeOutResult),this.timeOutResult=setTimeout(function(){this.Slot4.Slot4Effect.hideAll(),i?(this.Slot4.spin(),this.setSpinFree(!0),this.setNumberSpinFree(n)):(this.setSpinFree(!1),this.setNumberSpinFree(0),this.Slot4.Slot4AutoSpinSetting.checkAutoSpin()?e||this.Slot4.spin():this.Slot4.Slot4State.setStop())}.bind(this),3e3)):(this.setSpinFree(!1),this.setNumberSpinFree(0),this.Slot4.Slot4Effect.hideAll(),this.Slot4.Slot4AutoSpinSetting.checkAutoSpin()?(clearTimeout(this.timeOutResult),this.timeOutResult=setTimeout(function(){this.Slot4.spin()}.bind(this),1e3)):this.Slot4.Slot4State.setStop()))},isNewSpinFree:function(){return!this.isFree},setSpinFree:function(t){this.isFree=t},setNumberSpinFree:function(t){this.numberFree=t},getNumberSpinFree:function(){return this.numberFree},randomItems:function(){for(var t=[],e=0;e<o.SLOT4_NUMBER_ITEM_IN_REEL;e++){var i=this.getRandomItem();t.push(i)}this.reset(),this.setItems(t)},getRandomItem:function(){var t=n.getRandomInt(0,o.SLOT4_LIST_ICON.length-1);return o.SLOT4_LIST_ICON[t]},setItems:function(t){if(t){this.putAllChipToPool(),this.node.setPosition(this.node.x,0),this.items=t;for(var e=0;e<t.length;e++){var i=this.instanceItem(t[e]);i.setPosition(0,(1-e)*o.SLOT4_DISTANCE_TWO_ITEMS),i.parent=this.node}}},instanceItem:function(t){var e=void 0;return this.pool&&(e=this.pool.get()),e||(e=cc.instantiate(this.itemPrefab)),e.getComponent("Slot4Item").reset(),e.getComponent("Slot4Item").init(t),e},putAllChipToPool:function(){if(this.pool){var t=this.node.getChildren(),e=[];for(var i in t)e.push(t[i]);for(var n in e)this.pool.put(e[n])}},getTimeEffect:function(t){return t===o.WIN_TYPE_NORMAL||t===o.WIN_TYPE_ZERO||t===o.WIN_TYPE_BIG_WIN?1e3*o.TIME_SHOW_WIN_NORMAL:t===o.WIN_TYPE_SUPER_BIG_WIN?1e3*o.TIME_SHOW_BIGWIN:t===o.WIN_TYPE_JACKPOT?1e3*o.TIME_SHOW_JACKPOT:1e3*o.TIME_SHOW_WIN_NORMAL},reset:function(){this.node.stopAllActions(!0),this.node.setPosition(this.node.x,0),this.putAllChipToPool(),clearTimeout(this.timeOutResult),clearTimeout(this.timeOutFreeSpin)}}),cc._RF.pop()},{"../../helper/Config":"Config","../../util/RandomUtil":"RandomUtil","./Slot4Constant":"Slot4Constant"}],Slot4SelectLine:[function(t,e,i){"use strict";cc._RF.push(e,"90e9eoEnktKqIrjlyRvN8Qk","Slot4SelectLine");var n=t("../items/Slot4SelectNumberLineItem"),o=t("../../../helper/Message");cc.Class({extends:cc.Component,properties:{evenOnButtonNode:cc.Node,evenOffButtonNode:cc.Node,oddOnButtonNode:cc.Node,oddOffButtonNode:cc.Node,allOnButtonNode:cc.Node,allOffButtonNode:cc.Node,cancelOnButttonNode:cc.Node,cancelOffButtonNode:cc.Node,listSelectNumLineItem:[n]},init:function(t){for(var e in this.Slot4=t,this.Slot4UI=t.Slot4UI,this.Slot4Label=t.Slot4Label,this.Slot4Lines=t.Slot4Lines,this.listSelectNumLineItem)this.listSelectNumLineItem[e].init(t)},onLoad:function(){this.totalLineSelected=0},itemIsSelected:function(){this.totalLineSelected=this.getLineSelected().length,0===this.totalLineSelected?(this.cancelOnButttonNode.active=!1,this.cancelOffButtonNode.active=!0):(20===this.totalLineSelected&&(this.allOnButtonNode.active=!0,this.allOffButtonNode.active=!1),this.cancelOnButttonNode.active=!0,this.cancelOffButtonNode.active=!1),this.Slot4Label.initTotalNumberLine(this.totalLineSelected)},getNumberLineSelected:function(){return this.getLineSelected().length},getLineSelected:function(){for(var t=[],e=0,i=this.listSelectNumLineItem.length;e<i;e++)this.listSelectNumLineItem[e].getSelected()&&t.push(e+1);return t},showNumberLines:function(t){this.Slot4Lines.showNumberLines(t)},showLines:function(t){this.Slot4Lines.showLines(t)},showLine:function(t){this.Slot4Lines.showLine(t)},showEffect:function(t){this.reset(),this.listSelectNumLineItem[t-1].showEffect()},showEffects:function(t){if(t)for(var e in t){var i=t[e].line_id-1;this.listSelectNumLineItem[i].showEffect(),this.listSelectNumLineItem[i].showEffect()}},setLineItemUnSelected:function(){this.allOnButtonNode.active=!1,this.allOffButtonNode.active=!0},onEvenOnClick:function(){if(this.Slot4.Audio.playClick(),!this.Slot4.isCanChangeBet()||this.Slot4.isFreeSpin()||this.Slot4.isBonus()||this.Slot4.isTest())this.Slot4.showToast(o.SLOT_NOT_CHANGE_BET);else{for(var t=1,e=this.listSelectNumLineItem.length;t<e;t+=2)this.listSelectNumLineItem[t].unSelect();this.evenOnButtonNode.active=!1,this.evenOffButtonNode.active=!0,this.allOnButtonNode.active=!1,this.allOffButtonNode.active=!0}},onEvenOffClick:function(){if(this.Slot4.Audio.playClick(),!this.Slot4.isCanChangeBet()||this.Slot4.isFreeSpin()||this.Slot4.isBonus()||this.Slot4.isTest())this.Slot4.showToast(o.SLOT_NOT_CHANGE_BET);else{for(var t=1,e=this.listSelectNumLineItem.length;t<e;t+=2)this.listSelectNumLineItem[t].select();this.evenOnButtonNode.active=!0,this.evenOffButtonNode.active=!1}},onOddOnClick:function(){if(this.Slot4.Audio.playClick(),!this.Slot4.isCanChangeBet()||this.Slot4.isFreeSpin()||this.Slot4.isBonus()||this.Slot4.isTest())this.Slot4.showToast(o.SLOT_NOT_CHANGE_BET);else{for(var t=0,e=this.listSelectNumLineItem.length;t<e;t+=2)this.listSelectNumLineItem[t].unSelect();this.oddOnButtonNode.active=!1,this.oddOffButtonNode.active=!0}},onOddOffClick:function(){if(this.Slot4.Audio.playClick(),!this.Slot4.isCanChangeBet()||this.Slot4.isFreeSpin()||this.Slot4.isBonus()||this.Slot4.isTest())this.Slot4.showToast(o.SLOT_NOT_CHANGE_BET);else{for(var t=0,e=this.listSelectNumLineItem.length;t<e;t+=2)this.listSelectNumLineItem[t].select();this.oddOnButtonNode.active=!0,this.oddOffButtonNode.active=!1}},onAllOnClick:function(){if(this.Slot4.Audio.playClick(),!this.Slot4.isCanChangeBet()||this.Slot4.isFreeSpin()||this.Slot4.isBonus()||this.Slot4.isTest())this.Slot4.showToast(o.SLOT_NOT_CHANGE_BET);else{for(var t=0,e=this.listSelectNumLineItem.length;t<e;t++)this.listSelectNumLineItem[t].unSelect();this.evenOnButtonNode.active=!1,this.oddOnButtonNode.active=!1,this.allOnButtonNode.active=!1,this.cancelOnButttonNode.active=!1,this.evenOffButtonNode.active=!0,this.oddOffButtonNode.active=!0,this.allOffButtonNode.active=!0,this.cancelOffButtonNode.active=!0}},onAllOffClick:function(){this.Slot4.Audio.playClick(),!this.Slot4.isCanChangeBet()||this.Slot4.isFreeSpin()||this.Slot4.isBonus()||this.Slot4.isTest()?this.Slot4.showToast(o.SLOT_NOT_CHANGE_BET):this.selectAllItem()},onCancelOnClick:function(){this.onAllOnClick()},selectAllItem:function(){for(var t=0,e=this.listSelectNumLineItem.length;t<e;t++)this.listSelectNumLineItem[t].select();this.evenOnButtonNode.active=!0,this.oddOnButtonNode.active=!0,this.allOnButtonNode.active=!0,this.cancelOnButttonNode.active=!0,this.evenOffButtonNode.active=!1,this.oddOffButtonNode.active=!1,this.allOffButtonNode.active=!1,this.evenOffButtonNode.active=!1},hideAllButton:function(){this.is_selectAllEvent=this.evenOnButtonNode.active,this.is_selectAllOdd=this.oddOnButtonNode.active,this.is_selectAll=this.allOnButtonNode.active,this.is_unSelectAll=this.cancelOnButttonNode.active,this.evenOnButtonNode.active=!1,this.oddOnButtonNode.active=!1,this.allOnButtonNode.active=!1,this.cancelOnButttonNode.active=!1,this.evenOffButtonNode.active=!0,this.oddOffButtonNode.active=!0,this.allOffButtonNode.active=!0,this.cancelOffButtonNode.active=!0},showAllButton:function(){this.is_selectAllEvent?(this.evenOnButtonNode.active=!0,this.evenOffButtonNode.active=!1):(this.evenOnButtonNode.active=!1,this.evenOffButtonNode.active=!0),this.is_selectAllOdd?(this.oddOnButtonNode.active=!0,this.oddOffButtonNode.active=!1):(this.oddOnButtonNode.active=!1,this.oddOffButtonNode.active=!0),this.is_selectAll?(this.allOnButtonNode.active=!0,this.allOffButtonNode.active=!1):(this.allOnButtonNode.active=!1,this.allOffButtonNode.active=!0),this.is_unSelectAll?(this.cancelOnButttonNode.active=!0,this.cancelOffButtonNode.active=!1):(this.cancelOnButttonNode.active=!1,this.cancelOffButtonNode.active=!0)},reset:function(){for(var t in this.listSelectNumLineItem)this.listSelectNumLineItem[t].reset()}}),cc._RF.pop()},{"../../../helper/Message":"Message","../items/Slot4SelectNumberLineItem":"Slot4SelectNumberLineItem"}],Slot4SelectNumberLineItem:[function(t,e,i){"use strict";cc._RF.push(e,"49d8dBk/aBE5r77/Zdu3bCI","Slot4SelectNumberLineItem"),cc.Class({extends:cc.Component,properties:{line:0,onSelectButtonNode:cc.Node,offSelectButtonNode:cc.Node},init:function(t){this.Slot4=t,this.Slot4SelectLine=t.Slot4SelectLine},onLoad:function(){var t=this;this.selected=this.onSelectButtonNode.active,this.onMouseEnter=function(){t.Slot4SelectLine.showLine(t.line)},this.onMouseLeave=function(){t.Slot4SelectLine.showLine(0)},cc.sys.isBrowser&&(this.offSelectButtonNode.on(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this.node),this.offSelectButtonNode.on(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this.node))},onClick:function(){this.Slot4.Audio.playClick(),this.selected?this.unSelect():this.select()},select:function(){this.setSelected(!0),this.Slot4SelectLine.itemIsSelected(),this.showSelect()},unSelect:function(){this.setSelected(!1),this.Slot4SelectLine.setLineItemUnSelected(),this.Slot4SelectLine.itemIsSelected(),this.showUnSelect()},showSelect:function(){this.onSelectButtonNode.active=!0,this.offSelectButtonNode.active=!1},showUnSelect:function(){this.offSelectButtonNode.active=!0,this.onSelectButtonNode.active=!1},showEffect:function(){},setSelected:function(t){this.selected=t},getSelected:function(){return this.selected},reset:function(){this.getSelected()?this.showSelect():this.showUnSelect()}}),cc._RF.pop()},{}],Slot4State:[function(t,e,i){"use strict";cc._RF.push(e,"dca9aCPompAvI5xJ4LyD6P9","Slot4State");e.exports={currentState:"",STOP:"STOP",SPINNING:"SPINNING",FINISH:"SPINNING",AUTO_SPIN:"AUTO_SPIN",init:function(t){this.Slot4=t,this.Slot4UI=t.Slot4UI,this.Slot4SelectLine=t.Slot4SelectLine},setStop:function(){this.currentState=this.STOP,this.Slot4.isFreeSpin()&&!this.Slot4.isTest()?this.Slot4UI.showSpinFreeButton():this.Slot4UI.showSpinButton(),this.Slot4UI.showAutoSpinButton(),this.Slot4SelectLine.showAllButton(),this.reset()},setSpinning:function(){this.currentState=this.SPINNING,this.Slot4.isFreeSpin()&&!this.Slot4.isTest()?this.Slot4UI.showSpinFreeButton():this.Slot4UI.showSpinDisableButton(),this.Slot4UI.showAutoSpinDisableButton(),this.Slot4SelectLine.hideAllButton(),this.reset()},setFinish:function(){this.currentState=this.FINISH,this.Slot4.isFreeSpin()&&!this.Slot4.isTest()?this.Slot4UI.showSpinFreeButton():this.Slot4UI.showSpinDisableButton(),this.Slot4UI.showAutoSpinDisableButton(),this.Slot4SelectLine.showAllButton(),this.reset()},setAutoSpin:function(){this.currentState=this.AUTO_SPIN,this.Slot4.isFreeSpin()&&!this.Slot4.isTest()?this.Slot4UI.showSpinFreeButton():this.Slot4UI.showSpinDisableButton(),this.Slot4UI.showStopAutoSpinButton(),this.Slot4SelectLine.hideAllButton(),this.reset()},reset:function(){this.Slot4.Slot4Reels.hideEffectItem(),this.Slot4.Slot4Label.setNumberAutoSpin(0)},isAutoSpin:function(){return this.currentState===this.AUTO_SPIN},isStop:function(){return this.currentState===this.STOP}},cc._RF.pop()},{}],Slot4UI:[function(t,e,i){"use strict";var n;function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}cc._RF.push(e,"dbdcfsO4ohFIItczU1Db+4L","Slot4UI");var s=t("../../util/FormatUtil");cc.Class((o(n={extends:cc.Component,properties:{gameNode:cc.Node,gameBonusNode:cc.Node,spinFreeLabel:cc.Label,spinButtonNode:cc.Node,spinFreeButtonNode:cc.Node,autoSpinButtonNode:cc.Node,stopAutoSpinButtonNode:cc.Node,spinButtonDisableNode:cc.Node,autoSpinButtonDisableNode:cc.Node,playButtonNode:cc.Node,testButtonNode:cc.Node,jackpotNode:cc.Node,autoSpinSettingFormNode:cc.Node,bonusResultFormNode:cc.Node,slot4FormNode:cc.Node,selectLineFormNode:cc.Node,prizeFormNode:cc.Node,dialogMessageFormNode:cc.Node,processingNode:cc.Node},init:function(t){this.Slot4=t},onLoad:function(){this.dialogFormAutoSpinSetting=this.autoSpinSettingFormNode.getComponent("DialogForm"),this.dialogFormBonus=this.bonusResultFormNode.getComponent("DialogForm"),this.dialogMessageForm=this.dialogMessageFormNode.getComponent("DialogMessage"),this.dialogFormRankHistory=this.slot4FormNode.getComponent("DialogForm"),this.dialogFormPrize=this.prizeFormNode.getComponent("DialogForm"),this.dialogFormSelectLine=this.selectLineFormNode.getComponent("DialogForm")},showContentGame:function(){this.hideAllContent(),this.gameNode.active=!0},showBonus:function(){this.hideAllContent(),this.gameBonusNode.active=!0},showSpinButton:function(){this.spinButtonNode.active=!0,this.spinFreeButtonNode.active=!1,this.spinButtonDisableNode.active=!1},showSpinDisableButton:function(){this.spinButtonNode.active=!1,this.spinFreeButtonNode.active=!1,this.spinButtonDisableNode.active=!0},showSpinFreeButton:function(t){t<0&&(t=0),this.spinButtonNode.active=!1,this.spinFreeButtonNode.active=!0,this.spinButtonDisableNode.active=!1,void 0!==t&&(this.spinFreeLabel.string=s.numberWithCommas(t))},showAutoSpinButton:function(){this.autoSpinButtonNode.active=!0,this.autoSpinButtonDisableNode.active=!1,this.stopAutoSpinButtonNode.active=!1},showAutoSpinDisableButton:function(){this.autoSpinButtonNode.active=!1,this.autoSpinButtonDisableNode.active=!0,this.stopAutoSpinButtonNode.active=!1},showStopAutoSpinButton:function(){this.autoSpinButtonNode.active=!1,this.autoSpinButtonDisableNode.active=!0,this.stopAutoSpinButtonNode.active=!0},showBonusResultForm:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormBonus.showDialog(t)},hideBonusResultForm:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormBonus.hideDialog(t)},showAutoSpinSettingFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormAutoSpinSetting.showDialog(t)},hideAutoSpinSettingFormNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormAutoSpinSetting.hideDialog(t)}},"showStopAutoSpinButton",function(){this.autoSpinButtonNode.active=!1,this.autoSpinButtonDisableNode.active=!1,this.stopAutoSpinButtonNode.active=!0}),o(n,"showSelectLineFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormSelectLine.showDialog(t)}),o(n,"showX",function(){this.xPrizeNode.active=!0}),o(n,"hideX",function(){this.xPrizeNode.active=!1}),o(n,"showJackpot",function(){this.jackpotNode.active=!0}),o(n,"hideJackpot",function(){this.jackpotNode.active=!1}),o(n,"showPlayButton",function(){this.playButtonNode.active=!0,this.testButtonNode.active=!1}),o(n,"showTestButton",function(){this.playButtonNode.active=!1,this.testButtonNode.active=!0}),o(n,"hideAllContent",function(){this.gameNode.active=!1,this.gameBonusNode.active=!1}),o(n,"showDialogMessage",function(t,e){this.dialogMessageForm.setMessage(t,e),this.dialogMessageForm.showDialog()}),o(n,"showRankHistoryFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormRankHistory.showDialog(t)}),o(n,"hideRankHistoryFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormRankHistory.hideDialog(t)}),o(n,"showHistoryFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormHistory.showDialog(t)}),o(n,"hideHistoryFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormHistory.hideDialog(t)}),o(n,"showPrizeFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormPrize.showDialog(t)}),o(n,"hidePrizeFormNode",function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dialogFormPrize.hideDialog(t)}),o(n,"hideDialogMessage",function(){this.dialogMessageForm.hideDialog()}),o(n,"showProcessingNode",function(){this.processingNode.active=!0}),o(n,"hideProcessingNode",function(){this.processingNode.active=!1}),n)),cc._RF.pop()},{"../../util/FormatUtil":"FormatUtil"}],Slot4X:[function(t,e,i){"use strict";cc._RF.push(e,"13c50+JtJFAEJLw7gENE6om","Slot4X"),cc.Class({extends:cc.Component,properties:{xPrizeLabel:cc.Label},init:function(t){this.Slot4=t},onLoad:function(){this.xPrize=1},setXPrize:function(t){this.xPrize=t,this.xPrizeLabel.string="x"+t},getXPrize:function(){return this.xPrize}}),cc._RF.pop()},{}],Slot4:[function(t,e,i){"use strict";cc._RF.push(e,"fe842NFkqFCuZtjWPm7FFfq","Slot4");var n=t("../../base/BaseScene"),o=t("../../helper/Constant"),s=t("../../helper/Message"),a=t("./Slot4UI"),r=t("./Slot4Header"),c=t("./Slot4Control"),h=t("./Slot4Label"),l=t("./Slot4Reels"),u=t("./Slot4Lines"),d=t("./Slot4Effect"),m=t("./Slot4Bonus"),p=t("./Slot4Constant"),f=t("./Slot4State"),_=t("./Slot4HandlerRequest"),S=t("./form/Slot4AutoSpinSetting"),g=t("./form/Slot4BonusResult"),N=t("./form/Slot4Form"),I=t("./form/Slot4SelectLine"),C=t("../../object/JackpotX"),E=t("../../prefab/Toast"),T=t("../../ui/dialog/DialogMessage"),v=t("../../ui/Processing"),L=t("../../object/Audio"),R=t("../../object/Music");cc.Class({extends:n,properties:{questNotificationItemPrefab:cc.Prefab,Slot4UI:a,Slot4Header:r,Slot4Control:c,Slot4Label:h,Slot4SelectLine:I,Slot4Reels:l,Slot4Effect:d,Slot4Lines:u,Slot4Bonus:m,Slot4Form:N,Slot4AutoSpinSetting:S,Slot4BonusResult:g,JackpotX:C,Toast:E,DialogMessage:T,Processing:v,Audio:L,Music:R},onLoad:function(){this._super(),this.setSceneName(o.SCENE_GAME_SLOT_4),this.setSceneGameSlot(!0),this.sfsManager.setController(this),this.isAddEvent=!1,this.Slot4State=f,this.Slot4HandlerRequest=_,this.Slot4State.init(this),this.Slot4HandlerRequest.init(this),this.Slot4UI.init(this),this.Slot4Header.init(this),this.Slot4Control.init(this),this.Slot4Label.init(this),this.Slot4SelectLine.init(this),this.Slot4Reels.init(this),this.Slot4Effect.init(this),this.Slot4Lines.init(this),this.Slot4Bonus.init(this),this.Slot4Form.init(this),this.Slot4AutoSpinSetting.init(this),this.Slot4BonusResult.init(this),this.updateMoneyGold(),this.Slot4State.setStop(),this.initTestInfo(),this.onResponseBind=this.Slot4HandlerRequest.onResponse.bind(this.Slot4HandlerRequest),this.onUserVariablesUpdateBind=this.Slot4HandlerRequest.onUserVariablesUpdate.bind(this.Slot4HandlerRequest),this.sfsManager.removeEventResponse(),this.addEventResponse()},start:function(){this.initRoomInfo(),this.initDataBet(),this.Slot4SelectLine.selectAllItem(),this.Slot4UI.showContentGame(),this.Slot4Form.Slot4Rank.initData(this.dataRank)},onDestroy:function(){this.removeEventResponse()},addEventResponse:function(){this.sfs&&this.sfs.isConnected()&&!this.isAddEvent&&(this.sfs.addEventListener(this.SFS2X.SFSEvent.EXTENSION_RESPONSE,this.onResponseBind),this.sfs.addEventListener(this.SFS2X.SFSEvent.USER_VARIABLES_UPDATE,this.onUserVariablesUpdateBind),this.isAddEvent=!0)},removeEventResponse:function(){this.sfs&&this.sfs.isConnected()&&(this.sfs.removeEventListener(this.SFS2X.SFSEvent.EXTENSION_RESPONSE,this.onResponseBind),this.sfs.removeEventListener(this.SFS2X.SFSEvent.USER_VARIABLES_UPDATE,this.onUserVariablesUpdateBind),this.isAddEvent=!1)},initRoomInfo:function(){var t=this.getRoomInfo();this.info=t.data.info,this.dataRank={},t.data.list_player_jackpot&&(this.dataRank.list_player_jackpot=t.data.list_player_jackpot),t.data.list_player_bigwin&&(this.dataRank.list_player_bigwin=t.data.list_player_bigwin)},initTestInfo:function(){this.testInfo={current_step:0,max_spin_extra_step:10,is_extra:!1,jackpot:88e6,money_type:0,spin_fee:1e4,total_score:0,x_prize:1,money:1e7}},handleJackpot:function(t){var e=0,i=1;for(var n in this.info){var o=void 0;switch(this.info[n].spin_fee){case 100:this.info[n].jackpot=t.data[0],(o=t.data[3])&&(this.info[n].x_jackpot=o[0]);break;case 1e3:this.info[n].jackpot=t.data[1],o=t.data[3],t.data[3]&&(this.info[n].x_jackpot=o[1]);break;case 1e4:this.info[n].jackpot=t.data[2],(o=t.data[3])&&(this.info[n].x_jackpot=o[2])}this.info[n].spin_fee===this.bet&&(e=this.info[n].jackpot,i=this.info[n].x_jackpot)}this.isTest()||(this.Slot4Label.setJackpot(e,!0),this.JackpotX.showSlotX(i))},handleSpin:function(t){var e=t.data;this.is_spin=!1,this.Slot4State.isAutoSpin()||this.Slot4State.setSpinning(),this.initInfo(e),this.Slot4AutoSpinSetting.handleSpin(e),this.Slot4Label.handleSpin(e),this.Slot4Reels.handleSpin(e),this.Slot4Form.Slot4History.handleSpin(e)},initInfo:function(t){var e=this.getInfo();e.win_prize=t.win_prize,e.is_free=t.is_free,e.is_bonus=t.is_bonus,e.x_amount=t.x_amount,e.remain_spin_free>0&&e.remain_spin_free--},handleSpinDemo:function(t){var e=t.data;this.is_spin=!1,e.win_type===p.WIN_TYPE_JACKPOT&&(e.win_prize=this.getTestInfo().jackpot),this.initInfoTest(e),this.Slot4State.setSpinning(),this.Slot4Label.handleSpinDemo(e),this.Slot4Reels.handleSpinDemo(e)},initInfoTest:function(t){this.getTestInfo().is_free=t.is_free},handleSpinFail:function(t){this.is_spin=!1,this.showToast(t.msg),this.Slot4State.setStop(),this.Slot4AutoSpinSetting.stopAutoSpin()},handleAchivementedQuest:function(t){this.showNotificationMessage(t.msg)},handlePlusLuckyWheelFree:function(t){var e=t.data.amount;this.MiniGame.LuckyWheel.addLuckyWheelFree(e),this.showNotificationMessage(t.msg)},handleAlert:function(t){this.showNotificationMessage(t.msg)},handleGetTop:function(t){},handleNewMessage:function(t){this.showNotificationMessage(s.MAIL_NOTIFICATION)},showNotificationMessage:function(t){var e=cc.instantiate(this.questNotificationItemPrefab);e.getComponent("QuestNotificationItem").setMessage(t),e.parent=this.node},handleRechargeGold:function(t){this.hideProcessingNode(),this.showDialogMessage(s.RECHARGE_GOLD_TITLE,t.msg),this.Recharge.RechargeGoldForm.clear()},handleUpdateBigwin:function(t){var e=t.data;this.dataRank||(this.dataRank={}),this.dataRank.list_player_bigwin=e.list_player_bigwin,this.dataRank.list_player_jackpot=e.list_player_jackpot,this.Slot4Form.Slot4Rank.initData(this.dataRank)},handleGetChat:function(t){if(t.status){var e=t.data.chat;this.Slot4Chat.initChat(e)}else this.showToast(t.msg)},handleSendChat:function(t){if(t.status){var e=t.data;this.Slot4Chat.addChat(e)}else this.Slot4Chat.addChatFail(t.msg)},initDataBet:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;this.setIsTest(!1),this.setBet(t)},initDataTest:function(){this.setIsTest(!0),this.bet=this.testInfo.spin_fee,this.initTestData(),this.Slot4Reels.reset(),this.Slot4SelectLine.selectAllItem()},initTestData:function(){this.Slot4Label.setBet(this.bet),this.initBetData(this.testInfo),this.Slot4Label.setMoney(this.testInfo.money),this.Slot4Label.setLastMoneyWin(0)},onBackClick:function(){this.showProcessingNode(),this.sendRequest.sendNoPrefixToZone(o.REQUEST_OUT_LOBBY_GAME)},onRechargeClick:function(){this.Audio.playClick(),this.Slot4UI.showRechargeFormNode()},spin:function(){if(this.line_player_choose=this.Slot4SelectLine.getLineSelected(),this.line_player_choose.length>0){if(!this.is_spin){var t={money_type:0,money_value:this.bet,line_player_choose:this.line_player_choose};if(this.isTest()){this.sendRequest.send(p.SPIN_DEMO,t);var e=this.getTestInfo();e.is_free||(e.money-=2e5,this.Slot4Label.setMoney(e.money))}else this.sendRequest.send(p.SPIN,t);this.is_spin=!0}}else this.showToast(s.SLOT3_NOT_SELECT_LINE),this.Slot4State.setStop(),this.Slot4AutoSpinSetting.stopAutoSpin(),this.Slot4AutoSpinSetting.onResetClick()},updateMoneyGold:function(){this.isTest()||this.Slot4Label.setMoney(this.getMoney())},setBet:function(t){this.bet=t;var e=this.getInfo();if(this.initBetData(e),this.Slot4Label.setMoney(this.getMoney()),this.Slot4Label.setBet(t),e){var i=e.x_jackpot?e.x_jackpot:1;this.JackpotX.showSlotX(i)}},initBetData:function(t){if(t){var e=t.jackpot,i=t.is_free||t.remain_spin_free,n=this.Slot4SelectLine.getLineSelected().length;this.Slot4Label.setJackpot(e,!1),this.Slot4Label.initTotalNumberLine(n),i?this.Slot4UI.showSpinFreeButton(i):this.Slot4UI.showSpinButton()}},getBet:function(){return this.bet},isAutoSpin:function(){return this.Slot4State.isAutoSpin()},isFreeSpin:function(){return!!this.getInfo()&&this.getInfo().is_free},isBonus:function(){return this.Slot4Bonus.node.active},getInfo:function(){for(var t in this.info)if(this.info[t].spin_fee==this.bet)return this.info[t];return null},getTestInfo:function(){return this.testInfo},isTest:function(){return this.istest},setFistBet:function(t){this.firstBet=t},getFistBet:function(t){this.firstBet=t},setIsTest:function(t){this.istest=t},isCanChangeBet:function(){return this.Slot4State.isStop()},getTotalBet:function(){return this.bet*this.line_player_choose.length},showBonusResult:function(t){this.Slot4UI.showBonusResultForm(),this.Slot4BonusResult.setMoney(t)},hideBonusResult:function(){this.Slot4UI.hideBonusResultForm()},showToast:function(t){this.Toast.showToast(t)},showDialogMessage:function(t,e){this.Slot4UI.showDialogMessage(t,e)},hideDialogMessage:function(){this.Slot4UI.hideDialogMessage()},showProcessingNode:function(){this.Slot4UI.showProcessingNode()},hideProcessingNode:function(){this.Slot4UI.hideProcessingNode()},clearTimeoutProcessingNode:function(){this.Processing.clearTimeout()},dataTestBonus:function(){var t={bonus_prize:5200,display_slot_data:["E","A","F","D","A","F","D","A","F","D","F","C","B","E","C"],is_bonus:!0,is_free:!1,is_jackpot:!1,list_bonus_prize:[]};return t.list_bonus_prize[0]={line:1,prize:400},t.list_bonus_prize[1]={line:1,prize:400},t.list_bonus_prize[2]={line:1,prize:400},t.list_bonus_prize[3]={line:1,prize:400},t.list_bonus_prize[4]={line:1,prize:400},t.list_bonus_prize[5]={line:1,prize:400},t.list_bonus_prize[6]={line:1,prize:400},t.list_bonus_prize[7]={line:0,prize:1},t.list_bonus_prize[8]={line:1,prize:800},t.list_bonus_prize[9]={line:1,prize:800},t.list_bonus_prize[10]={line:1,prize:800},t.list_line_bonus=[{line:6,prize:1}],t.list_line_free=[],t.list_line_prize=[],t.list_line_prize[0]={line:3,prize:200},t.list_line_prize[1]={line:7,prize:200},t.list_line_prize[2]={line:9,prize:200},t.list_line_prize[3]={line:13,prize:200},t.list_line_prize[4]={line:19,prize:200},t.money_type=0,t.number_key_start_bonus=1,t.remain_free=0,t.spin_id=314,t.win_prize=1800,t.win_type=1,t},dataTestFree:function(){var t={bonus_prize:0,display_slot_data:["G","C","F","G","D","F","E","D","G","E","C","F","G","D","C"],is_bonus:!1,is_free:!0,is_jackpot:!1,list_bonus_prize:[],list_line_bonus:[],list_line_free:[],list_line_prize:[{line:1,prize:200}],money_type:0,number_key_start_bonus:0,remain_free:1,spin_id:166,win_prize:0,win_type:0};return t}}),cc._RF.pop()},{"../../base/BaseScene":"BaseScene","../../helper/Constant":"Constant","../../helper/Message":"Message","../../object/Audio":"Audio","../../object/JackpotX":"JackpotX","../../object/Music":"Music","../../prefab/Toast":"Toast","../../ui/Processing":"Processing","../../ui/dialog/DialogMessage":"DialogMessage","./Slot4Bonus":"Slot4Bonus","./Slot4Constant":"Slot4Constant","./Slot4Control":"Slot4Control","./Slot4Effect":"Slot4Effect","./Slot4HandlerRequest":"Slot4HandlerRequest","./Slot4Header":"Slot4Header","./Slot4Label":"Slot4Label","./Slot4Lines":"Slot4Lines","./Slot4Reels":"Slot4Reels","./Slot4State":"Slot4State","./Slot4UI":"Slot4UI","./form/Slot4AutoSpinSetting":"Slot4AutoSpinSetting","./form/Slot4BonusResult":"Slot4BonusResult","./form/Slot4Form":"Slot4Form","./form/Slot4SelectLine":"Slot4SelectLine"}],SlotGameIconItem:[function(t,e,i){"use strict";cc._RF.push(e,"2dd994LgShN55Q37CPuXJY4","SlotGameIconItem");var n=t("../mini-game/item/JackpotItem");cc.Class({extends:cc.Component,properties:{jackpot100JackpotItem:n,jackpot1kJackpotItem:n,jackpot10kJackpotItem:n},onLoad:function(){},onEnable:function(){this.data?this.node.active=!0:this.node.active=!1},initData:function(t){this.data=t,t&&(this.node.active=!0,this.jackpot100JackpotItem.setMoney(t[0]),this.jackpot1kJackpotItem.setMoney(t[1]),this.jackpot10kJackpotItem.setMoney(t[2]))}}),cc._RF.pop()},{"../mini-game/item/JackpotItem":"JackpotItem"}],SmallBannerItem:[function(t,e,i){"use strict";cc._RF.push(e,"c07d9joORpP0oMrXfUn3rQN","SmallBannerItem");var n=t("../../helper/Config");t("../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{imageSprite:cc.Sprite,loadingNode:cc.Node},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI,this.Event=t.Event},onLoad:function(){},onFanpageClick:function(){this.GameCenter.Footer.onFanpageClick()},onTopClick:function(){this.GameCenter.isConnected()&&(this.GameCenter.MiniGame.Event.showDialog(),this.GameCenter.MiniGame.Event.onTopClick())},onTaiXiuClick:function(){this.GameCenter.isConnected()&&(this.GameCenter.MiniGame.Event.showDialog(),this.GameCenter.MiniGame.Event.onTaiXiuClick())},onMiniPokerClick:function(){this.GameCenter.isConnected()&&(this.GameCenter.MiniGame.Event.showDialog(),this.GameCenter.MiniGame.Event.onMiniPokerClick())},onDiamondClick:function(){this.GameCenter.isConnected()&&(this.GameCenter.MiniGame.Event.showDialog(),this.GameCenter.MiniGame.Event.onDiamondClick())},onSlot2Click:function(){this.GameCenter.isConnected()&&(this.GameCenter.MiniGame.Event.showDialog(),this.GameCenter.MiniGame.Event.onSlot2Click())},onSlot4Click:function(){this.GameCenter.isConnected()&&(this.GameCenter.MiniGame.Event.showDialog(),this.GameCenter.MiniGame.Event.onSlot4Click())},show:function(t){this.node.zIndex=1,this.node.active=!0,t?(this.node.opacity=0,this.node.runAction(cc.fadeIn(n.BANNER_TIME_FADE))):this.node.opacity=255},hide:function(t){this.node.zIndex=0,this.node.active=!0,t?(this.node.opacity=255,this.node.runAction(cc.sequence(cc.fadeOut(n.BANNER_TIME_FADE),cc.callFunc(function(){this.node.active=!1},this)))):this.node.active=!1}}),cc._RF.pop()},{"../../helper/Config":"Config","../../util/FormatUtil":"FormatUtil"}],SmallBanner:[function(t,e,i){"use strict";cc._RF.push(e,"75b6dmI5o5GDaqwxJ1F+IgJ","SmallBanner");var n=t("../../../helper/Config");cc.Class({extends:cc.Component,properties:{bannerPageView:cc.PageView},init:function(t){this.GameCenter=t},start:function(){this.initData()},initData:function(){for(var t=this.bannerPageView.content.getChildren(),e=0;e<t.length;e++)t[e].getComponent("SmallBannerItem").init(this.GameCenter);var i=this.bannerPageView.getPages();this.leftToRight=!0,i.length>1&&this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(n.BANNER_TIME_CHANGE),cc.callFunc(function(){var t=this.bannerPageView.getCurrentPageIndex(),e=void 0;this.leftToRight?(e=t+1)>=this.bannerPageView.getPages().length&&(e-=2,this.leftToRight=!1):(e=t-1)<0&&(e+=2,this.leftToRight=!0),this.bannerPageView.setCurrentPageIndex(e)},this))))}}),cc._RF.pop()},{"../../../helper/Config":"Config"}],Splash:[function(t,e,i){"use strict";cc._RF.push(e,"ee617DSR+VBJLxlj9OJsjjJ","Splash");var n=t("../../base/BaseController"),o=t("../../helper/Constant"),s=t("../../helper/Message"),a=t("./HotUpdate"),r=t("../../object/Audio");cc.Class({extends:n,properties:{HotUpdate:a,messageLabel:cc.Label,retryGetDataButtonNode:cc.Node,Audio:r},onLoad:function(){this._super(),this.isLoadScene=!1,this.isLoadConfig=!1,this.HotUpdate.init(this),this.initOneSign(),this.initFirebase()},initOneSign:function(){this.checkPlugin()&&(sdkbox.PluginOneSignal.init(),sdkbox.PluginOneSignal.setListener({onSendTag:function(t,e,i){},onGetTags:function(t){},onIdsAvailable:function(t,e){},onPostNotification:function(t,e){},onNotification:function(t,e,i){}}))},checkPlugin:function(){return"undefined"==typeof sdkbox?(console.log("sdkbox is undefined"),!1):void 0!==sdkbox.PluginOneSignal||(console.log("sdkbox.PluginFacebook is undefined"),!1)},initFirebase:function(){if(cc.sys.isMobile){if(!this.checkPluginFirebase())return;sdkbox.firebase.Analytics.init(),console.log("init firebase success")}},checkPluginFirebase:function(){return"undefined"==typeof sdkbox?(console.log("sdkbox is undefined"),!1):void 0===sdkbox.firebase?(console.log("sdkbox.firebase is undefined"),!1):void 0!==sdkbox.firebase.Analytics||(console.log("sdkbox.firebase.Analytics is undefined"),!1)},loadAssets:function(){this.loadConfig(),this.loadScene()},loadScene:function(){var t=this;cc.director.preloadScene(o.SCENE_GAME_CENTER,function(){t.isLoadScene=!0,t.isLoadConfig&&cc.director.loadScene(o.SCENE_GAME_CENTER)})},loadConfig:function(){var t=this;this.messageLabel.string=s.SPLASH_GET_GET_DATA;var e=this;this.api.getConfig({},function(i){t.setGeneralConfig(i.data),e.isLoadConfig=!0,e.isLoadScene&&cc.director.loadScene(o.SCENE_GAME_CENTER)},function(e){t.messageLabel.string=s.SPLASH_GET_CONFIG_FAILED,t.retryGetDataButtonNode.active=!0})},onRetryGetDataClick:function(){this.Audio.playClick(),this.retryGetDataButtonNode.active=!1,this.loadConfig()}}),cc._RF.pop()},{"../../base/BaseController":"BaseController","../../helper/Constant":"Constant","../../helper/Message":"Message","../../object/Audio":"Audio","./HotUpdate":"HotUpdate"}],TaiXiuChainItem:[function(t,e,i){"use strict";cc._RF.push(e,"f7f7c1FkNFEi5RohANaTxTQ","TaiXiuChainItem");var n=t("../../../util/FormatUtil"),o=t("../../../util/Util");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,noLabel:cc.Label,prefixNickNameLabel:cc.Label,nameLabel:cc.Label,chainLabel:cc.Label,totalBetLabel:cc.Label,startMatchGameIdLabel:cc.Label,endMatchGameIdLabel:cc.Label,prizeLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},onLoad:function(){},init:function(t,e){if(t){this.noLabel.string=t.top||e+1,this.prefixNickNameLabel.string=o.getServerID(t.server_id),this.nameLabel.string=t.nick_name,this.chainLabel.string=t.chain,this.totalBetLabel.string=n.numberWithCommas(t.total_bet),this.startMatchGameIdLabel.string=t.start_match_game_id||t.start_math_game_id,this.endMatchGameIdLabel.string=t.end_match_game_id||t.end_math_game_id;var i=t.note;this.prizeLabel.string=i||n.numberWithCommas(t.prize);var s=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=s,this.prefixNickNameLabel.node.color=new cc.Color(255,173,0,255),this.nameLabel.node.color=new cc.Color(255,244,141,255)}}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil","../../../util/Util":"Util"}],TaiXiuChain:[function(t,e,i){"use strict";cc._RF.push(e,"52ec0qkKWNKYoNtzdwCloS/","TaiXiuChain");t("../../../helper/Constant");var n=t("../../../helper/Message"),o=t("../../../util/FormatUtil"),s=t("../tai-xiu/TaiXiuConstant");cc.Class({extends:cc.Component,properties:{contentTaiXiuNode:cc.Node,taiXiuChainItemPrefab:cc.Prefab,taiXiuContentNode:cc.Node,taiXiuRuleNode:cc.Node,taiXiuCurrentTopDayNode:cc.Node,taiXiuListChainNode:cc.Node,taiXiuListCurrentNode:cc.Node,taiXiuNextNode:cc.Node,taiXiuPreviousNode:cc.Node,taiXiuDateLabel:cc.Label,taiXiuchainWinButtonOnNode:cc.Node,taiXiuchainWinButtonOffNode:cc.Node,taiXiuchainLoseButtonOnNode:cc.Node,taiXiuchainLoseButtonOffNode:cc.Node,taiXiuchainWinButtonOnNode2:cc.Node,taiXiuchainWinButtonOffNode2:cc.Node,taiXiuchainLoseButtonOnNode2:cc.Node,taiXiuchainLoseButtonOffNode2:cc.Node,currentTopDayOnNode:cc.Node,currentTopDayOffNode:cc.Node,topDayButtonOnNode:cc.Node,topDayButtonOffNode:cc.Node,topMonthButtonOnNode:cc.Node,topMonthButtonOffNode:cc.Node,ruleButtonOnNode:cc.Node,ruleButtonOffNode:cc.Node,loadingNode:cc.Node},init:function(t){this.controller=t},onLoad:function(){this.dialogForm=this.node.getComponent("DialogForm")},onEnable:function(){this.reset(),this.loadData(),this.getCurrentTopChain(),this.onTaiXiuChainClick()},onDisable:function(){this.removeXhr()},getCurrentTopChain:function(){this.controller.sendRequest.sendNoPrefixToZone(s.CURRENT_TOP_CHAIN)},initTopDay:function(t){this.loadingNode.active=!1,this.currentDataTopDay=t,this.onCurrentTopDayClick()},initListTopDay:function(){if(this.taiXiuListCurrentNode.removeAllChildren(!0),this.currentDataTopDay)for(var t=this.currentDataTopDay.tai_xiu_top_chains,e=t.chain_lose_day,i=t.chain_win_day,n=this.taiXiuchainWinButtonOnNode.active?i:e,o=0;o<n.length;o++){var s=cc.instantiate(this.taiXiuChainItemPrefab);s.getComponent("TaiXiuChainItem").init(n[o],o),s.parent=this.taiXiuListCurrentNode}},loadData:function(){var t=this;if(this.data)this.initData();else{var e={token:this.controller.getToken(),user_id:this.controller.getUserId()};this.loadingNode.active=!0,this.xhr=this.controller.api.getChainTaiXiu(e,function(e){t.loadingNode.active=!1,t.data=t.modifyMonthDay(e.data),t.initData()},function(e){t.loadingNode.active=!1,t.controller.showDialogMessage(n.TAIXIU_CHAIN,e.msg)})}},modifyMonthDay:function(t){var e,i,n={chan_le_chain:{},tai_xiu_chain:{}};return e=(t=t.day)[0],i=t[2],n.tai_xiu_chain.day=e,n.tai_xiu_chain.month=i,n},initData:function(){if(this.data&&this.data.tai_xiu_chain){var t=this.data.tai_xiu_chain.day,e=this.data.tai_xiu_chain.month,i={};i=this.isTopDay()?t[0]:e,this.initListDataTaiXiu(i),i||this.hideDateNodeTaiXiu()}},initListDataTaiXiu:function(t){if(this.taiXiuListChainNode.removeAllChildren(!0),this.isTopDay()?this.showDateNodeTaiXiu():this.hideDateNodeTaiXiu(),t){for(var e=[],i=0;i<t.length;i++)this.isTaiXiuChainWin()?1==t[i].is_win&&e.push(t[i]):0==t[i].is_win&&e.push(t[i]);for(var n=e.length-1;n>=0;n--){var s=cc.instantiate(this.taiXiuChainItemPrefab);s.getComponent("TaiXiuChainItem").init(e[n],n),s.parent=this.taiXiuListChainNode,0===n&&(this.timeTaiXiu=e[n].created_at,this.taiXiuDateLabel.string=o.getStringOnlyDateByTimeStamp(this.timeTaiXiu/1e3-86400),this.isTopDay()&&this.initNextPreviousButtonTaiXiu())}}},onTaiXiuNextClick:function(){if(this.data&&this.data.tai_xiu_chain&&this.isTopDay()){var t=this.data.tai_xiu_chain.day;if(t.length>0)for(var e=t.length-1;e>=0;e--)if(t[e][0].created_at===this.timeTaiXiu){this.initListDataTaiXiu(t[e+1]);break}}},onTaiXiuPreviousClick:function(){if(this.data&&this.data&&this.data.tai_xiu_chain&&this.isTopDay()){var t=this.data.tai_xiu_chain.day;if(t.length>0)for(var e=t.length-1;e>=0;e--)if(t[e][0].created_at===this.timeTaiXiu){this.initListDataTaiXiu(t[e-1]);break}}},showDateNodeTaiXiu:function(){this.taiXiuNextNode.active=!0,this.taiXiuPreviousNode.active=!0,this.taiXiuDateLabel.node.active=!0},hideDateNodeTaiXiu:function(){this.taiXiuNextNode.active=!1,this.taiXiuPreviousNode.active=!1,this.taiXiuDateLabel.node.active=!1},isTopDay:function(){return this.topDayButtonOnNode.active},isTaiXiuChainWin:function(){return this.taiXiuchainWinButtonOnNode2.active},initNextPreviousButtonTaiXiu:function(){if(this.taiXiuNextNode.active=!0,this.taiXiuPreviousNode.active=!0,this.data&&this.data.tai_xiu_chain&&this.isTopDay()){var t=this.data.tai_xiu_chain.day;t.length>0&&(this.timeTaiXiu===t[0][0].created_at&&(this.taiXiuPreviousNode.active=!1),this.timeTaiXiu===t[t.length-1][0].created_at&&(this.taiXiuNextNode.active=!1))}},onChainWinCurrentDayClick:function(){this.taiXiuchainWinButtonOnNode.active=!0,this.taiXiuchainWinButtonOffNode.active=!1,this.taiXiuchainLoseButtonOnNode.active=!1,this.taiXiuchainLoseButtonOffNode.active=!0,this.initListTopDay()},onChainLoseCurrentDayClick:function(){this.taiXiuchainWinButtonOnNode.active=!1,this.taiXiuchainWinButtonOffNode.active=!0,this.taiXiuchainLoseButtonOnNode.active=!0,this.taiXiuchainLoseButtonOffNode.active=!1,this.initListTopDay()},onChainWinClick2:function(){this.data&&(this.taiXiuchainWinButtonOnNode2.active=!0,this.taiXiuchainWinButtonOffNode2.active=!1,this.taiXiuchainLoseButtonOnNode2.active=!1,this.taiXiuchainLoseButtonOffNode2.active=!0,this.initData())},onChainLoseClick2:function(){this.data&&(this.taiXiuchainWinButtonOnNode2.active=!1,this.taiXiuchainWinButtonOffNode2.active=!0,this.taiXiuchainLoseButtonOnNode2.active=!0,this.taiXiuchainLoseButtonOffNode2.active=!1,this.initData())},onTaiXiuChainClick:function(){this.contentTaiXiuNode.active=!0},onCurrentTopDayClick:function(){this.showCurrentTopDayNode(),this.initListTopDay()},onTopDayClick:function(){this.data&&(this.showTopDayNode(),this.initData())},onTopMonthClick:function(){this.data&&(this.showTopMonthNode(),this.initData())},onRuleClick:function(){this.showRuleNode()},showCurrentTopDayNode:function(){this.hideAllButton(),this.hideAllContent(),this.taiXiuCurrentTopDayNode.active=!0,this.currentTopDayOnNode.active=!0,this.currentTopDayOffNode.active=!1},showTopDayNode:function(){this.hideAllButton(),this.hideAllContent(),this.showContentTopMonthDayNode(),this.topDayButtonOnNode.active=!0,this.topDayButtonOffNode.active=!1},showTopMonthNode:function(){this.hideAllButton(),this.hideAllContent(),this.showContentTopMonthDayNode(),this.topMonthButtonOnNode.active=!0,this.topMonthButtonOffNode.active=!1},showContentTopMonthDayNode:function(){this.taiXiuContentNode.active=!0},showRuleNode:function(){this.hideAllButton(),this.hideAllContent(),this.taiXiuRuleNode.active=!0,this.ruleButtonOnNode.active=!0,this.ruleButtonOffNode.active=!1},hideAllContent:function(){this.taiXiuContentNode.active=!1,this.taiXiuRuleNode.active=!1,this.taiXiuCurrentTopDayNode.active=!1},hideAllButton:function(){this.currentTopDayOnNode.active=!1,this.topDayButtonOnNode.active=!1,this.topMonthButtonOnNode.active=!1,this.ruleButtonOnNode.active=!1,this.currentTopDayOffNode.active=!0,this.topDayButtonOffNode.active=!0,this.topMonthButtonOffNode.active=!0,this.ruleButtonOffNode.active=!0},showDialog:function(){this.dialogForm||(this.dialogForm=this.node.getComponent("DialogForm")),this.dialogForm.showDialog()},hideDialog:function(){this.dialogForm||(this.dialogForm=this.node.getComponent("DialogForm")),this.dialogForm.hideDialog()},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)},reset:function(){this.data=null}}),cc._RF.pop()},{"../../../helper/Constant":"Constant","../../../helper/Message":"Message","../../../util/FormatUtil":"FormatUtil","../tai-xiu/TaiXiuConstant":"TaiXiuConstant"}],TaiXiuChat:[function(t,e,i){"use strict";cc._RF.push(e,"24287Geh4tJ+Ybp0b62zVpQ","TaiXiuChat");t("../../../helper/Constant");var n=t("../../../util/BrowserUtil"),o=t("./TaiXiuConstant");cc.Class({extends:cc.Component,properties:{chatItemPrefab:cc.Prefab,chatScrollView:cc.ScrollView,chatEditBox:cc.EditBox},init:function(t){this.TaiXiu=t},onLoad:function(){this.number=0},update:function(t){0===this.number&&this.chatScrollView.scrollToBottom(0),this.number++},initChat:function(t){this.chatScrollView.content.removeAllChildren(!0);for(var e=0;e<t.length;e++)this.instanceChat(t[e]);this.scrollToBottom()},addChat:function(t){this.instanceChat(t),this.checkBottom()&&this.chatScrollView.scrollToBottom(.25)},instanceChat:function(t){var e=e=cc.instantiate(this.chatItemPrefab);e.getComponent("MiniGameChatItem").init(t),e.parent=this.chatScrollView.content},scrollToBottom:function(){this.number=0},onCloseClick:function(){this.TaiXiu.getTempData()[o.IS_SHOW_CHAT]=!this.node.active,this.node.active=!this.node.active},onSendClick:function(){var t=this.chatEditBox.string;this.sendChat(t)},sendChat:function(t){if(1==this.TaiXiu.getUser().status_value){if(""!==t.trim()){var e={message:t};this.TaiXiu.sendRequest.sendNoPrefixToZone(o.CHAT,e),this.chatEditBox.string=""}}else this.TaiXiu.showMessage("Vui l\xf2ng b\u1ea3o m\u1eadt t\xe0i kho\u1ea3n \u0111\u1ec3 s\u1eed d\u1ee5ng ch\u1ee9c n\u0103ng n\xe0y")},unFocusChatEditBox:function(){n.unFocusEditBox(this.chatEditBox)},checkBottom:function(){var t=this.chatScrollView.getScrollOffset().y,e=this.chatScrollView.node.height,i=this.chatScrollView.content.height;return Math.abs(t+e-i)<=150}}),cc._RF.pop()},{"../../../helper/Constant":"Constant","../../../util/BrowserUtil":"BrowserUtil","./TaiXiuConstant":"TaiXiuConstant"}],TaiXiuConstant:[function(t,e,i){"use strict";cc._RF.push(e,"de4d8Tzx0dDebFezsVpACh1","TaiXiuConstant");e.exports={TAI:1,XIU:0,CHAN:2,LE:3,MIN_TAI:11,NUMBER_HISTORY:18,NUMBER_DETAIL_ITEM:8,TIME_GET_FINISH:4,TOTAL_STATISTIC:17,MAX_NUM_STATISTIC:7,MAX_SUM_STATISTIC:18,DISTANCE_H_STATISTIC:30.8,DISTANCE_H_SUM:6.5,DISTANCE_W_STATISTIC:30.8,START_H_SUM:147.5,SIZE_SUM_CRILE:7,SIZE_STATISTIC_CRILE:4,DISTANCE_HISTORY_ITEM:21.5,MAX_COL:18,MAX_TAXIU:120,MAX_TAXIU_2:89,MAX_CHAT:120,DISTANCE_ECLIP_ITEM:17,DISTANCE_W_STATISTIC_2:21.5,DISTANCE_H_STATISTIC_2:19.5,REQUEST_START:"START",REQUEST_BALANCE_DOOR:"BALANCE_DOOR",REQUEST_FINISH:"FINISH",REQUEST_UPDATE:"UPDATE",REQUEST_INFO:"INFO",REQUEST_MESSAGE:"MESSAGE",REQUEST_CHANGE_STATE:"CHANGE_STATE",REQUEST_CHAT:"CHAT",REQUEST_HISTORY_DETAIL:"HISTORY_DETAIL",CURRENT_TOP_CHAIN_2:"CURRENT_TOP_CHAIN",GET_TOP_2:"GET_TOP",ADD_EVENT:"tai_xiu.ADD_EVENT",REMOVE_EVENT:"tai_xiu.REMOVE_EVENT",GET_STATE:"tai_xiu.GET_STATE",BET:"tai_xiu.BET",CHAT:"tai_xiu.CHAT",HISTORY_DETAIL:"tai_xiu.HISTORY_DETAIL",IS_SHOW:"tai_xiu_is_show",IS_SHOW_CHAT:"tai_xiu_is_show_chat",POSITION:"tai_xiu_position",IS_NAN:"tai_xiu_nan",CURRENT_TOP_CHAIN:"tai_xiu.CURRENT_TOP_CHAIN",GET_TOP:"tai_xiu.GET_TOP",GET_FINISH:"tai_xiu.FINISH"},cc._RF.pop()},{}],TaiXiuDetailItem:[function(t,e,i){"use strict";cc._RF.push(e,"2100fo8/etNDYeE9bNpW7jg","TaiXiuDetailItem");var n=t("../../../util/FormatUtil"),o=t("../../../util/Util");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,timeLabel:cc.Label,prefixNickNameLabel:cc.Label,nickNameLabel:cc.Label,balanceBetLabel:cc.Label,balanceReturnLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e){if(t){this.data=t,this.timeLabel.string=n.getStringHourByTimeStamp(t.time),this.prefixNickNameLabel.string=o.getServerID(t.server_id),this.nickNameLabel.string=t.nick_name,this.balanceBetLabel.string=n.numberWithCommas(t.balance_bet),this.balanceReturnLabel.string=n.numberWithCommas(t.balance_return);var i=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=i,this.prefixNickNameLabel.node.color=new cc.Color(255,173,0,255),this.nickNameLabel.node.color=new cc.Color(255,244,141,255)}},onLoad:function(){}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil","../../../util/Util":"Util"}],TaiXiuDetail:[function(t,e,i){"use strict";cc._RF.push(e,"d1373M+vONBq6ueyKM/VUT4","TaiXiuDetail");var n=t("../tai-xiu/TaiXiuConstant"),o=t("../../../helper/Message"),s=t("../../../util/FormatUtil"),a=t("../../item/PaginationItem");cc.Class({extends:cc.Component,properties:{contentNode:cc.Node,loadingNode:cc.Node,moneyButtonNode:cc.Node,goldButtonNode:cc.Node,taiXiuNode:cc.Node,dice1Sprite:cc.Sprite,dice2Sprite:cc.Sprite,dice3Sprite:cc.Sprite,dicesSpriteFrame:[cc.SpriteFrame],nextNode:cc.Node,previousNode:cc.Node,matchLabel:cc.Label,taiAnimation:cc.Animation,xiuAnimation:cc.Animation,taiAnimationOff:cc.Animation,xiuAnimationOff:cc.Animation,taiXiuDetailItemPrefab:cc.Prefab,listTaiNode:cc.Node,listXiuNode:cc.Node,taiTotalBalanceBetLabel:cc.Label,taiTotalBalanceReturnLabel:cc.Label,xiuTotalBalanceBetLabel:cc.Label,xiuTotalBalanceReturnLabel:cc.Label,pageNode:cc.Node,pagePreviewPreview:a,pagePreView:a,pageNext:a,pageNextNext:a,listPageNumberItem:[a]},init:function(t){this.controller=t},onLoad:function(){!1!==this.isMoneyType&&(this.isMoneyType=!0),this.pool=new cc.NodePool;for(var t=0;t<20;t++)this.pool.put(cc.instantiate(this.taiXiuDetailItemPrefab));this.dialogForm=this.node.getComponent("DialogForm"),this.listPagination=[],this.sortBetListTai,this.sortBetListXiu,this.sortTimeListTai,this.sortTimeListXiu},onEnable:function(){this.onShowTaiXiuClick(),this.dataDices&&this.initDicesEffect(this.dataDices)},onDisable:function(){},showDialog:function(){this.dialogForm||(this.dialogForm=this.node.getComponent("DialogForm")),this.dialogForm.showDialog()},hideDialog:function(){this.dialogForm||(this.dialogForm=this.node.getComponent("DialogForm")),this.dialogForm.hideDialog()},handleHistoryDetail:function(t){this.data=t,this.initInfo()},onNextClick:function(){for(var t=this.data.list_histories_match_game_id.length-1;t>=0;t--)if(this.data.list_histories_match_game_id[t]===this.matchGameId){this.matchGameId=this.data.list_histories_match_game_id[t+1],this.showLoading();var e={match_game_id:this.matchGameId};this.controller.sendRequest.sendNoPrefixToZone(n.HISTORY_DETAIL,e);break}},onPreviousClick:function(){for(var t=this.data.list_histories_match_game_id.length-1;t>=0;t--)if(this.data.list_histories_match_game_id[t]===this.matchGameId){this.matchGameId=this.data.list_histories_match_game_id[t-1],this.showLoading();var e={match_game_id:this.matchGameId};this.controller.sendRequest.sendNoPrefixToZone(n.HISTORY_DETAIL,e);break}},onMoneyClick:function(){this.setTypeRoom(!this.isMoneyType)},onGoldClick:function(){this.setTypeRoom(!this.isMoneyType)},setTypeRoom:function(t){this.isMoneyType=t,this.moneyButtonNode.active=t,this.goldButtonNode.active=!t,this.initInfo()},initInfo:function(){if(this.data){var t=this.data.history_detail;if(t){this.showContent();var e=t.match_game_id,i=t.time,n=t.dices,a=t.list_bets;this.matchLabel.string=String.format(o.TAIXIU_HISTORIES_DETAIL,e,s.getStringDateByTimeStamp(i)),this.initNextPreviousButton(e),this.initDicesSprite(n),this.initDicesEffect(n),this.initListBets(a)}}},initNextPreviousButton:function(t){this.nextNode.active=!0,this.previousNode.active=!0,this.data&&this.data.list_histories_match_game_id&&(this.data.list_histories_match_game_id[0]===t&&(this.previousNode.active=!1),this.data.list_histories_match_game_id[this.data.list_histories_match_game_id.length-1]===t&&(this.nextNode.active=!1))},initListBets:function(t){t=this.sortListBetByTimes(t),this.listTaiNode.parent.parent.parent.getComponent(cc.ScrollView).stopAutoScroll(),this.listTaiNode.parent.parent.parent.getComponent(cc.ScrollView).scrollToTop();var e=0,i=0,o=0,a=0;for(var r in this.listBetTai=[],this.listBetXiu=[],this.sortBetListTai=null,this.sortBetListXiu=null,this.sortTimeListTai=null,this.sortTimeListXiu=null,t)(t[r].is_money&&this.isMoneyType||!t[r].is_money&&!this.isMoneyType)&&(t[r].type===n.TAI?this.listBetTai.push(t[r]):t[r].type===n.XIU&&this.listBetXiu.push(t[r]),t[r].type===n.TAI?(e+=t[r].balance_bet,i+=t[r].balance_return):t[r].type===n.XIU&&(o+=t[r].balance_bet,a+=t[r].balance_return));this.sortTimeListTai=this.listBetTai,this.sortTimeListXiu=this.listBetXiu,this.taiTotalBalanceBetLabel.string=s.numberWithCommas(e),this.taiTotalBalanceReturnLabel.string=s.numberWithCommas(i),this.xiuTotalBalanceBetLabel.string=s.numberWithCommas(o),this.xiuTotalBalanceReturnLabel.string=s.numberWithCommas(a),this.setPage(0)},onShowTaiXiuClick:function(){this.taiXiuNode.active=!0},onSortBetTaiClick:function(){this.sortBetListTai?(this.sortBetListTai.reverse(),this.listBetTai=this.sortBetListTai,this.setPage(this.page)):(this.sortBetListTai=this.sortListBetByBet(this.listBetTai),this.listBetTai=this.sortBetListTai,this.setPage(this.page))},onSortBetXiuClick:function(){this.sortBetListXiu?(this.sortBetListXiu.reverse(),this.listBetXiu=this.sortBetListXiu,this.setPage(this.page)):(this.sortBetListXiu=this.sortListBetByBet(this.listBetXiu),this.listBetXiu=this.sortBetListXiu,this.setPage(this.page))},onSortTimeTaiClick:function(){this.sortTimeListTai.reverse(),this.listBetTai=this.sortTimeListTai,this.setPage(this.page)},onSortTimeXiuClick:function(){this.sortTimeListXiu.reverse(),this.listBetXiu=this.sortTimeListXiu,this.setPage(this.page)},sortListBetByTimes:function(t){var e=t.slice();return e.sort(function(t,e){return t.time===e.time?0===t.balance_return&&0!==e.balance_return?-1:0===e.balance_return&&0!==t.balance_return?1:0===t.balance_return&&0===e.balance_return?0:e.balance_bet-e.balance_return-(t.balance_bet-t.balance_return):t.time-e.time}),e},sortListBetByBet:function(t){var e=t.slice();return e.sort(function(t,e){return e.balance_bet-t.balance_bet}),e},showDetail:function(t,e){this.setTypeRoom(e),this.matchGameId=t,this.showDialog(),this.showLoading();var i={match_game_id:t};this.controller.sendRequest.sendNoPrefixToZone(n.HISTORY_DETAIL,i)},showContent:function(){this.loadingNode.active=!1,this.contentNode.active=!0},showLoading:function(){this.loadingNode.active=!0,this.contentNode.active=!1},initDicesSprite:function(t){this.dice1Sprite.spriteFrame=this.getSpriteFrameByDice(t[0]),this.dice2Sprite.spriteFrame=this.getSpriteFrameByDice(t[1]),this.dice3Sprite.spriteFrame=this.getSpriteFrameByDice(t[2])},getSpriteFrameByDice:function(t){return t>0&&t<7?this.dicesSpriteFrame[t-1]:this.dicesSpriteFrame[0]},initDicesEffect:function(t){this.dataDices=t;for(var e=0,i=0;i<t.length;i++)e+=t[i];e>=n.MIN_TAI?this.showTaiAnimationNode():this.showXiuAnimationNode()},putAllToPool:function(){if(this.pool){var t=this.listTaiNode.getChildren(),e=[];for(var i in t)e.push(t[i]);for(var n in e)this.pool.put(e[n]);var o=this.listXiuNode.getChildren(),s=[];for(var a in o)s.push(o[a]);for(var r in s)this.pool.put(s[r])}},setPage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.page=e,this.listPagination=[],this.listBetTai&&this.listBetXiu?function(){t.showListContent(e);for(var i=parseInt(t.listBetTai.length/n.NUMBER_DETAIL_ITEM),o=parseInt(t.listBetXiu.length/n.NUMBER_DETAIL_ITEM),s=Math.max(i,o),a=0;a<t.listPageNumberItem.length;a++)t.listPageNumberItem[a].node.active=a<s;var r=t.listBetTai.length>t.listBetXiu.length?t.listBetTai.length:t.listBetXiu.length,c=i>o?i:o;if(c=c*n.NUMBER_DETAIL_ITEM===r?c-1:c,t.showNumberPagination(c),t.pagePreviewPreview.init("<<",0),t.pageNextNext.init(">>",c),t.listPagination.push(t.pagePreviewPreview),t.listPagination.push(t.pageNextNext),e<2)for(var h=0,l=t.listPageNumberItem.length;h<l;h++)t.listPageNumberItem[h].init(h+1,h),t.listPageNumberItem[h].enable(),h===e&&t.listPageNumberItem[h].disable(),t.listPagination.push(t.listPageNumberItem[h]);else if(e+2>=c){var u=c;if(c>4)for(var d=t.listPageNumberItem.length-1;d>=0;d--)t.listPageNumberItem[d].init(u+1,u),t.listPageNumberItem[d].enable(),u===e&&t.listPageNumberItem[d].disable(),t.listPagination.push(t.listPageNumberItem[d]),u--;else{for(var m=0,p=t.listPageNumberItem.length;m<p;m++)t.listPageNumberItem[m].enable();t.listPageNumberItem[e].disable()}}else for(var f=-2,_=0,S=t.listPageNumberItem.length;_<S;_++)t.listPageNumberItem[_].init(e+f+1,e+f),t.listPageNumberItem[_].enable(),0===f&&t.listPageNumberItem[_].disable(),t.listPagination.push(t.listPageNumberItem[_]),f++;e<=0?(t.pagePreView.init("<",0),t.pageNext.init(">",1)):e>=c?(t.pagePreView.init("<",e-1),t.pageNext.init(">",c)):(t.pagePreView.init("<",e-1),t.pageNext.init(">",e+1)),t.listPagination.push(t.pagePreView),t.listPagination.push(t.pageNext);var g=t;if(!t.isEvent){var N=function(e){var i=t.listPagination[e].getComponent("PaginationItem").pageOffButtonNode;i.on(cc.Node.EventType.TOUCH_END,function(){var t=i.parent.getComponent("PaginationItem").getPage();g.setPage(t)}.bind(t))};for(var I in t.listPagination)N(I);t.isEvent=!0}}():this.pageNode.active=!1},showNumberPagination:function(t){this.pageNode.active=!0;for(var e=0;e<this.listPageNumberItem.length;e++)this.listPageNumberItem[e].node.active=!1;if(t<4)for(var i=0;i<=t;i++)this.listPageNumberItem[i].node.active=!0;else for(var n=0;n<this.listPageNumberItem.length;n++)this.listPageNumberItem[n].node.active=!0},showListContent:function(t){if(this.putAllToPool(),t*n.NUMBER_DETAIL_ITEM<this.listBetTai.length)for(var e=t*n.NUMBER_DETAIL_ITEM,i=e,o=e+n.NUMBER_DETAIL_ITEM;i<o;i++)if(i<this.listBetTai.length){var s=void 0;this.pool&&(s=this.pool.get()),s||(s=cc.instantiate(this.taiXiuDetailItemPrefab)),s.getComponent("TaiXiuDetailItem").init(this.listBetTai[i],i),s.parent=this.listTaiNode}if(t*n.NUMBER_DETAIL_ITEM<this.listBetXiu.length)for(var a=t*n.NUMBER_DETAIL_ITEM,r=a,c=a+n.NUMBER_DETAIL_ITEM;r<c;r++)if(r<this.listBetXiu.length){var h=void 0;this.pool&&(h=this.pool.get()),h||(h=cc.instantiate(this.taiXiuDetailItemPrefab)),h.getComponent("TaiXiuDetailItem").init(this.listBetXiu[r],r),h.parent=this.listXiuNode}},showTaiAnimationNode:function(){this.taiAnimation.node.active=!0,this.taiAnimationOff.node.active=!1,this.xiuAnimation.node.active=!1,this.xiuAnimationOff.node.active=!0},showXiuAnimationNode:function(){this.taiAnimation.node.active=!1,this.taiAnimationOff.node.active=!0,this.xiuAnimation.node.active=!0,this.xiuAnimationOff.node.active=!1}}),cc._RF.pop()},{"../../../helper/Message":"Message","../../../util/FormatUtil":"FormatUtil","../../item/PaginationItem":"PaginationItem","../tai-xiu/TaiXiuConstant":"TaiXiuConstant"}],TaiXiuDice:[function(t,e,i){"use strict";cc._RF.push(e,"1b3347UjyNMIbdubDOddH80","TaiXiuDice"),cc.Class({extends:cc.Component,properties:{dice1Sprite:cc.Sprite,dice2Sprite:cc.Sprite,dice3Sprite:cc.Sprite,dicesSpriteFrame:[cc.SpriteFrame],resultNode:cc.Node,resultLabel:cc.Label,diceSprite:cc.Sprite,diceSpriteFrame:cc.SpriteFrame,diceAnimation:cc.Animation,taiAnimation:cc.Animation,xiuAnimation:cc.Animation},init:function(t){this.TaiXiu=t},onLoad:function(){},show:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments[2],n=t.dice||t.dices,o=t.result;this.reset(),this.node.active=!0,this.diceSprite.node.active=!0,e?(this.showDices(!1),this.node.active&&this.diceAnimation.play(),this.node.runAction(cc.sequence(cc.delayTime(this.diceAnimation.defaultClip.duration),cc.callFunc(function(){this.reset(),this.showDices(!0),this.initDicesSprite(n),this.initResult(n),this.showEffectTaiXiuResult(o)},this)))):(this.showDices(!0),this.initDicesSprite(n),i||(this.resultNode.active=!1))},showEffectTaiXiuResult:function(t){var e=t.result,i=t.dices;this.taiAnimation.node.getComponent("ShowHideAnim").hideEffect(),this.xiuAnimation.node.getComponent("ShowHideAnim").hideEffect(),"tai"===e?this.taiAnimation.node.getComponent("ShowHideAnim").showEffect():"xiu"===e&&this.xiuAnimation.node.getComponent("ShowHideAnim").showEffect(),this.initResult(i)},hide:function(){this.node.stopAllActions(),this.diceAnimation.stop(),this.taiAnimation.node.getComponent("ShowHideAnim").hideEffect(),this.xiuAnimation.node.getComponent("ShowHideAnim").hideEffect(),this.showDices(!1),this.node.active=!1,this.diceSprite.node.active=!1},initDicesSprite:function(t){this.dice1Sprite.spriteFrame=this.getSpriteFrameByDice(t[0]),this.dice2Sprite.spriteFrame=this.getSpriteFrameByDice(t[1]),this.dice3Sprite.spriteFrame=this.getSpriteFrameByDice(t[2])},initResult:function(t){if(t){var e=this.getSum(t);this.resultLabel.string=e,this.resultNode.active=!0}},getSum:function(t){var e=0;for(var i in t)e+=t[i];return e},getSpriteFrameByDice:function(t){return t>0&&t<7?this.dicesSpriteFrame[t-1]:this.dicesSpriteFrame[0]},showDices:function(t){this.dice1Sprite.node.active=t,this.dice2Sprite.node.active=t,this.dice3Sprite.node.active=t,this.resultNode.active=t},reset:function(){this.node.stopAllActions(),this.diceAnimation.stop(),this.diceSprite.spriteFrame=this.diceSpriteFrame}}),cc._RF.pop()},{}],TaiXiuHistoriesItem:[function(t,e,i){"use strict";cc._RF.push(e,"5b6f2STKMxBIpW/gsJ0Rxjz","TaiXiuHistoriesItem");var n=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,idLabel:cc.Label,timeLabel:cc.Label,doorLabel:cc.Label,resultLabel:cc.Label,betLabel:cc.Label,returnLabel:cc.Label,getLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e){this.data=t,t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.idLabel.string=t.match_game_id,this.timeLabel.string=n.getStringDateByTimeStamp(t.created_at);var i="";1==t.tai_xiu_type&&(i="T\xc0I"),0==t.tai_xiu_type&&(i="X\u1ec8U"),2==t.tai_xiu_type&&(i="CH\u1eb4N"),3==t.tai_xiu_type&&(i="L\u1eba"),this.doorLabel.string=i,this.betLabel.string=n.numberWithCommas(t.total_bet_amount),this.resultLabel.string=this.getResult(t.result),this.returnLabel.string=n.numberWithCommas(t.total_return_amount),this.getLabel.string=n.numberWithCommas(t.total_prize_amount+t.total_bet_amount);var o=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=o},onLoad:function(){},getResult:function(t){var e=JSON.parse(t),i=0;for(var n in e)i+=e[n];return t+" - "+i}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil"}],TaiXiuHistories:[function(t,e,i){"use strict";cc._RF.push(e,"1adf1R+ug5IyqC45J84nMtG","TaiXiuHistories");var n=t("../../../../helper/Message");cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,moneyButtonNode:cc.Node,goldButtonNode:cc.Node,historyTaiXiuItemPrefab:cc.Prefab,historyScrollView:cc.ScrollView},init:function(t){this.controller=t},onLoad:function(){},onEnable:function(){this.data=null,this.onMoneyClick(),this.loadData()},onDisable:function(){this.removeXhr()},onMoneyClick:function(){this.goldButtonNode.active=!1,this.moneyButtonNode.active=!1},onGoldClick:function(){this.goldButtonNode.active=!1,this.moneyButtonNode.active=!1},loadData:function(){var t=this;if(this.showLoadingNode(),this.historyScrollView.content.removeAllChildren(!0),this.data)this.initData();else{var e={token:this.controller.getToken(),user_id:this.controller.getUserId()};this.controller.api.getHistoryTaiXiu(e,function(e){t.data=e.data,t.convertData(),t.initData()},function(e){t.showListNode(),t.controller.showDialogMessage(n.HISTORY_TITLE,e.msg)})}},convertData:function(){if(this.dataConvert={},this.dataConvert.is_tai_xiu=[],this.dataConvert.is_chan_le=[],this.data)for(var t=this.data[0],e=0,i=t.length;e<i;e++)0===t[e].tai_xiu_type||1===t[e].tai_xiu_type?this.dataConvert.is_tai_xiu.push(t[e]):this.dataConvert.is_chan_le.push(t[e])},initData:function(){if(this.showListNode(),this.dataConvert){var t=this.dataConvert.is_tai_xiu;for(var e in t){var i=cc.instantiate(this.historyTaiXiuItemPrefab);i.parent=this.historyScrollView.content,i.getComponent("TaiXiuHistoriesItem").init(t[e],e)}}},isMoneyType:function(){return this.goldButtonNode.active},showLoadingNode:function(){this.loadingNode.active=!0,this.historyScrollView.node.active=!1},showListNode:function(){this.loadingNode.active=!1,this.historyScrollView.node.active=!0},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{"../../../../helper/Message":"Message"}],TaiXiuHistoryGame1:[function(t,e,i){"use strict";cc._RF.push(e,"f51b3Jt+s5BE5+mQDl8sZWK","TaiXiuHistoryGame1");var n=t("../../../util/FormatUtil"),o=t("./TaiXiuConstant");cc.Class({extends:cc.Component,properties:{taiLabel:cc.Label,xiuLabel:cc.Label,historyLayoutNode:cc.Node,history2LayoutNode:cc.Node},init:function(t,e){this.data=e,this.TaiXiuHistoryGame=t,this.node.active&&this.initData(e)},onLoad:function(){},onEnable:function(){this.data&&this.initData(this.data)},initData:function(t){for(var e=0,i=0,s=this.historyLayoutNode.getChildren(),a=this.history2LayoutNode.getChildren(),r=0;r<s.length;r++)r<t.length?(s[r].active=!0,s[r].getComponent("TaiXiuHistoryItem2").init(t[r]),a[r].getComponent("TaiXiuHistoryItem").initData(t[r])):(s[r].active=!1,a[r].active=!1);for(var c=t.length-1;c>=0;c--){var h=t[c].dices,l=0;for(var u in h)l+=h[u];l>=o.MIN_TAI?e++:i++}this.taiLabel.string=n.numberWithCommas(e),this.xiuLabel.string=n.numberWithCommas(i)}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil","./TaiXiuConstant":"TaiXiuConstant"}],TaiXiuHistoryGame2:[function(t,e,i){"use strict";cc._RF.push(e,"b225eVxRYRAZaXeq1QG67kb","TaiXiuHistoryGame2");var n=t("./TaiXiuConstant");cc.Class({extends:cc.Component,properties:{graphicsNode:cc.Node},onLoad:function(){},onEnable:function(){this.data&&(this.initFirst(),this.initHistory(this.data))},init:function(t,e){this.data=e,this.TaiXiuHistoryGame=t,this.TaiXiuHistoryGame.node.active&&this.initHistory(e)},initFirst:function(){this.graphic||(this.graphic=this.graphicsNode.getComponent(cc.Graphics),this.sumDraw=!0,this.xs1Draw=!0,this.xs2Draw=!0,this.xs3Draw=!0,this.BLACK_COLOR=cc.Color.BLACK.toCSS(),this.WHILE_COLOR=cc.Color.WHITE.toCSS(),this.XS1_COLOR=cc.Color.YELLOW.toCSS()+"00",this.XS2_COLOR=cc.Color.RED.toCSS()+"00",this.XS3_COLOR=cc.Color.GREEN.toCSS()+"00")},initHistory:function(t){this.reset();var e=[];if(t.length>n.TOTAL_STATISTIC)for(var i=0;i<n.TOTAL_STATISTIC;i++)e.push(t[i]);else e=t;e=e.reverse(),this.drawSum(e),this.drawStatistic(e)},drawSum:function(t){for(var e=[],i=0,o=t.length;i<o;i++)e.push(this.getPositionDrawSum(i+1,t[i].dices));this.draw(this.sumDraw,e,n.SIZE_SUM_CRILE)},drawStatistic:function(t){var e=this.getPositionStatistic(t,0,this.XS1_COLOR,cc.Color.YELLOW),i=this.getPositionStatistic(t,1,this.XS2_COLOR,cc.Color.RED),o=this.getPositionStatistic(t,2,this.XS3_COLOR,cc.Color.GREEN);this.draw(this.xs1Draw,e,n.SIZE_STATISTIC_CRILE),this.draw(this.xs2Draw,i,n.SIZE_STATISTIC_CRILE),this.draw(this.xs3Draw,o,n.SIZE_STATISTIC_CRILE)},getPositionDrawSum:function(t,e){var i=e[0]+e[1]+e[2],o=t*n.DISTANCE_W_STATISTIC_2,s=n.START_H_SUM+i*n.DISTANCE_H_SUM,a=i>=n.MIN_TAI?this.BLACK_COLOR:this.WHILE_COLOR;this.WHILE_COLOR;return{x:o,y:s,colorCrile:a,colorLine:cc.Color.WHITE}},getPositionStatistic:function(t,e,i,o){for(var s=[],a=0,r=t.length;a<r;a++){var c=t[a].dices,h=(a+1)*n.DISTANCE_W_STATISTIC_2,l=c[e]*n.DISTANCE_H_STATISTIC_2;s.push({x:h,y:l,colorCrile:i,colorLine:o})}return s},draw:function(t,e,i){if(t){for(var n=0,o=e.length;n<o;n++)0===n?this.graphic.moveTo(e[n].x,e[n].y):(this.graphic.lineTo(e[n].x,e[n].y),this.graphic.strokeColor=e[n].colorLine);this.graphic.stroke();for(var s=0,a=e.length;s<a;s++)this.graphic.circle(e[s].x,e[s].y,i),this.graphic.fillColor=(new cc.Color).fromHEX(e[s].colorCrile),this.graphic.fill()}},onSumToggleClick:function(){this.sumDraw=!this.sumDraw,this.init(this.TaiXiuHistoryGame,this.data)},onXS1ToogleClick:function(){this.xs1Draw=!this.xs1Draw,this.init(this.TaiXiuHistoryGame,this.data)},onXS2ToogleClick:function(){this.xs2Draw=!this.xs2Draw,this.init(this.TaiXiuHistoryGame,this.data)},onXS3ToogleClick:function(){this.xs3Draw=!this.xs3Draw,this.init(this.TaiXiuHistoryGame,this.data)},reset:function(){this.initFirst(),this.graphic.clear()}}),cc._RF.pop()},{"./TaiXiuConstant":"TaiXiuConstant"}],TaiXiuHistoryGame:[function(t,e,i){"use strict";cc._RF.push(e,"792780g4wNPBYckn8J7xha9","TaiXiuHistoryGame");var n=t("./TaiXiuHistoryGame1"),o=t("./TaiXiuHistoryGame2");cc.Class({extends:cc.Component,properties:{TaiXiuHistoryGame1:n,TaiXiuHistoryGame2:o},onLoad:function(){},init:function(t){this.TaiXiuHistoryGame1.init(this,t),this.TaiXiuHistoryGame2.init(this,t)},onNextClick:function(){this.TaiXiuHistoryGame1.node.active?this.showHistoryGame2():this.showHistoryGame1()},onPreviousClick:function(){this.TaiXiuHistoryGame1.node.active?this.showHistoryGame2():this.showHistoryGame1()},showHistoryGame1:function(){this.TaiXiuHistoryGame1.node.active=!0,this.TaiXiuHistoryGame2.node.active=!1},showHistoryGame2:function(){this.TaiXiuHistoryGame1.node.active=!1,this.TaiXiuHistoryGame2.node.active=!0},onCloseClick:function(){this.node.active=!1}}),cc._RF.pop()},{"./TaiXiuHistoryGame1":"TaiXiuHistoryGame1","./TaiXiuHistoryGame2":"TaiXiuHistoryGame2"}],TaiXiuHistoryItem2:[function(t,e,i){"use strict";cc._RF.push(e,"af451w50RhHErjxt6tEnGc1","TaiXiuHistoryItem2");var n=t("./TaiXiuConstant");cc.Class({extends:cc.Component,properties:{taiLabel:cc.Label,xiuLabel:cc.Label},onLoad:function(){},init:function(t){this.data=t;var e=t.dices,i=0;for(var o in e)i+=e[o];this.taiLabel.string=i,this.xiuLabel.string=i,i>=n.MIN_TAI?(this.taiLabel.node.active=!0,this.xiuLabel.node.active=!1):(this.taiLabel.node.active=!1,this.xiuLabel.node.active=!0)}}),cc._RF.pop()},{"./TaiXiuConstant":"TaiXiuConstant"}],TaiXiuHistoryItem:[function(t,e,i){"use strict";cc._RF.push(e,"c2bf58gN+pLjrEZozeDlSXU","TaiXiuHistoryItem");var n=t("./TaiXiuConstant");cc.Class({extends:cc.Component,properties:{itemSprite:cc.Sprite,taiSpriteFrame:cc.SpriteFrame,xiuSpriteFrame:cc.SpriteFrame,animationNode:cc.Node},init:function(t){this.TaiXiu=t,this.TaiXiuHistory=t.TaiXiuHistory},onLoad:function(){},onDisable:function(){this.animationNode.getComponent(cc.Animation).stop()},initData:function(t){this.data=t;var e=t.dices;for(var i in this.sum=0,e)this.sum+=e[i];this.itemSprite.spriteFrame=this.sum>=n.MIN_TAI?this.taiSpriteFrame:this.xiuSpriteFrame,this.animationNode.y=0,this.animationNode.getComponent(cc.Animation).stop()},isTaiXiu:function(){return this.sum>=n.MIN_TAI},showSelectedNode:function(){this.animationNode.getComponent(cc.Animation).play()},hideSelectNode:function(){this.animationNode.getComponent(cc.Animation).stop()},getData:function(){return this.data},onClick:function(){this.TaiXiu&&this.TaiXiu.controller.MiniGame.TaiXiuDetail.showDetail(this.data.match_game_id,this.TaiXiu.isMoneyType)}}),cc._RF.pop()},{"./TaiXiuConstant":"TaiXiuConstant"}],TaiXiuHistory:[function(t,e,i){"use strict";cc._RF.push(e,"8e4e0/ba+xMFo0NiXSkJzEJ","TaiXiuHistory");var n=t("./TaiXiuConstant"),o=t("./TaiXiuHistoryItem");cc.Class({extends:cc.Component,properties:{historyItemPrefab:cc.Prefab,historyLayout:cc.Node,historyHintNode:cc.Node,historyHintLabel:cc.Label,listHistoryItem:[o]},init:function(t){for(var e in this.TaiXiu=t,this.listHistoryItem)this.listHistoryItem[e].init(t)},onLoad:function(){},initHistories:function(t){for(var e=t.length>n.NUMBER_HISTORY?n.NUMBER_HISTORY:t.length,i=0;i<this.listHistoryItem.length;i++)i<e?(this.listHistoryItem[i].node.active=!0,this.listHistoryItem[i].initData(t[i]),0==i&&this.listHistoryItem[i].showSelectedNode()):this.listHistoryItem[i].node.active=!1},showGameHint:function(t){t.getData()&&(this.historyHintNode.active=!0,this.historyHintLabel.string=t.getData().dices.join("-"),this.historyHintNode.x=t.node.x-this.historyLayout.width/2)},hideGameHint:function(){this.historyHintNode.active=!1,this.historyHintLabel.string=""}}),cc._RF.pop()},{"./TaiXiuConstant":"TaiXiuConstant","./TaiXiuHistoryItem":"TaiXiuHistoryItem"}],TaiXiuNumberItem:[function(t,e,i){"use strict";cc._RF.push(e,"75c9fg6sT5M7YavsC7Uu+kt","TaiXiuNumberItem"),cc.Class({extends:cc.Component,properties:{numberLabel:cc.Label},init:function(t){this.TaiXiu=t},onLoad:function(){},onNumberClick:function(){var t=(this.TaiXiu.isSelectTai?this.TaiXiu.getTaiValue():this.TaiXiu.getXiuValue())+""+this.numberLabel.string;this.TaiXiu.isSelectTai?this.TaiXiu.setTai(t):this.TaiXiu.setXiu(t)},onBackClick:function(){var t=this.TaiXiu.isSelectTai?this.TaiXiu.getTaiValue():this.TaiXiu.getXiuValue(),e=(t+="").slice(0,-1);this.TaiXiu.isSelectTai?this.TaiXiu.setTai(e):this.TaiXiu.setXiu(e)}}),cc._RF.pop()},{}],TaiXiuPlateMove:[function(t,e,i){"use strict";cc._RF.push(e,"a3b6eKfQ1NCFLhmtgBcjAom","TaiXiuPlateMove"),cc.Class({extends:cc.Component,properties:{},init:function(t){this.TaiXiu=t,this.positionX=this.node.x,this.positionY=this.node.y},onLoad:function(){var t=this;this.onTouchMove=function(e){var i=e.touch.getDelta();t.node.x+=i.x,t.node.y+=i.y,t.getDistance()>135&&t.isHide&&(t.isHide=!1,t.TaiXiu.initResult()),e.stopPropagation()},this.addEventMove(),this.isHide=!0},addEventMove:function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this.node)},reset:function(){this.node.x=this.positionX,this.node.y=this.positionY,this.isHide=!0},getDistance:function(){return Math.sqrt((this.node.x-this.positionX)*(this.node.x-this.positionX)+(this.node.y-this.positionY)*(this.node.y-this.positionY))}}),cc._RF.pop()},{}],TaiXiuPlate:[function(t,e,i){"use strict";cc._RF.push(e,"8ab39EYQwdE9q2N0BgnMjMv","TaiXiuPlate");var n=t("./TaiXiuPlateMove"),o=t("./TaiXiuConstant");cc.Class({extends:cc.Component,properties:{plateRealNode:cc.Node,nanButtonNode:cc.Node,nanDisalbeButtonNode:cc.Node,TaiXiuPlateMove:n},init:function(t){this.TaiXiu=t,this.TaiXiuPlateMove.init(t)},onLoad:function(){},onNanClick:function(){this.showNanDisableButton()},onNanDisableClick:function(){this.showNanButton()},showNanButton:function(){this.TaiXiu.getTempData()[o.IS_NAN]=!1,this.nanButtonNode.active=!1,this.nanDisalbeButtonNode.active=!0,this.TaiXiuPlateMove.node.active=!1,this.plateRealNode.active=!1},showNanDisableButton:function(){this.TaiXiu.getTempData()[o.IS_NAN]=!0,this.nanButtonNode.active=!0,this.nanDisalbeButtonNode.active=!1,this.TaiXiuPlateMove.node.active=!1,this.plateRealNode.active=!0},showPlateMove:function(){this.nanButtonNode.active=!1,this.nanDisalbeButtonNode.active=!1,this.TaiXiuPlateMove.node.active=!0,this.TaiXiuPlateMove.reset(),this.plateRealNode.active=!0},hidePlateRealNode:function(){this.plateRealNode.active=!1},isNan:function(){return this.TaiXiu.getTempData()[o.IS_NAN]},reset:function(){this.TaiXiu.getTempData()[o.IS_NAN]?(this.nanButtonNode.active=!0,this.nanDisalbeButtonNode.active=!1,this.plateRealNode.active=!0):(this.nanButtonNode.active=!1,this.nanDisalbeButtonNode.active=!0,this.plateRealNode.active=!0),this.TaiXiuPlateMove.node.active=!1,this.TaiXiuPlateMove.reset()},hideAll:function(){this.TaiXiu.getTempData()[o.IS_NAN]?(this.nanButtonNode.active=!0,this.nanDisalbeButtonNode.active=!1):(this.nanButtonNode.active=!1,this.nanDisalbeButtonNode.active=!0),this.TaiXiuPlateMove.node.active=!1}}),cc._RF.pop()},{"./TaiXiuConstant":"TaiXiuConstant","./TaiXiuPlateMove":"TaiXiuPlateMove"}],TaiXiuQuickSelect:[function(t,e,i){"use strict";cc._RF.push(e,"0465ciBip1IIKMWo+eURJax","TaiXiuQuickSelect");var n=t("../../../helper/Config"),o=t("../../../helper/Message"),s=t("../../../object/RoomType"),a=t("../item/TaiXiuSelectItem"),r=t("../item/TaiXiuNumberItem"),c=t("./TaiXiuConstant");cc.Class({extends:cc.Component,properties:{selectNode:cc.Node,numberNode:cc.Node,selectButtonNode:cc.Node,numberButtonNode:cc.Node,listSelectItem:[a],listNumberItem:[r]},init:function(t){this.TaiXiu=t},onLoad:function(){this.initData()},onEnable:function(){this.TaiXiu.node.y<50&&(this.TaiXiu.node.y=50)},initData:function(){for(var t=0;t<this.listSelectItem.length;t++)this.listSelectItem[t].init(this.TaiXiu,n.TAI_XIU_LIST_SELECT[t]);for(var e=0;e<this.listNumberItem.length;e++)this.listNumberItem[e].init(this.TaiXiu)},onSelectClick:function(){this.selectNode.active=!0,this.numberNode.active=!1,this.selectButtonNode.active=!1,this.numberButtonNode.active=!0,this.TaiXiu.resetBetValue()},onNumberClick:function(){this.selectNode.active=!1,this.numberNode.active=!0,this.selectButtonNode.active=!0,this.numberButtonNode.active=!1,this.TaiXiu.resetBetValue()},onBetClick:function(){var t=this.TaiXiu.isSelectTai?this.TaiXiu.getTaiValue():this.TaiXiu.getXiuValue(),e="";if(t&&(e=this.TaiXiu.isSelectTai?c.TAI:c.XIU),0!==t){var i={amount:t,type:e,room_type:this.TaiXiu.isMoneyType?s.MONEY_CODE:s.GOLD_CODE};this.TaiXiu.sendRequest.sendNoPrefixToZone(c.BET,i),this.onCloseClick()}else this.TaiXiu.showMessage(o.TAIXIU_YOU_NOT_BET)},onCloseClick:function(){this.node.active=!1,this.TaiXiu.resetBetValue(),this.TaiXiu.hideBetXiuNode(),this.TaiXiu.hideBetTaiNode()}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../helper/Message":"Message","../../../object/RoomType":"RoomType","../item/TaiXiuNumberItem":"TaiXiuNumberItem","../item/TaiXiuSelectItem":"TaiXiuSelectItem","./TaiXiuConstant":"TaiXiuConstant"}],TaiXiuSelectItem:[function(t,e,i){"use strict";cc._RF.push(e,"e7cc0Yj4AlJdaS7p4z5o26Y","TaiXiuSelectItem");var n=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label},init:function(t,e){this.TaiXiu=t,e?(this.value=e,this.nameLabel.string=n.nFormatter(e)):(this.nameLabel.string="ALL IN",this.is_all_in=!0)},onLoad:function(){},onClick:function(){var t=this.TaiXiu.isSelectTai?this.TaiXiu.getTaiValue():this.TaiXiu.getXiuValue(),e=0;e=this.is_all_in?this.TaiXiu.getSFSMySelf().variables.money.value:t+this.value,this.TaiXiu.isSelectTai?this.TaiXiu.setTai(e):this.TaiXiu.setXiu(e)}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil"}],TaiXiuState:[function(t,e,i){"use strict";cc._RF.push(e,"7f5e41p0NdKXYcBA/+MC+Q8","TaiXiuState");e.exports={currentState:null,BETTING:"BETTING",BALANCE_DOOR:"BALANCE_DOOR",FINISH:"FINISH",setState:function(t){this.currentState=t},setBetting:function(){this.currentState=this.BETTING},setBalanceDoor:function(){this.currentState=this.BALANCE_DOOR},setFinish:function(){this.currentState=this.FINISH},isBetting:function(){return this.currentState===this.BETTING},isBalanceDoor:function(){return this.currentState===this.BALANCE_DOOR},isFinish:function(){return this.currentState===this.FINISH}},cc._RF.pop()},{}],TaiXiuTime:[function(t,e,i){"use strict";cc._RF.push(e,"633497XfllIJKTB3z7KzLLZ","TaiXiuTime");var n=t("./TaiXiuState"),o=t("../../../helper/Config");cc.Class({extends:cc.Component,properties:{taixiuTimeBetLabel:cc.Label,taixiuTimeFinishLabel:cc.Label},init:function(t){this.TaiXiu=t},onLoad:function(){},onDestroy:function(){clearInterval(this.timeInterval)},setTime:function(t){clearInterval(this.timeInterval),this.setTimeLabel(t)},initTimeTaiXiu:function(t){t&&(this.gameState=t.game_state,this.time=t.time_remain,this.setTimeLabel(this.time),this.gameState===n.BETTING?(this.taixiuTimeBetLabel.node.active=!0,this.taixiuTimeFinishLabel.node.active=!1):(this.taixiuTimeBetLabel.node.active=!1,this.taixiuTimeFinishLabel.node.active=!0),clearInterval(this.timeInterval),this.timeInterval=setInterval(function(){this.time-=1,this.time<0&&(this.time=0,clearInterval(this.timeInterval),this.TaiXiu&&this.TaiXiu.startTimeGetFinish()),this.setTimeLabel(this.time)}.bind(this),1e3))},setTimeLabel:function(t){var e=t;this.taixiuTimeBetLabel&&(this.taixiuTimeBetLabel.string=e),this.taixiuTimeFinishLabel&&(this.taixiuTimeFinishLabel.string=e)},setPositionBymoveByMiniGameCircleShow:function(t){t?this.node.setPosition(o.TAI_XIU_TIME_POSITION_X_BIG,o.TAI_XIU_TIME_POSITION_Y_BIG):this.node.setPosition(o.TAI_XIU_TIME_POSITION_X_SMALL,o.TAI_XIU_TIME_POSITION_Y_SMALL)},moveByMiniGameCircleShow:function(t){this.node.active?t?this.moveBig():this.moveSmall():this.setPositionBymoveByMiniGameCircleShow(t)},moveBig:function(){this.node.stopAllActions(),this.node.runAction(cc.moveTo(o.MINIGAME_TIME_SHOW,o.TAI_XIU_TIME_POSITION_X_BIG,o.TAI_XIU_TIME_POSITION_Y_BIG))},moveSmall:function(){this.node.stopAllActions(),this.node.runAction(cc.moveTo(o.MINIGAME_TIME_SHOW,o.TAI_XIU_TIME_POSITION_X_SMALL,o.TAI_XIU_TIME_POSITION_Y_SMALL))}}),cc._RF.pop()},{"../../../helper/Config":"Config","./TaiXiuState":"TaiXiuState"}],TaiXiu:[function(t,e,i){"use strict";cc._RF.push(e,"16159JdFwJDeJGPJin+vf75","TaiXiu");var n=t("../../../base/BaseController"),o=t("./TaiXiuState"),s=t("./TaiXiuConstant"),a=t("./TaiXiuDice"),r=t("./TaiXiuPlate"),c=t("./TaiXiuHistory"),h=t("./TaiXiuTime"),l=t("./TaiXiuQuickSelect"),u=t("./TaiXiuHistoryGame"),d=t("./TaiXiuChat"),m=t("../MiniGameResultTaiXiu"),p=t("../MiniGameResult"),f=t("../../../object/RoomType"),_=t("../../../util/FormatUtil"),S=t("../../../helper/Message"),g=t("../../../helper/Constant"),N=t("../../../helper/Config"),I=t("../MiniGameConstant");cc.Class({extends:n,properties:{idLabel:cc.Label,chainWinLabel:cc.Label,chainLoseLabel:cc.Label,currentChainWinLabel:cc.Label,currentChainLoseLabel:cc.Label,timeBettingLabel:cc.Label,timeBettingNode:cc.Node,timeFinishLabel:cc.Label,timeFinishNode:cc.Node,taiNumberPlayerLabel:cc.Label,taiTotalLabel:cc.Label,taiMyBetLabel:cc.Label,taiLabel:cc.Label,xiuNumberPlayerLabel:cc.Label,xiuTotalLabel:cc.Label,xiuMyBetLabel:cc.Label,xiuLabel:cc.Label,moneyNode:cc.Node,goldNode:cc.Node,timeEffectNode:cc.Node,timeEffect2Node:cc.Node,toastPrefab:cc.Prefab,TaiXiuDice:a,TaiXiuPlate:r,TaiXiuQuickSelect:l,TaiXiuHistory:c,TaiXiuTime:h,TaiXiuHistoryGame:u,TaiXiuChat:d,MiniGameResultTaiXiu:m,MiniGameResult:p},init:function(t){this.controller=t},onLoad:function(){this._super(),this.data=null,this.time=0,this.timeInterval=null,this.resultTimeout=null,this.isMoneyType=!0,this.timeOutGetFinish=null,this.dataFinish=[],this.TaiXiuState=o,this.TaiXiuDice.init(this),this.TaiXiuChat.init(this),this.TaiXiuPlate.init(this),this.TaiXiuHistory.init(this),this.TaiXiuQuickSelect.init(this),this.TaiXiuTime.init(this),this.setTypeRoom(this.isMoneyType),this.initData()},onEnable:function(){this.sendRequest.sendNoPrefixToZone(s.ADD_EVENT)},onDisable:function(){this.destroyGame()},destroyGame:function(){this.reset(),clearInterval(this.timeInterval),clearTimeout(this.resultTimeout),clearTimeout(this.timeOutGetFinish),this.sendRequest.sendNoPrefixToZone(s.REMOVE_EVENT)},initData:function(){!1===this.getTempData()[s.IS_SHOW_CHAT]&&(this.TaiXiuChat.node.active=!1)},setShowTaiXiu:function(t){this.node.active=t,this.isShow=t,this.getTempData()[s.IS_SHOW]=this.isShow,this.TaiXiuTime.node.active=!t,t||this.sendRequest.sendNoPrefixToZone(s.GET_STATE,{}),this.controller&&this.controller.MiniGame.BonusEvent&&this.controller.MiniGame.BonusEvent.setShowTaiXiu(t)},setTimeLabel:function(t){var e=parseInt(t);this.TaiXiuState.isBetting()?(this.timeBettingNode.active=!0,this.timeFinishNode.active=!1,this.timeBettingLabel&&(this.timeBettingLabel.string=e,e<=10?this.timeAnimation():this.timeDefault(),e<=20?(this.timeEffectNode.active=!0,this.timeEffect2Node.active=!1):(this.timeEffectNode.active=!1,this.timeEffect2Node.active=!0))):this.TaiXiuState.isFinish()&&(this.timeBettingNode.active=!1,this.timeFinishNode.active=!0,this.timeFinishLabel&&(this.timeFinishLabel.string=e),this.timeEffectNode.active=!1,this.timeEffect2Node.active=!1)},handleRequest:function(t){var e=t.game_cmd,i=t.game_data,n=t.game_msg;switch(e){case s.REQUEST_INFO:this.handleInfo(i);break;case s.REQUEST_START:this.handleStart(i);break;case s.REQUEST_BALANCE_DOOR:this.handleBalanceDoor(i);break;case s.REQUEST_FINISH:this.handleFinish(i);break;case s.REQUEST_UPDATE:this.handleUpdate(i);break;case s.REQUEST_CHANGE_STATE:this.handleChangeState(i);break;case s.REQUEST_CHAT:this.handleChat(i);break;case s.REQUEST_HISTORY_DETAIL:this.handleHistoryDetail(i);break;case s.REQUEST_MESSAGE:this.handleMessage(n);break;case s.CURRENT_TOP_CHAIN_2:this.controller.MiniGame.TaiXiuChain.initTopDay(i);break;case s.GET_TOP_2:this.controller.MiniGame.GameMiniRank.initDataTaiXiu(i)}},handleInfo:function(t){this.dataBlanceDoor={};var e=t.game_state;this.match_game_id=t.match_game_id,this.TaiXiuState.setState(e),this.data=t,this.data.histories=this.data.histories.reverse(),this.initTime(),this.initChain(),this.initBetData(),this.initDices(!0),this.initHistories(),this.initChat(),this.initPlate(),this.idLabel.string=String.format(S.MINIGAME_ID,this.match_game_id)},handleStart:function(t){this.TaiXiuState.setBetting(),this.data=t,this.reset(),this.initTime(),this.match_game_id=t.match_game_id,this.idLabel.string=String.format(S.MINIGAME_ID,t.match_game_id)},handleBalanceDoor:function(t){this.TaiXiuState.setBalanceDoor(),this.data=t,this.initBalanceDoor(),this.startTimeGetFinish()},handleFinish:function(t){this.dataFinish.push(t),1===this.dataFinish.length&&(clearTimeout(this.timeOutGetFinish),this.TaiXiuState.setFinish(),this.data=t,this.histories||(this.histories=this.data.histories),this.histories.length>=s.NUMBER_HISTORY&&this.histories.pop(),this.histories.splice(0,0,{match_game_id:this.match_game_id,dices:this.data.dice||this.data.dices}),this.data.histories=this.histories,this.initTime(),this.initDices(!1),this.initResultByTime())},handleUpdate:function(t){this.data=t,this.initBetData()},handleChangeState:function(t){this.TaiXiuTime.initTimeTaiXiu(t)},handleChat:function(t){this.TaiXiuChat.addChat(t)},handleHistoryDetail:function(t){this.controller.MiniGame.TaiXiuDetail.handleHistoryDetail(t)},handleMessage:function(t){this.showMessage(t)},initTime:function(){this.data&&(this.time=this.data.time_remain,this.setTimeLabel(this.time),clearInterval(this.timeInterval),this.timeInterval=setInterval(function(){this.time-=1,this.time<0&&(this.time=0,clearInterval(this.timeInterval)),this.data&&(this.data.time_remain=this.time,this.setTimeLabel(this.time))}.bind(this),1e3))},initChain:function(){if(this.data){var t=this.data.tai_xiu_chain_lose,e=this.data.tai_xiu_chain_win,i=this.data.tai_xiu_current_chain_win,n=this.data.tai_xiu_current_chain_lose;this.chainWinLabel.string=String.format(S.TAIXIU_CHAIN_WIN,i),this.chainLoseLabel.string=String.format(S.TAIXIU_CHAIN_LOSE,n),this.currentChainWinLabel.string=String.format(S.TAIXIU_CURRENT_CHAIN_WIN,e),this.currentChainLoseLabel.string=String.format(S.TAIXIU_CURRENT_CHAIN_LOSE,t)}},initBetData:function(){if(this.data){var t=this.data.tai_xiu_gold,e=this.data.tai_xiu_money;this.isMoneyType?this.initBetDataByData(e):this.initBetDataByData(t)}},initBetDataByData:function(t){var e=t.tai,i=t.xiu,n=e.total_players,o=e.total_bet,s=e.my_bet,a=i.total_players,r=i.total_bet,c=i.my_bet;this.taiTotalLabel.string=_.numberWithCommas(o),this.taiNumberPlayerLabel.string="("+_.numberWithCommas(n)+")",this.taiMyBetLabel.string=_.numberWithCommas(s),this.xiuTotalLabel.string=_.numberWithCommas(r),this.xiuNumberPlayerLabel.string="("+_.numberWithCommas(a)+")",this.xiuMyBetLabel.string=_.numberWithCommas(c),this.initUpdateTotalBetEffect()},initUpdateTotalBetEffect:function(){this.taiTotalLabel.node.stopAllActions(!0),this.taiTotalLabel.node.scale=1,this.taiTotalLabel.node.runAction(cc.sequence(cc.scaleTo(.1,1.15),cc.scaleTo(.1,1))),this.xiuTotalLabel.node.stopAllActions(!0),this.xiuTotalLabel.node.scale=1,this.xiuTotalLabel.node.runAction(cc.sequence(cc.scaleTo(.1,1.15),cc.scaleTo(.1,1)))},initHistories:function(){this.data&&this.data.histories&&(this.histories=this.data.histories,this.TaiXiuHistory.initHistories(this.histories),this.TaiXiuHistoryGame.init(this.histories))},initChat:function(){this.data&&this.TaiXiuChat.initChat(this.data.chat)},initPlate:function(){this.TaiXiuState.isBetting()&&this.TaiXiuPlate.reset()},initDices:function(t){this.data&&(this.data.dice||this.data.dices?t?(this.data.dice=this.data.histories[0].dices,this.TaiXiuDice.show(this.data,!1,t),this.TaiXiuDice.showEffectTaiXiuResult(this.data),this.TaiXiuPlate.hideAll()):this.TaiXiuPlate.isNan()?(this.TaiXiuDice.show(this.data,!1,t),this.TaiXiuPlate.showPlateMove()):(this.TaiXiuDice.show(this.data,!0,t),this.TaiXiuPlate.hideAll()):this.TaiXiuDice.hide())},initResultByTime:function(){clearTimeout(this.resultTimeout);var t=this.TaiXiuPlate.isNan()?1e4:2e3;this.resultTimeout=setTimeout(function(){this.initResult()}.bind(this),t),this.TaiXiuPlate.hidePlateRealNode()},initResult:function(){if(clearTimeout(this.resultTimeout),this.data){var t=this.data;if(t&&this.TaiXiuState.isFinish()){var e=parseInt(t.tai_xiu_money_change),i=parseInt(t.tai_xiu_gold_change),n="tai"===t.result?"T\xe0i":"X\u1ec9u",o=this.isMoneyType?e:i;this.dataBlanceDoor&&o>0&&(o+=this.isMoneyType?this.dataBlanceDoor.tai_xiu_money_my_bet:this.dataBlanceDoor.tai_xiu_gold_my_bet),0!==parseFloat(o)&&this.MiniGameResult.show(o,n),this.TaiXiuPlate.hideAll(),this.TaiXiuDice.showEffectTaiXiuResult(t),this.initHistories(),this.initChain()}}},initBalanceDoor:function(){var t=this.data;if(this.dataBlanceDoor={},t){var e=parseInt(t.money_return),i=parseInt(t.gold_return),n=this.isMoneyType?e:i,o=t.tai_xiu_gold,s=t.tai_xiu_money,a=o.tai.my_bet?o.tai.my_bet:o.xiu.my_bet,r=s.tai.my_bet?s.tai.my_bet:s.xiu.my_bet;this.dataBlanceDoor.tai_xiu_gold_my_bet=a,this.dataBlanceDoor.tai_xiu_money_my_bet=r,this.TaiXiuTime.setTime(0),0!==parseFloat(n)?this.MiniGameResult.show(n,S.TAIXIU_BALANCE_DOOR):this.showMessage(S.TAIXIU_BALANCE_DOOR)}},startTimeGetFinish:function(){clearTimeout(this.timeOutGetFinish),this.timeOutGetFinish=setInterval(function(){this.sendRequest.sendNoPrefixToZone(s.GET_FINISH),clearTimeout(this.timeOutGetFinish)}.bind(this),1e3*s.TIME_GET_FINISH)},onTaiClick:function(){this.TaiXiuQuickSelect.node.active?this.isSelectTai||(this.setXiu(0),this.hideBetXiuNode()):(this.setTai(0),this.setXiu(0),this.TaiXiuQuickSelect.node.active=!0),this.showBetTaiNode(),this.isSelectTai=!0},onXiuClick:function(){this.TaiXiuQuickSelect.node.active?this.isSelectTai&&(this.setTai(0),this.hideBetTaiNode()):(this.setTai(0),this.setXiu(0),this.TaiXiuQuickSelect.node.active=!0),this.showBetXiuNode(),this.isSelectTai=!1},onTaiXiuClick:function(){this.setShowTaiXiu(!this.isShow)},onEventChainClick:function(){this.controller.MiniGame.TaiXiuChain.showDialog()},onHistoryGameClick:function(){this.TaiXiuHistoryGame.node.active=!this.TaiXiuHistoryGame.node.active},onCloseClick:function(){this.setShowTaiXiu(!1)},onShowTaiXiuClick:function(){this.TaiXiuHistoryGame.showTaiXiuContentNode()},onBetClick:function(){var t=parseFloat(_.getOnlyNumberInString(this.taiLabel.string)),e=parseFloat(_.getOnlyNumberInString(this.xiuLabel.string));if(t&&e)this.showMessage(S.TAIXIU_YOU_ONLE_BET_A_DOOR);else if(t){var i={amount:t,type:s.TAI,room_type:this.isMoneyType?f.MONEY_CODE:f.GOLD_CODE};this.sendRequest.sendNoPrefixToZone(s.BET,i),this.resetEditBox(),this.TaiXiuQuickSelect.node.active=!1}else if(e){var n={amount:e,type:s.XIU,room_type:this.isMoneyType?f.MONEY_CODE:f.GOLD_CODE};this.sendRequest.sendNoPrefixToZone(s.BET,n),this.resetEditBox(),this.TaiXiuQuickSelect.node.active=!1}else this.showMessage(S.TAIXIU_YOU_NOT_BET)},onHelpClick:function(){this.controller.Tutorial.showDialog(),this.controller.Tutorial.showTutorialByGameName(g.TAI_XIU)},onHistoriesClick:function(){this.controller.MiniGame.GameMiniHistory.showTaiXiuHistories(),this.controller.MiniGame.GameMiniHistory.showDialog()},onRankClick:function(){this.controller.MiniGame.GameMiniRank.setMiniGameName(I.TAIXIU),this.controller.MiniGame.GameMiniRank.showDialog(),this.isMoneyType?this.controller.MiniGame.GameMiniRank.onMoneyClick():this.controller.MiniGame.GameMiniRank.onGoldClick()},onGoldClick:function(){this.setTypeRoom(!this.isMoneyType)},onMoneyClick:function(){this.setTypeRoom(!this.isMoneyType)},showMessage:function(t){var e=cc.instantiate(this.toastPrefab);e.setScale(N.MINIGAME_SCALE_TOAST),e.setPosition(N.MINIGAME_POSITION_TOAST_X,N.MINIGAME_POSITION_TOAST_Y),e.parent=this.node,e.getComponent("Toast").showToast(t)},setTypeRoom:function(t){this.isMoneyType=t,this.moneyNode.active=t,this.goldNode.active=!t,this.initTaiXiuData(this.data),this.TaiXiuQuickSelect.node.active=!1},setTai:function(t){_.numberWithCommas(t).length<=N.TAI_XIU_MAX_LENGTH&&(this.taiLabel.string=_.numberWithCommas(t))},getTaiValue:function(){return parseInt(_.getOnlyNumberInString(this.taiLabel.string))||0},setXiu:function(t){_.numberWithCommas(t).length<=N.TAI_XIU_MAX_LENGTH&&(this.xiuLabel.string=_.numberWithCommas(t))},getXiuValue:function(){return parseInt(_.getOnlyNumberInString(this.xiuLabel.string))||0},initTaiXiuData:function(t){if(t){this.data=t;var e=this.isMoneyType?t.tai_xiu_money:t.tai_xiu_gold;if(e){this.time=t.time_remain;var i=e.tai.total_players,n=e.tai.total_bet,o=e.tai.my_bet,s=e.xiu.total_players,a=e.xiu.total_bet,r=e.xiu.my_bet;this.setTimeLabel(this.time),this.taiTotalLabel.string=_.numberWithCommas(n),this.taiNumberPlayerLabel.string="("+_.numberWithCommas(i)+")",this.taiMyBetLabel.string=_.numberWithCommas(o),this.xiuTotalLabel.string=_.numberWithCommas(a),this.xiuNumberPlayerLabel.string="("+_.numberWithCommas(s)+")",this.xiuMyBetLabel.string=_.numberWithCommas(r)}}},resetBetValue:function(){this.taiLabel.string="",this.xiuLabel.string=""},timeDefault:function(){this.timeBettingLabel.node.getComponent(cc.Animation).stop(),this.timeBettingLabel.node.opacity=255,this.timeBettingLabel.node.color=new cc.Color(46,255,128,255),this.timeBettingLabel.node.scale=1},timeAnimation:function(){this.timeBettingLabel.node.getComponent(cc.Animation).play()},getTaiXiuData:function(){return this.data},showBetTaiNode:function(){},showBetXiuNode:function(){},hideBetTaiNode:function(){},hideBetXiuNode:function(){},getResultTaiXiu:function(t){for(var e=0,i=0,n=t.length;i<n;i++)e+=t[i];return e>=s.MIN_TAI?"tai":"xiu"},reset:function(){this.setTimeLabel(0),this.timeDefault(),this.dataFinish=[],this.taiTotalLabel.string=_.numberWithCommas(0),this.taiNumberPlayerLabel.string="("+_.numberWithCommas(0)+")",this.taiMyBetLabel.string=_.numberWithCommas(0),this.xiuTotalLabel.string=_.numberWithCommas(0),this.xiuNumberPlayerLabel.string="("+_.numberWithCommas(0)+")",this.xiuMyBetLabel.string=_.numberWithCommas(0),this.TaiXiuDice.hide(),this.MiniGameResultTaiXiu.reset(),this.MiniGameResult.reset(),this.TaiXiuPlate.reset()}}),cc._RF.pop()},{"../../../base/BaseController":"BaseController","../../../helper/Config":"Config","../../../helper/Constant":"Constant","../../../helper/Message":"Message","../../../object/RoomType":"RoomType","../../../util/FormatUtil":"FormatUtil","../MiniGameConstant":"MiniGameConstant","../MiniGameResult":"MiniGameResult","../MiniGameResultTaiXiu":"MiniGameResultTaiXiu","./TaiXiuChat":"TaiXiuChat","./TaiXiuConstant":"TaiXiuConstant","./TaiXiuDice":"TaiXiuDice","./TaiXiuHistory":"TaiXiuHistory","./TaiXiuHistoryGame":"TaiXiuHistoryGame","./TaiXiuPlate":"TaiXiuPlate","./TaiXiuQuickSelect":"TaiXiuQuickSelect","./TaiXiuState":"TaiXiuState","./TaiXiuTime":"TaiXiuTime"}],TanLocHistories:[function(t,e,i){"use strict";cc._RF.push(e,"cb812acPLJNi4y8r7PTAHuf","TanLocHistories");t("../../../../helper/Message");var n=t("../../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,moneyButtonNode:cc.Node,goldButtonNode:cc.Node,tanLocButtonNode:cc.Node,huLocButtonNode:cc.Node,historyTanLocItemPrefab:cc.Prefab,historyScrollView:cc.ScrollView},init:function(t){this.controller=t},onLoad:function(){},onEnable:function(){this.onMoneyClick(),this.onTanLocClick()},onDisable:function(){this.removeXhr()},onMoneyClick:function(){this.goldButtonNode.active=!0,this.moneyButtonNode.active=!1},onGoldClick:function(){this.goldButtonNode.active=!1,this.moneyButtonNode.active=!0},loadDataTanLoc:function(){var t=this;if(this.dataTanLoc)this.initData(this.dataTanLoc);else{var e={token:this.controller.getToken(),user_id:this.controller.getUserId()};this.showLoadingNode(),this.xhr1=this.controller.api.logTanLoc(e,function(e){t.dataTanLoc=e.data,t.isRankTanLocType()&&t.initData(t.dataTanLoc)},function(t){})}},loadDataHuLoc:function(){var t=this;if(this.dataHuLoc)this.initData(this.dataHuLoc);else{var e={token:this.controller.getToken(),user_id:this.controller.getUserId()};this.showLoadingNode(),this.xhr2=this.controller.api.logHuLoc(e,function(e){t.dataHuLoc=e.data,t.isRankTanLocType()||t.initData(t.dataHuLoc)},function(t){})}},initData:function(t){if(this.showListNode(),this.historyScrollView.content.removeAllChildren(),t)for(var e in t=n.deDuplicate(t)){var i=cc.instantiate(this.historyTanLocItemPrefab);i.parent=this.historyScrollView.content,i.getComponent("TanLocHistoryItem").init(t[e],e)}},onTanLocClick:function(){this.hideAllButton(),this.huLocButtonNode.active=!0,this.initData(this.dataTanLoc)},onHuLocClick:function(){this.hideAllButton(),this.tanLocButtonNode.active=!0,this.initData(this.dataHuLoc)},hideAllButton:function(){this.tanLocButtonNode.active=!1,this.huLocButtonNode.active=!1},getType:function(){return this.moneyOnButtonNode.active?0:1},isMoneyType:function(){return this.goldButtonNode.active},isRankTanLocType:function(){return this.tanLocButtonNode.active},showLoadingNode:function(){this.loadingNode.active=!0,this.historyScrollView.node.active=!1},showListNode:function(){this.loadingNode.active=!1,this.historyScrollView.node.active=!0},removeXhr:function(){this.xhr1&&(this.xhr1.abort(),this.xhr1=null),this.xhr2&&(this.xhr2.abort(),this.xhr2=null)}}),cc._RF.pop()},{"../../../../helper/Message":"Message","../../../../util/FormatUtil":"FormatUtil"}],TanLocHistoryItem:[function(t,e,i){"use strict";cc._RF.push(e,"a14f7KHksZHRrvbkW+9WvCy","TanLocHistoryItem");var n=t("../../../util/FormatUtil"),o=t("../../../util/Util");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,timeLabel:cc.Label,prefixNickNameLabel:cc.Label,nameLabel:cc.Label,amountLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e){if(this.data=t,t){var i=t.time||t.created_at||t.createdAt;i>=1e10&&(i=parseInt(t.created_at/1e3)),this.timeLabel.string=n.getStringDateByTimeStamp(i),this.amountLabel.string=n.numberWithCommas(t.amount),this.prefixNickNameLabel.string=o.getServerID(t.server_id||t.serverId),this.nameLabel.string=t.nick_name||t.nickname;var s=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=s,this.prefixNickNameLabel.node.color=new cc.Color(255,173,0,255),this.nameLabel.node.color=new cc.Color(255,244,141,255)}},onLoad:function(){}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil","../../../util/Util":"Util"}],TanLocRankItem:[function(t,e,i){"use strict";cc._RF.push(e,"1792c56jatHHIopDkXpXi/D","TanLocRankItem");var n=t("../../../util/FormatUtil"),o=t("../../../util/Util");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,noLabel:cc.Label,timeLabel:cc.Label,prefixNickNameLabel:cc.Label,nameLabel:cc.Label,amountLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e){if(this.data=t,t){var i=t.time||t.created_at||t.createdAt;i>=1e10&&(i=parseInt(t.created_at/1e3)),this.noLabel.string=e+1,this.timeLabel.string=n.getStringDateByTimeStamp(i);var s=t.amount>0?t.amount:-t.amount;this.amountLabel.string=n.numberWithCommas(s),this.prefixNickNameLabel.string=o.getServerID(t.server_id||t.serverId),this.nameLabel.string=t.nick_name||t.nickname;var a=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=a,this.prefixNickNameLabel.node.color=new cc.Color(255,173,0,255),this.nameLabel.node.color=new cc.Color(255,244,141,255)}},onLoad:function(){}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil","../../../util/Util":"Util"}],TanLocState:[function(t,e,i){"use strict";cc._RF.push(e,"27ebbX+pwhMSIoaaIhLTMdn","TanLocState");e.exports={currentState:null,WAITTING:"WAITTING",REGISTER:"REGISTER",setState:function(t){this.currentState=t},setWaitting:function(){this.currentState=this.WAITTING},setRegister:function(){this.currentState=this.REGISTER},isWaitting:function(){return this.currentState===this.WAITTING},isRegister:function(){return this.currentState===this.REGISTER}},cc._RF.pop()},{}],TanLoc:[function(t,e,i){"use strict";cc._RF.push(e,"21aedt+6ZZJDptda0nUSpq/","TanLoc");var n=t("../../../helper/Message"),o=(t("../MiniGameConstant"),t("./BonusConstant")),s=t("./TanLocState"),a=t("../../../util/FormatUtil"),r=t("../../../util/Util");cc.Class({extends:cc.Component,properties:{tanLocSkeleton:sp.Skeleton,timeRutLocLabel:cc.Label,numberRutNode:cc.Node,numberRutLabel:cc.Label,bankLabel:cc.Label},init:function(t){this.BonusEvent=t},onLoad:function(){this.intervalTime=null,this.TanLocState=s},addEvent:function(){this.resetPhatLoc(),this.removeIntervalTime(),this.BonusEvent.sendRequest.sendNoPrefixToZone(o.TAN_LOC_ADD_EVENT)},removeEvent:function(){this.removeIntervalTime(),this.BonusEvent.sendRequest.sendNoPrefixToZone(o.TAN_LOC_REMOVE_EVENT)},handleRequest:function(t){if(t.status){var e=t.data.game_cmd,i=t.data.game_data,n=t.data.game_msg;switch(e){case o.INFO:this.handleInfo(i);break;case o.TAN_LOC:this.handleTanLoc(i);break;case o.RUT_LOC:this.handleRutLoc(i);break;case o.PHAT_LOC:this.handlePhatLoc(i);break;case o.PLAYER_RUT_LOC:this.handlePlayerRutLoc(i);break;case o.MESSAGE:this.handleMessage(n);break;case o.CHANGE_NUMBER_RUT_LOC:this.handleChangeNumberRutLoc(i);break;case o.GET_TOP_2:this.BonusEvent.controller.MiniGame.Event.EventTanLoc.initData(i)}}},handleInfo:function(t){this.dataTanLoc=t,this.TanLocState.setState(t.game_state);var e=t.number_rut_loc||0,i=t.bank||0;this.setValueBank(i),this.setValueNumberRutLoc(e),this.setBank,this.TanLocState.isRegister()?(this.resetRutLoc(),this.startIntervalTime(t.time)):this.resetPhatLoc()},handleTanLoc:function(t){var e={nick_name:"Th\xf4ng b\xe1o"},i=r.getServerID(t.server_id)+t.nick_name;e.msg=String.format(n.TAN_LOC_REGISTER,i,a.numberWithCommas(t.amount)),this.BonusEvent.controller.MiniGame.TaiXiu.TaiXiuChat.addChat(e),this.dataTanLoc.list_tan_loc.push(t);var o=t.bank||0;this.setValueBank(o)},handleRutLoc:function(t){this.TanLocState.setRegister(),this.resetRutLoc(),this.startIntervalTime(t.time||t.TIME)},handlePlayerRutLoc:function(t){var e=this.BonusEvent.getUser().nick_name;r.getServerIdByShowNickName(this.BonusEvent.getUser().show_nickname);if(t.nick_name===e){this.BonusEvent.showMessage(n.HU_LOC_REGISTER);var i=parseInt(this.numberRutLabel.string)-1;i=i>=0?i:0,this.setValueNumberRutLoc(i)}},handlePhatLoc:function(t){this.TanLocState.setWaitting(),this.resetPhatLoc();var e=this.getMoneyPhatLoc(t.list_phat_loc);if(e){var i=String.format(n.TAN_LOC_MESSAGE,a.numberWithCommas(e));this.BonusEvent.controller.showDialogMessage(n.NOTIFICATION_TITLE,i)}var o=t.bank||0;this.setValueBank(o)},handleChangeNumberRutLoc:function(t){var e=t.number_rut_loc||0;this.setValueNumberRutLoc(e)},handleMessage:function(t){this.BonusEvent.showMessage(t)},setValueNumberRutLoc:function(t){this.numberRutLabel.string=a.numberWithCommas(t)},setValueBank:function(t){this.bankLabel.string=a.numberWithCommas(t)},startIntervalTime:function(t){this.tanLocSkeleton.setAnimation(0,"animation",!0),this.removeIntervalTime(),this.timeRemain=t,this.timeRutLocLabel.string=a.numberToTime(this.timeRemain),this.intervalTime=setInterval(function(){this.timeRemain--,this.timeRemain>=0&&(this.timeRutLocLabel.string=a.numberToTime(this.timeRemain))}.bind(this),1e3)},onRutLocClick:function(){1==this.BonusEvent.getUser().status_value?this.TanLocState.isRegister()?this.BonusEvent.tanLocRutLoc():this.BonusEvent.showMessage("Ch\u01b0a ph\u1ea3i th\u1eddi gian xin r\xfat l\u1ed9c"):this.BonusEvent.showFormBonusMessage()},onTanLocClick:function(){this.BonusEvent.showFormBonusMoney()},onShowHideNumberRutNode:function(){this.numberRutNode.active=!this.numberRutNode.active},onTanLocRankClick:function(){this.BonusEvent.controller.MiniGame.Event.showDialog(),this.BonusEvent.controller.MiniGame.Event.onTanLocClick()},onTanLocHistory:function(){this.BonusEvent.controller.MiniGame.Event.showDialog(),this.BonusEvent.controller.MiniGame.Event.onRutLocClick()},removeIntervalTime:function(){clearInterval(this.intervalTime)},resetRutLoc:function(){this.timeRutLocLabel.node.active=!0},resetPhatLoc:function(){this.timeRutLocLabel.node.active=!1,this.tanLocSkeleton.clearTrack(0)},getMoneyPhatLoc:function(t){var e=this.BonusEvent.getUser().nick_name;r.getServerIdByShowNickName(this.BonusEvent.getUser().show_nickname);for(var i in t)if(e===t[i].nick_name)return t[i].amount;return 0}}),cc._RF.pop()},{"../../../helper/Message":"Message","../../../util/FormatUtil":"FormatUtil","../../../util/Util":"Util","../MiniGameConstant":"MiniGameConstant","./BonusConstant":"BonusConstant","./TanLocState":"TanLocState"}],Toast:[function(t,e,i){"use strict";cc._RF.push(e,"99c39Jks9ZIfplJXMIlCr3g","Toast");var n=t("../helper/Config");cc.Class({extends:cc.Component,properties:{toastLabel:cc.Label},onLoad:function(){this.timeOutHideToast=null,this.timeOutActiveToast=null},onDestroy:function(){this.clearTimeOut()},showToast:function(t){this.clearTimeOut(),this.setMessage(t),this.node.active=!0,this.node.getComponent(cc.Animation).play("ShowToastAnimation"),this.timeOutHideToast=setTimeout(function(){this.hideToast()}.bind(this),1e3*n.TOAST_TIME_OUT)},hideToast:function(){this.node.active&&this.node.getComponent(cc.Animation).play("HideToastAnimation"),this.timeOutActiveToast=setTimeout(function(){this.node.active=!1,this.setMessage("")}.bind(this),100)},setMessage:function(t){this.toastLabel.string=t},clearTimeOut:function(){clearTimeout(this.timeOutHideToast),clearTimeout(this.timeOutActiveToast)}}),cc._RF.pop()},{"../helper/Config":"Config"}],Toggle:[function(t,e,i){"use strict";cc._RF.push(e,"04b58sGEXZCxbwlg/Ri/Rtb","Toggle");var n=t("../../helper/Config");cc.Class({extends:cc.Component,properties:{isOn:!0,toggleNode:cc.Node,toggleNodeDistance:17,toggleSprite:cc.Sprite,toggleOnSpriteFrame:cc.SpriteFrame,toggleOffSpriteFrame:cc.SpriteFrame,toggleBgSprite:cc.Sprite,toggleBgOnSpriteFrame:cc.SpriteFrame,toggleBgOffSpriteFrame:cc.SpriteFrame},onLoad:function(){},onClick:function(){this.toggleNode.stopAllActions(),this.isOn?(this.isOn=!1,this.toggleSprite.spriteFrame=this.toggleOffSpriteFrame,this.toggleBgSprite.spriteFrame=this.toggleBgOffSpriteFrame,this.toggleNode.runAction(cc.moveTo(n.TOGGLE_TIME_ANIMATION,-this.toggleNodeDistance,-4))):(this.isOn=!0,this.toggleSprite.spriteFrame=this.toggleOnSpriteFrame,this.toggleBgSprite.spriteFrame=this.toggleBgOnSpriteFrame,this.toggleNode.runAction(cc.moveTo(n.TOGGLE_TIME_ANIMATION,this.toggleNodeDistance,-4)))},setOn:function(){this.isOn=!0,this.toggleSprite.spriteFrame=this.toggleOnSpriteFrame,this.toggleBgSprite.spriteFrame=this.toggleBgOnSpriteFrame,this.toggleNode.x=this.toggleNodeDistance},setOff:function(){this.isOn=!1,this.toggleSprite.spriteFrame=this.toggleOffSpriteFrame,this.toggleBgSprite.spriteFrame=this.toggleBgOffSpriteFrame,this.toggleNode.x=-this.toggleNodeDistance},isChecked:function(){return this.isOn}}),cc._RF.pop()},{"../../helper/Config":"Config"}],Track:[function(t,e,i){"use strict";cc._RF.push(e,"29c5bJMlp5H7IcDbfjfl7gr","Track");var n={addTrackCompleteRegistration:function(){cc.sys.isBrowser&&window.fbq&&fbq("track","CompleteRegistration")},addTrackPurchase:function(){cc.sys.isBrowser&&window.fbq&&fbq("track","Purchase",{value:0,currency:"USD"})},addTrackLead:function(){cc.sys.isBrowser&&window.fbq&&fbq("track","Lead")}};e.exports=n,cc._RF.pop()},{}],TransferAgent:[function(t,e,i){"use strict";cc._RF.push(e,"860ddt7+lVCOISjpygGpwEH","TransferAgent"),cc.Class({extends:cc.Component,properties:{agentItemPrefab:cc.Prefab,listAgentScrollView:cc.ScrollView},init:function(t){this.GameCenter=t},onLoad:function(){},onEnable:function(){this.initData()},initData:function(){this.listAgentScrollView.content.removeAllChildren(!0),this.GameCenter.shuffleListAgent();var t=this.GameCenter.getListAgent(),e=0;if(t)for(var i=0;i<t.length;i++)if(0===t[i].type){var n=cc.instantiate(this.agentItemPrefab);n.getComponent("AgentItem").init(this.GameCenter,e,t[i]),n.parent=this.listAgentScrollView.content,this.nickNameSelected===t[i].nick_name&&n.getComponent("AgentItem").showBgNode(),e++}},showData:function(t){var e=!1;this.nickNameSelected=t;for(var i=this.listAgentScrollView.content.getChildren(),n=0;n<i.length;n++){i[n].getComponent("AgentItem").data.nick_name===t?(i[n].getComponent("AgentItem").showBgNode(),e=!0):i[n].getComponent("AgentItem").hideBgNode()}e?this.GameCenter.GameRecharge.Transfer.TransferContent.showTick():this.GameCenter.GameRecharge.Transfer.TransferContent.hideTick()},checkIsAgent:function(t){var e=this.GameCenter.getListAgent();if(e)for(var i=0;i<e.length;i++)if(t===e[i].nick_name)return!0;return!1},hideAllBgAgent:function(){for(var t=this.listAgentScrollView.content.getChildren(),e=0;e<t.length;e++)t[e].getComponent("AgentItem").hideBgNode()}}),cc._RF.pop()},{}],TransferContent:[function(t,e,i){"use strict";var n;function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}cc._RF.push(e,"55048JpUl9HroKSkZDJMts9","TransferContent");var s=t("../../../../util/FormatUtil"),a=t("../../../../helper/Constant"),r=t("../../../../helper/Message");cc.Class((o(n={extends:cc.Component,properties:{nicknameEditBox:cc.EditBox,reNicknameEditBox:cc.EditBox,valueEditBox:cc.EditBox,noteEditBox:cc.EditBox,otpEditBox:cc.EditBox,moneyLabel:cc.Label,moneyNeedLabel:cc.Label,rateAgentLabel:cc.Label,ratePlayerLabel:cc.Label,smsButtonNode:cc.Node,otpButtonNode:cc.Node,tickNode:cc.Node},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI,this.TransferAgent=this.GameCenter.GameRecharge.Transfer.TransferAgent},onLoad:function(){this.editboxs=[this.nicknameEditBox,this.reNicknameEditBox,this.valueEditBox,this.noteEditBox],this.clear()},onEnable:function(){this.initData()},initData:function(){var t=this.GameCenter.getConfig().agent_transter_fee;this.rateAgentLabel.string=100*t+"%";var e=this.GameCenter.getConfig().player_transter_fee;this.ratePlayerLabel.string=100*e+"%",this.moneyNeedLabel.string=0,this.initMoney()},initMoney:function(){this.moneyLabel.string=s.numberWithCommas(this.GameCenter.getMoney())},onConfirmClick:function(){var t=this.nicknameEditBox.string,e=this.reNicknameEditBox.string,i=parseInt(s.getOnlyNumberInString(this.valueEditBox.string)),n=this.noteEditBox.string,o=this.otpEditBox.string;this.checkAllEditboxNotEmpty()?t===e?i>0?this.transfer(t,i,n,o):this.GameCenter.showDialogMessage(r.TRANSFER_TITLE,r.VALUE_LARGER_ZERO):this.GameCenter.showDialogMessage(r.TRANSFER_TITLE,r.RE_NICKNAME_NOT_CORRECT):this.GameCenter.showDialogMessage(r.TRANSFER_TITLE,r.MISSING_INFO)},onOTPClick:function(){this.GameCenter.Audio.playClick();var t=this.GameCenter.getGeneralConfig(),e="";if(t){var i=t.OTP_FORGOT_PASS;if(i){var n=i.content,o=i.service_number,s=n.replace(r.RECHARGE_SMS_TENDANGNHAP,this.GameCenter.getUser().username);if(s=encodeURIComponent(s.trim()),this.GameCenter.isAndroid()?e=r.RECHARGE_SMS_ANDROID:this.GameCenter.isIOS()&&(e=r.RECHARGE_SMS_IOS),e){var a=String.format(e,o,s);cc.sys.openURL(a)}}}},onGetOtpClick:function(){this.GameCenter.showProcessingNode(),this.GameCenter.sendRequest.sendToZone(a.REQUEST_GET_OTP)}},"onOTPClick",function(){this.smsButtonNode.active=!0,this.otpButtonNode.active=!1}),o(n,"onSMSClick",function(){this.smsButtonNode.active=!1,this.otpButtonNode.active=!0}),o(n,"checkAllEditboxNotEmpty",function(){for(var t in this.editboxs)if(""===this.editboxs[t].string)return!1;return!0}),o(n,"transfer",function(t,e,i,n){this.GameCenter.showProcessingNode();var o={to_nickname:t,amount:e,reason:i,type_card:this.selectedCard,otp:n};this.GameCenter.sendRequest.sendToZone(a.REQUEST_TRANSFER,o)}),o(n,"onMoneyChange",function(){var t=this.valueEditBox.string,e=s.numberWithCommas(s.getOnlyNumberInString(t));this.valueEditBox.string=e;var i=this.nicknameEditBox.string,n=this.GameCenter.getConfig().player_transter_fee;this.TransferAgent.checkIsAgent(i)&&(n=this.GameCenter.getConfig().agent_transter_fee);var o=parseInt(s.getOnlyNumberInString(this.valueEditBox.string));o*=1-parseFloat(n),this.moneyNeedLabel.string=s.numberWithCommas(o)}),o(n,"onNickNameChange",function(){this.TransferAgent.showData(this.nicknameEditBox.string),this.onMoneyChange()}),o(n,"showData",function(t){this.nicknameEditBox.string=t,this.reNicknameEditBox.string=t,this.TransferAgent.showData(t),this.onMoneyChange()}),o(n,"showTick",function(){this.tickNode.active=!0}),o(n,"hideTick",function(){this.tickNode.active=!1}),o(n,"clear",function(){this.nicknameEditBox.string="",this.reNicknameEditBox.string="",this.valueEditBox.string="",this.noteEditBox.string="",this.initData(),this.hideTick()}),n)),cc._RF.pop()},{"../../../../helper/Constant":"Constant","../../../../helper/Message":"Message","../../../../util/FormatUtil":"FormatUtil"}],Transfer:[function(t,e,i){"use strict";cc._RF.push(e,"d4b3dGPryJFmIG36138rDlS","Transfer");var n=t("./tranfser/TransferAgent"),o=t("./tranfser/TransferContent");cc.Class({extends:cc.Component,properties:{backButtonNode:cc.Node,TransferAgent:n,TransferContent:o},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI,this.TransferAgent.init(t),this.TransferContent.init(t)},onLoad:function(){},onEnable:function(){},onDisable:function(){},onBackClick:function(){this.GameCenter.Audio.playClick(),this.node.active=!1}}),cc._RF.pop()},{"./tranfser/TransferAgent":"TransferAgent","./tranfser/TransferContent":"TransferContent"}],TrenDuoiCard:[function(t,e,i){"use strict";cc._RF.push(e,"a6c798zoYNB/5yKohhgQmWt","TrenDuoiCard");var n=cc.Enum({Spade:1,Club:2,Heart:3,Diamon:4}),o="NAN,A,2,3,4,5,6,7,8,9,10,J,Q,K".split(",");function s(t){var e=parseInt(t/100),i=t%4;this.trueValue=100*e+i,this.value=e,this.type=i;var s=e,a=++i;s=14===s?1:s,Object.defineProperties(this,{point:{value:s,writable:!1},suit:{value:a,writable:!1},id:{value:13*(a-1)+(s-1),writable:!1},pointName:{get:function(){return o[this.point]}},suitName:{get:function(){return n[this.suit]}},isBlackSuit:{get:function(){return 1===this.suit||2===this.suit}},isRedSuit:{get:function(){return 3===this.suit||4===this.suit}}})}s.prototype.toString=function(){return this.suitName+" "+this.pointName},e.exports=s,cc._RF.pop()},{}],TrenDuoiConstant:[function(t,e,i){"use strict";cc._RF.push(e,"aedc7R91fhMRLoC3Y5JIxWl","TrenDuoiConstant");e.exports={ADD_EVENT:"hilo.ADD_EVENT",REMOVE_EVENT:"hilo.REMOVE_EVENT",REQUEST_START:"hilo.START",REQUEST_CHOOSE:"hilo.CHOOSE",REQUEST_NEW_GAME:"hilo.NEW_GAME",PLAYER_INFO:"PLAYER_INFO",INFO:"INFO",RESULT:"RESULT",FINISH:"FINISH",MESSAGE:"MESSAGE",IS_SHOW:"tren_duoi_is_show",POSITION:"tren_duoi_position",BET_VALUE:"tren_duoi_bet_value",BET_1K:1e3,BET_5K:5e3,BET_10k:1e4,BET_50k:5e4,BET_100k:1e5,BET_500k:5e5,MONEY_TYPE:"tren_duoi_money_type",MONEY_TYPE_GOLD:"GOLD",MONEY_TYPE_MONEY:"MONEY",GET_TOP_2:"GET_TOP",GET_TOP:"hilo.GET_TOP"},cc._RF.pop()},{}],TrenDuoiHistories:[function(t,e,i){"use strict";cc._RF.push(e,"d8b170hwuBNmor3sAZphQ0X","TrenDuoiHistories"),cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,moneyButtonNode:cc.Node,goldButtonNode:cc.Node,historyTrenDuoiItemPrefab:cc.Prefab,historyScrollView:cc.ScrollView},init:function(t){this.controller=t},onLoad:function(){},onEnable:function(){this.data=null,this.onMoneyClick()},onDisable:function(){this.removeXhr()},onMoneyClick:function(){this.goldButtonNode.active=!0,this.moneyButtonNode.active=!1,this.loadData()},onGoldClick:function(){this.goldButtonNode.active=!1,this.moneyButtonNode.active=!0,this.loadData()},loadData:function(){var t=this;if(this.showLoadingNode(),this.historyScrollView.content.removeAllChildren(!0),this.data)this.initData();else{var e={token:this.controller.getToken(),user_id:this.controller.getUserId()};this.controller.api.getHistoryTrenDuoi(e,function(e){t.data=e.data,t.initData()},function(e){t.showListNode(),t.controller.showDialogMessage(Message.HISTORY_TITLE,e.msg)})}},initData:function(){if(this.showListNode(),this.data){var t=this.isMoneyType()?this.data[0]:this.data[1];for(var e in t){var i=cc.instantiate(this.historyTrenDuoiItemPrefab);i.parent=this.historyScrollView.content,i.getComponent("TrenDuoiHistoryItem").init(t[e],e)}}},getType:function(){return this.moneyOnButtonNode.active?0:1},isMoneyType:function(){return this.goldButtonNode.active},showLoadingNode:function(){this.loadingNode.active=!0,this.historyScrollView.node.active=!1},showListNode:function(){this.loadingNode.active=!1,this.historyScrollView.node.active=!0},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{}],TrenDuoiHistoryCardItem:[function(t,e,i){"use strict";cc._RF.push(e,"9c8b1+2usJO2p68FYtOFtP4","TrenDuoiHistoryCardItem"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},init:function(t){this.card=t,this.node.getComponent(cc.Label).string=this.getResultByTrueValue(t)},getResultByTrueValue:function(t){var e=parseInt(t/100);switch(e=" "+(e=11===(e=12===(e=13===(e=14===e?"A":e)?"K":e)?"Q":e)?"J":e),t%4){case 0:e+="\u2660";break;case 1:e+="\u2663";break;case 2:e+="\u2665";break;case 3:e+="\u2666"}return e+" "}}),cc._RF.pop()},{}],TrenDuoiHistoryItem:[function(t,e,i){"use strict";cc._RF.push(e,"6d4ec+pcVVHboRaC+1Rryar","TrenDuoiHistoryItem");var n=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,idLabel:cc.Label,timeLabel:cc.Label,betLabel:cc.Label,resultLabel:cc.Label,getLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e){this.data=t,t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.idLabel.string=t.spin_id,this.timeLabel.string=n.getStringDateByTimeStamp(t.created_at),this.betLabel.string=n.numberWithCommas(t.total_bet_value),this.resultLabel.string=this.getResultBySlotData(t.slot_data),this.getLabel.string=n.numberWithCommas(t.total_prize_value);var i=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=i},onLoad:function(){},getResultBySlotData:function(t){t=JSON.parse(t);var e="";for(var i in t){e+=" ",e+=this.getResultByTrueValue(t[i])}return e},getResultByTrueValue:function(t){var e=parseInt(t/100);switch(e=11===(e=12===(e=13===(e=14===e?"A":e)?"K":e)?"Q":e)?"J":e,t%4){case 0:e+="\u2660";break;case 1:e+="\u2663";break;case 2:e+="\u2665";break;case 3:e+="\u2666"}return e}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil"}],TrenDuoiReel:[function(t,e,i){"use strict";cc._RF.push(e,"21d1a9uG0FHP7rr4pU66Bpk","TrenDuoiReel");var n=t("./TrenDuoiCard"),o=(t("../MiniGameConstant"),t("../../../util/RandomUtil")),s=t("../../../helper/Config"),a=t("../../../helper/Message");cc.Class({extends:cc.Component,properties:{cardPrefab:cc.Prefab},init:function(t){this.TrenDuoi=t,this.TrenDuoiUI=t.TrenDuoiUI,this.MiniGameResult=t.MiniGameResult},onLoad:function(){this.trueValue=null,this.pool=new cc.NodePool;for(var t=0;t<20;t++){var e=cc.instantiate(this.cardPrefab);this.pool.put(e)}this.randomCard()},spin:function(t,e,i,n){this.reset(),this.TrenDuoi.setSpining(!0),this.setCard(this.trueValue),this.trueValue=t,n||this.TrenDuoi.setPlaying(i.status);for(var o=1;o<e;o++){var r=t;o!=e-1&&(r=this.getRandomTrueValue());var c=this.instanceCard(r);c.setPosition(0,o*s.TRENDUOI_DISTANCE_TWO_CARD),c.parent=this.node}var h=(e-1)*s.TRENDUOI_DISTANCE_TWO_CARD*this.node.scaleY,l=h/s.TRENDUOI_SPEED_SPIN_CARD,u=cc.moveTo(l,this.node.x,-h).easing(cc.easeInOut(3)),d=cc.callFunc(function(){this.setCard(t),this.TrenDuoi.setSpining(!1),i&&this.TrenDuoi.node.active&&(n?(this.TrenDuoi.numberAt++,this.TrenDuoiUI.showNumberAt(this.TrenDuoi.numberAt),this.TrenDuoi.addHistoryCardNode(i.card)):(this.TrenDuoi.setPlaying(i.status),i.status?(this.TrenDuoi.checkAt(i.card)&&this.TrenDuoi.numberAt++,this.TrenDuoiUI.showNumberAt(this.TrenDuoi.numberAt),this.TrenDuoi.initBalance(i),this.TrenDuoi.initTime(i),this.TrenDuoi.addHistoryCardNode(i.card)):this.TrenDuoi.showMessage(a.TRENDUOI_LOSE)))},this),m=cc.delayTime(s.TRENDUOI_DELAY_SPIN),p=cc.callFunc(function(){this.setCard(t),this.TrenDuoi.setSpining(!1),n?(this.TrenDuoi.setPlaying(!1),this.TrenDuoiUI.showJackPot(i.amount,this.TrenDuoi.isMoneyType),this.TrenDuoi.reset()):i.status||this.TrenDuoi.reset()},this);this.node.runAction(cc.sequence(u,d,m,p))},getRandomTrueValue:function(){return 100*o.getRandomInt(2,14)+o.getRandomInt(0,3)},randomCard:function(){var t=this.getRandomTrueValue();this.reset(),this.setCard(t)},setCard:function(t){this.trueValue=t;var e=this.instanceCard(t);e.setPosition(0,0),e.parent=this.node},instanceCard:function(t){var e=void 0;this.pool&&(e=this.pool.get()),e||(e=cc.instantiate(this.cardPrefab));var i=e.getComponent("CardController"),o=new n(t);return i.init(o),i.reveal(!0),e.setScale(s.TRENDUOI_SCALE_CARD),e.cardController=i,e},putAllChipToPool:function(){if(this.pool){var t=this.node.getChildren(),e=[];for(var i in t)e.push(t[i]);for(var n in e)this.pool.put(e[n])}},reset:function(){this.node.stopAllActions(!0),this.node.setPosition(this.node.x,0),this.putAllChipToPool()}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../helper/Message":"Message","../../../util/RandomUtil":"RandomUtil","../MiniGameConstant":"MiniGameConstant","./TrenDuoiCard":"TrenDuoiCard"}],TrenDuoiUI:[function(t,e,i){"use strict";cc._RF.push(e,"9de13ntGNlPwomOqgxq1lP5","TrenDuoiUI");t("./TrenDuoiConstant");var n=t("./TrenDuoiReel"),o=(t("./TrenDuoiCard"),t("../../../util/FormatUtil")),s=t("../../../util/RandomUtil"),a=t("../../../helper/Config");cc.Class({extends:cc.Component,properties:{bet1OnLabel:cc.Label,bet1OffLabel:cc.Label,bet2OnLabel:cc.Label,bet2OffLabel:cc.Label,bet3OnLabel:cc.Label,bet3OffLabel:cc.Label,bet4OnLabel:cc.Label,bet4OffLabel:cc.Label,bet5OnLabel:cc.Label,bet5OffLabel:cc.Label,betOnButton1Node:cc.Node,betOffButton1Node:cc.Node,betOnButton2Node:cc.Node,betOffButton2Node:cc.Node,betOnButton3Node:cc.Node,betOffButton3Node:cc.Node,betOnButton4Node:cc.Node,betOffButton4Node:cc.Node,betOnButton5Node:cc.Node,betOffButton5Node:cc.Node,highButtonNode:cc.Node,lowButtonNode:cc.Node,atsNode:[cc.Node],playNode:cc.Node,cardNode:cc.Node,TrenDuoiReel:n,jackpotPrefab:cc.Prefab,jackpotNode:cc.Node},onLoad:function(){},showJackPot:function(t,e){this.jackpotNode.removeAllChildren(!0);var i=cc.instantiate(this.jackpotPrefab);this.jackpotNode.addChild(i),i.getComponent("JackpotEffect").show(t,e),i.position=new cc.Vec2(0,0)},setBetByRoomType:function(t){t?this.setBetMoney():this.setBetGold()},setBetMoney:function(){var t=a.TRENDUOI_LIST_BET_MONEY;this.setBetGoldByList(t[1],t[2],t[3],t[4],t[5])},setBetGold:function(){var t=a.TRENDUOI_LIST_BET_GOLD;this.setBetGoldByList(t[0],t[1],t[2],t[3],t[4])},setBetGoldByList:function(t,e,i,n,s){this.bet1OnLabel.string=o.nFormatter(t),this.bet1OffLabel.string=o.nFormatter(t),this.bet2OnLabel.string=o.nFormatter(e),this.bet2OffLabel.string=o.nFormatter(e),this.bet3OnLabel.string=o.nFormatter(i),this.bet3OffLabel.string=o.nFormatter(i),this.bet4OnLabel.string=o.nFormatter(n),this.bet4OffLabel.string=o.nFormatter(n),this.bet5OnLabel.string=o.nFormatter(s),this.bet5OffLabel.string=o.nFormatter(s)},enableBet1Button:function(){this.hideAllBetButtons(),this.betOnButton1Node.active=!0,this.betOffButton2Node.active=!0,this.betOffButton3Node.active=!0,this.betOffButton4Node.active=!0,this.betOffButton5Node.active=!0},enableBet2Button:function(){this.hideAllBetButtons(),this.betOffButton1Node.active=!0,this.betOnButton2Node.active=!0,this.betOffButton3Node.active=!0,this.betOffButton4Node.active=!0,this.betOffButton5Node.active=!0},enableBet3Button:function(){this.hideAllBetButtons(),this.betOffButton1Node.active=!0,this.betOffButton2Node.active=!0,this.betOnButton3Node.active=!0,this.betOffButton4Node.active=!0,this.betOffButton5Node.active=!0},enableBet4Button:function(){this.hideAllBetButtons(),this.betOffButton1Node.active=!0,this.betOffButton2Node.active=!0,this.betOffButton3Node.active=!0,this.betOnButton4Node.active=!0,this.betOffButton5Node.active=!0},enableBet5Button:function(){this.hideAllBetButtons(),this.betOffButton1Node.active=!0,this.betOffButton2Node.active=!0,this.betOffButton3Node.active=!0,this.betOffButton4Node.active=!0,this.betOnButton5Node.active=!0},hideAllBetButtons:function(){this.betOnButton1Node.active=!1,this.betOffButton1Node.active=!1,this.betOnButton2Node.active=!1,this.betOffButton2Node.active=!1,this.betOnButton3Node.active=!1,this.betOffButton3Node.active=!1,this.betOnButton4Node.active=!1,this.betOffButton4Node.active=!1,this.betOnButton5Node.active=!1,this.betOffButton5Node.active=!1},showNumberAt:function(t){for(var e=0;e<this.atsNode.length;e++)this.atsNode[e].active=e<t},spinCard:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.cardNode.active=!0,this.playNode.active=!1,this.TrenDuoiReel.spin(t,a.TRENDUOI_NUMBER_CARDS_SPIN,e,i)},getRandomTrueValue:function(){return 100*s.getRandomInt(2,14)+s.getRandomInt(0,3)},showPlayNode:function(){this.cardNode.stopAllActions(),this.cardNode.active=!1,this.playNode.active=!0},showCardNode:function(){this.cardNode.active=!0,this.playNode.active=!1},showHighButton:function(){this.highButtonNode.active=!0},showHighDisable:function(){this.highButtonNode.active=!1},showLowButton:function(){this.lowButtonNode.active=!0},showLowDisable:function(){this.lowButtonNode.active=!1},reset:function(){this.showNumberAt(3),this.showPlayNode(),this.showHighButton(),this.showLowButton()}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../util/FormatUtil":"FormatUtil","../../../util/RandomUtil":"RandomUtil","./TrenDuoiCard":"TrenDuoiCard","./TrenDuoiConstant":"TrenDuoiConstant","./TrenDuoiReel":"TrenDuoiReel"}],TrenDuoi:[function(t,e,i){"use strict";cc._RF.push(e,"54272eaJb9MpZioCRBUea7v","TrenDuoi");var n=t("../../../base/BaseController"),o=t("./TrenDuoiConstant"),s=t("./TrenDuoiUI"),a=t("./TrenDuoiReel"),r=t("../MiniGameResult"),c=t("../item/JackpotItem"),h=t("../../../object/JackpotX"),l=t("../../../helper/Config"),u=t("../../../helper/Constant"),d=t("../../../helper/Message"),m=t("../../../object/RoomType"),p=t("../../../util/FormatUtil"),f=t("../MiniGameConstant");cc.Class({extends:n,properties:{idLabel:cc.Label,moneyNode:cc.Node,goldNode:cc.Node,balanceLabel:cc.Label,highBalanceLabel:cc.Label,lowBalanceLabel:cc.Label,timeLabel:cc.Label,historyCardItemPrefab:cc.Prefab,historyCardNode:cc.Node,JackpotItem:c,JackpotX:h,toastPrefab:cc.Prefab,TrenDuoiUI:s,TrenDuoiReel:a,MiniGameResult:r},init:function(t){this.controller=t},onLoad:function(){this._super(),this.data=null,this.isMoneyType=!0,this.betOrder=0,this.numberAt=0,this.playing=!1,this.spining=!1,this.TrenDuoiReel.init(this),this.initTypeRoom(),this.setTypeRoom(this.isMoneyType),this.reset(),this.initData()},onDestroy:function(){clearInterval(this.timeInterval)},onEnable:function(){this.initTempData(),this.sendRequest.sendNoPrefixToZone(o.ADD_EVENT)},onDisable:function(){this.destroyGame()},destroyGame:function(){this.reset(),this.sendRequest.sendNoPrefixToZone(o.REMOVE_EVENT)},initData:function(){this.initSaveData(),this.initTempData()},initTypeRoom:function(){this.isMoneyType=!0,this.getTempData()[o.MONEY_TYPE]===o.MONEY_TYPE_GOLD&&(this.isMoneyType=!1)},initTempData:function(){switch(this.getTempData()[o.BET_VALUE]){case o.BET_1K:this.setBet1();break;case o.BET_10k:this.setBet2();break;case o.BET_50k:this.setBet3();break;case o.BET_100k:this.setBet4();break;case o.BET_500k:this.setBet5();break;default:this.setBet1()}},initSaveData:function(){var t=cc.sys.localStorage.getItem(o.POSITION);t&&(t=JSON.parse(t),this.positionX=t.x,this.positionY=t.y)},handleRequest:function(t){var e=t.game_cmd,i=t.game_data,n=t.game_msg;switch(e){case o.GET_TOP_2:this.controller.MiniGame.GameMiniRank.initDataTop(i);break;case o.PLAYER_INFO:this.handlePlayerInfo(i);break;case o.INFO:this.handleInfo(i);break;case o.RESULT:this.handleResult(i);break;case o.FINISH:this.handleFinish(i);break;case o.MESSAGE:this.handleMessage(n)}this.setSend(!1)},handlePlayerInfo:function(t){this.data=t,this.initDefaultBalanceJackpot(),this.initLastData()},handleInfo:function(t){this.data=t,this.initJackpot()},handleResult:function(t){this.isPlaying()||this.TrenDuoiUI.showNumberAt(0),this.initSpinId(t),this.TrenDuoiUI.spinCard(t.card,t,!1)},handleFinish:function(t){t.win_type===f.WIN_TYPE_JACKPOT?this.TrenDuoiUI.spinCard(t.card,t,!0):this.reset()},handleMessage:function(t){this.showMessage(t)},spin:function(){if(!this.isSend()){this.setSend(!0);var t={money_type:this.isMoneyType?m.MONEY_CODE:m.GOLD_CODE,money_value:this.getCurrentBet()};this.sendRequest.sendNoPrefixToZone(o.SPIN,t),this.MiniGameResult.reset()}},onHelpClick:function(){this.controller.Tutorial.showDialog(),this.controller.Tutorial.showTutorialByGameName(u.TREN_DUOI)},onHistoriesClick:function(){this.controller.MiniGame.GameMiniHistory.showTrenDuoiHistories(),this.controller.MiniGame.GameMiniHistory.showDialog()},onRankClick:function(){this.controller.MiniGame.GameMiniRank.setMiniGameName(f.TREN_DUOI),this.controller.MiniGame.GameMiniRank.showDialog(),this.isMoneyType?this.controller.MiniGame.GameMiniRank.onMoneyClick():this.controller.MiniGame.GameMiniRank.onGoldClick()},onCloseClick:function(){this.setShowTrenDuoi(!1)},onGoldClick:function(){this.isPlaying()?this.showMessage(d.PLAYING_NOT_CHANGE_MONEY_TYPE):(this.isMoneyType?this.betOrder--:this.betOrder++,this.setTypeRoom(!this.isMoneyType))},onMoneyClick:function(){this.isPlaying()?this.showMessage(d.PLAYING_NOT_CHANGE_MONEY_TYPE):(this.isMoneyType?this.betOrder--:this.betOrder++,this.setTypeRoom(!this.isMoneyType))},onBet1ButtonClick:function(){this.isPlaying()?this.showMessage(d.PLAYING_NOT_CHANGE_BET):this.setBet1()},setBet1:function(){this.betOrder=this.isMoneyType?1:0;var t=this.isMoneyType?o.BET_5K:o.BET_1K;this.initDefaultBalanceJackpot(),this.TrenDuoiUI.enableBet1Button(),this.getTempData()[o.BET_VALUE]=t},onBet2ButtonClick:function(){this.isPlaying()?this.showMessage(d.PLAYING_NOT_CHANGE_BET):this.setBet2()},setBet2:function(){this.betOrder=this.isMoneyType?2:1,this.initDefaultBalanceJackpot(),this.TrenDuoiUI.enableBet2Button(),this.getTempData()[o.BET_VALUE]=o.BET_10k},onBet3ButtonClick:function(){this.isPlaying()?this.showMessage(d.PLAYING_NOT_CHANGE_BET):this.setBet3()},setBet3:function(){this.betOrder=this.isMoneyType?3:2,this.initDefaultBalanceJackpot(),this.TrenDuoiUI.enableBet3Button(),this.getTempData()[o.BET_VALUE]=o.BET_50k},onBet4ButtonClick:function(){this.isPlaying()?this.showMessage(d.PLAYING_NOT_CHANGE_BET):this.setBet4()},setBet4:function(){this.betOrder=this.isMoneyType?4:3,this.initDefaultBalanceJackpot(),this.TrenDuoiUI.enableBet4Button(),this.getTempData()[o.BET_VALUE]=o.BET_100k},onBet5ButtonClick:function(){this.isPlaying()?this.showMessage(d.PLAYING_NOT_CHANGE_BET):this.setBet5()},setBet5:function(){this.betOrder=this.isMoneyType?5:4,this.initDefaultBalanceJackpot(),this.TrenDuoiUI.enableBet5Button(),this.getTempData()[o.BET_VALUE]=o.BET_500k},onHighClick:function(){if(!this.isSend())if(this.setSend(!0),this.isPlaying()){this.sendRequest.sendNoPrefixToZone(o.REQUEST_CHOOSE,{choose_value:1}),this.TrenDuoiUI.showHighDisable(),this.TrenDuoiUI.showLowDisable()}else this.showMessage(d.TRENDUOI_CLICK_PLAY)},onLowClick:function(){if(!this.isSend())if(this.setSend(!0),this.isPlaying()){this.sendRequest.sendNoPrefixToZone(o.REQUEST_CHOOSE,{choose_value:0}),this.TrenDuoiUI.showHighDisable(),this.TrenDuoiUI.showLowDisable()}else this.showMessage(d.TRENDUOI_CLICK_PLAY)},onPlayClick:function(){this.play()},play:function(){if(!this.isSend()){this.setSend(!0);var t={money_type:this.isMoneyType?m.MONEY_CODE:m.GOLD_CODE,money_value:this.getCurrentBet()};this.sendRequest.sendNoPrefixToZone(o.REQUEST_START,t),this.MiniGameResult.reset()}},onNewGameClick:function(){this.isSpining()?this.showMessage(d.TRENDUOI_STOP_SPINING):this.isPlaying()?this.sendRequest.sendNoPrefixToZone(o.REQUEST_NEW_GAME):this.showMessage(d.TRENDUOI_CLICK_PLAY)},onTrenDuoiClick:function(){this.setShowTrenDuoi(!this.isShow)},setShowTrenDuoi:function(t){this.node.active=t,this.isShow=t,this.getTempData()[o.IS_SHOW]=t},initJackpot:function(){if(this.data){var t=this.data.gold,e=this.data.money;if(this.isMoneyType){this.JackpotItem.setMoney(e[this.betOrder]);var i=e[6]?e[6]:null;i&&this.JackpotX.showSlotX(i[this.betOrder])}else this.JackpotItem.setMoney(t[this.betOrder]),this.JackpotX.showSlotX(1)}},initDefaultBalanceJackpot:function(){if(this.data){var t=this.data.gold,e=this.data.money;this.isMoneyType?(this.JackpotItem.setMoney(e[this.betOrder]),this.balanceLabel.string=p.numberWithCommas(l.TRENDUOI_LIST_BET_MONEY[this.betOrder])):(this.JackpotItem.setMoney(t[this.betOrder]),this.balanceLabel.string=p.numberWithCommas(l.TRENDUOI_LIST_BET_GOLD[this.betOrder]))}},initLastData:function(){if(this.data){var t=this.data.player_info;if(t&&t.amount){var e=void 0;this.TrenDuoiUI.showCardNode(),this.TrenDuoiReel.setCard(t.card),t.money_type==m.MONEY_CODE?(this.setTypeRoom(!0),e=l.TRENDUOI_LIST_BET_MONEY):(this.setTypeRoom(!1),e=l.TRENDUOI_LIST_BET_GOLD);for(var i=0;i<e.length;i++)if(e[i]===t.spin_fee){switch(i){case 0:this.setBet1();break;case 1:this.setBet2();break;case 2:this.setBet3();break;case 3:this.setBet4();break;case 4:this.setBet5()}break}this.initBalance(t),this.initNumberAt(t),this.initTime(t),this.initSpinId(t),this.initHistoryCards(t),this.playing=!0}else this.reset()}},initBalance:function(t){this.balanceLabel.string=p.numberWithCommas(t.total_prize_amount),null!==t.prize_up?(this.highBalanceLabel.string=p.numberWithCommas(t.prize_up),t.prize_up>0&&this.TrenDuoiUI.showHighButton()):(this.highBalanceLabel.string=p.numberWithCommas(0),this.TrenDuoiUI.showHighDisable()),null!==t.prize_down?(this.lowBalanceLabel.string=p.numberWithCommas(t.prize_down),t.prize_down>0&&this.TrenDuoiUI.showLowButton()):(this.lowBalanceLabel.string=p.numberWithCommas(0),this.TrenDuoiUI.showLowDisable()),t.total_prize_amount>0&&this.MiniGameResult.show(t.total_prize_amount)},initNumberAt:function(t){var e=t.cards;this.numberAt=0;for(var i=0;i<e.length;i++)this.checkAt(e[i])&&this.numberAt++;this.TrenDuoiUI.showNumberAt(this.numberAt)},initSpinId:function(t){this.idLabel.string=String.format(d.MINIGAME_ID,t.spin_id)},initHistoryCards:function(t){this.historyCardNode.removeAllChildren(!0);for(var e=t.cards,i=0;i<e.length;i++)this.addHistoryCardNode(e[i])},addHistoryCardNode:function(t){this.historyCardNode.active=!0;var e=cc.instantiate(this.historyCardItemPrefab);e.getComponent("TrenDuoiHistoryCardItem").init(t),e.parent=this.historyCardNode},initTime:function(t){this.time=t.remain_time,this.time||(this.time=0),this.setTimeLabel(this.time),clearInterval(this.timeInterval),this.timeInterval=setInterval(function(){this.time-=1,this.time<0&&(this.time=0,clearInterval(this.timeInterval)),this.data&&(this.data.remain_time=this.time,this.setTimeLabel(this.time))}.bind(this),1e3)},setTimeLabel:function(t){var e=p.numberToTime(t);this.timeLabel.string=e},showMessage:function(t){var e=cc.instantiate(this.toastPrefab);e.setScale(l.MINIGAME_SCALE_TOAST),e.setPosition(l.MINIGAME_POSITION_TOAST_X,l.MINIGAME_POSITION_TOAST_Y),e.parent=this.node,e.getComponent("Toast").showToast(t)},setTypeRoom:function(t){this.isMoneyType=t,this.moneyNode.active=t,this.goldNode.active=!t,this.initDefaultBalanceJackpot(),this.TrenDuoiUI.setBetByRoomType(this.isMoneyType);var e=this.isMoneyType?o.MONEY_TYPE_MONEY:o.MONEY_TYPE_GOLD;this.getTempData()[o.MONEY_TYPE]=e},getCurrentBet:function(){return(this.isMoneyType?l.TRENDUOI_LIST_BET_MONEY:l.TRENDUOI_LIST_BET_GOLD)[this.betOrder]},setPlaying:function(t){this.playing=t},isPlaying:function(){return this.playing},setSpining:function(t){this.spining=t},isSpining:function(){return this.spining},getNumberAt:function(){return this.numberAt},checkAt:function(t){return 14===parseInt(t/100)},setSend:function(t){this.send=t},isSend:function(){return this.send},reset:function(){this.highBalanceLabel.string="",this.lowBalanceLabel.string="",this.numberAt=0,this.playing=!1,this.spining=!1,this.balanceLabel.string=p.numberWithCommas(this.getCurrentBet()),clearInterval(this.timeInterval),this.setTimeLabel(0),this.historyCardNode.removeAllChildren(),this.historyCardNode.active=!1,this.setSend(!1),this.MiniGameResult.reset(),this.TrenDuoiUI.reset()}}),cc._RF.pop()},{"../../../base/BaseController":"BaseController","../../../helper/Config":"Config","../../../helper/Constant":"Constant","../../../helper/Message":"Message","../../../object/JackpotX":"JackpotX","../../../object/RoomType":"RoomType","../../../util/FormatUtil":"FormatUtil","../MiniGameConstant":"MiniGameConstant","../MiniGameResult":"MiniGameResult","../item/JackpotItem":"JackpotItem","./TrenDuoiConstant":"TrenDuoiConstant","./TrenDuoiReel":"TrenDuoiReel","./TrenDuoiUI":"TrenDuoiUI"}],TutorialItem:[function(t,e,i){"use strict";cc._RF.push(e,"01fd29bClpN15/nE6BfFmba","TutorialItem"),cc.Class({extends:cc.Component,properties:{gameNameOnLabel:cc.Label,gameNameOffLabel:cc.Label,tutorialOnNode:cc.Node,tutorialOffNode:cc.Node},init:function(t,e){this.Tutorial=t,this.data=e,this.gameNameOnLabel.string=this.getGameName(),this.gameNameOffLabel.string=this.getGameName()},onLoad:function(){},select:function(t){this.tutorialOnNode.active=t,this.tutorialOffNode.active=!t},onClick:function(){this.Tutorial.unSelectAll(),this.select(!0),this.Tutorial.initDataSelect(this.data)},getShortName:function(){return this.data.short_name},getGameName:function(){return this.data.game_name||this.data.name},getHelp:function(){return this.data.help||this.data.value}}),cc._RF.pop()},{}],Tutorial:[function(t,e,i){"use strict";cc._RF.push(e,"3fa81ewTvNP26WdCU/2HF1Y","Tutorial");var n=t("../../base/BaseController"),o=t("../../helper/Constant");cc.Class({extends:n,properties:{tutorialGameItemPrefab:cc.Prefab,listGameScrollView:cc.ScrollView,titleLabel:cc.Label,contentScrollView:cc.ScrollView,contentRichText:cc.RichText},init:function(t){this.controller=t},onLoad:function(){this.dialogForm=this.node.getComponent("DialogForm"),this.listGameTutorial=[],this.initData()},initData:function(){this.listGameScrollView.content.removeAllChildren(!0);var t=this.getGeneralConfig();if(t){var e=t.GUIDE;for(var i in e)if(this.checkShowGuide(e[i])){e[i].short_name===o.TLMN&&(e[i].game_name="TLMN \u0110\u1ebfm L\xe1");var n=cc.instantiate(this.tutorialGameItemPrefab);n.parent=this.listGameScrollView.content;var s=n.getComponent("TutorialItem");s.init(this,e[i]),this.listGameTutorial.push(s)}}},checkShowGuide:function(t){switch(t.short_name){case o.TAI_XIU:case o.DIAMOND:case o.TREN_DUOI:case o.BOM:case o.WILD:case o.LUCK_WHEEL:case o.MINI_POKER:case o.MINI_BACAY:case o.MINIGAME_LOTTERY:return!0;default:return!1}},initDataSelect:function(t){t.short_name===o.TLMNSOLO&&(t.game_name="Ti\u1ebfn L\xean Mi\u1ec1n Nam Solo"),t.short_name===o.TLMN&&(t.game_name="Ti\u1ebfn L\xean Mi\u1ec1n Nam \u0110\u1ebfm L\xe1"),this.setTitle(t.game_name||t.name),this.setContent(t.help||t.value)},setTitle:function(t){this.titleLabel.string=t},setContent:function(t){t||(t=""),this.contentRichText.string=t,this.contentScrollView.stopAutoScroll(),this.contentScrollView.scrollToTop()},showTutorialByGameName:function(t){for(var e in this.listGameTutorial)if(this.listGameTutorial[e].getShortName()===t){this.listGameTutorial[e].onClick(!0);break}},unSelectAll:function(){for(var t in this.listGameTutorial)this.listGameTutorial[t].select(!1)},onCloseClick:function(){this.node.active=!1},showDialog:function(){this.node.active=!0},hideDialog:function(){this.node.active=!1}}),cc._RF.pop()},{"../../base/BaseController":"BaseController","../../helper/Constant":"Constant"}],UpdateAvatar:[function(t,e,i){"use strict";cc._RF.push(e,"0237eUzm0xEOItFwmCafyQh","UpdateAvatar");var n=t("../../../helper/Message");cc.Class({extends:cc.Component,properties:{avatarItemPrefab:cc.Prefab,listAvatarNode:cc.Node},init:function(t){this.GameCenter=t},onLoad:function(){this.listAvatar=[],this.dialogForm=this.node.getComponent("DialogForm")},onEnable:function(){this.listAvatarNode.removeAllChildren(!0),this.getListAvatars()},getListAvatars:function(){var t=this.GameCenter.getConfig().list_avatar;this.initAvatars(t)},initAvatars:function(t){this.listAvatar=[];var e=this.listAvatarNode,i=this.GameCenter.getUser().avatar;for(var n in t){var o=cc.instantiate(this.avatarItemPrefab);e.addChild(o);var s=o.getComponent("AvatarItem");s.init(this.GameCenter,t[n]),i===t[n].content&&s.selectAvatar(!0),this.listAvatar.push(s)}},onConfirmClick:function(){if(this.GameCenter.Audio.playClick(),this.getSelectedAvatar()){var t=this.getSelectedAvatar().avatar;this.updateAvatar(t)}},getSelectedAvatar:function(){for(var t in this.listAvatar)if(this.listAvatar[t].isSelected())return this.listAvatar[t];return null},clearSelected:function(){for(var t in this.listAvatar)this.listAvatar[t].selectAvatar(!1)},updateAvatar:function(t){var e=this;this.GameCenter.showProcessingNode();var i={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId(),avatar_id:t.id};this.GameCenter.api.updateAvatar(i,function(i){e.GameCenter.hideProcessingNode(),e.GameCenter.getUser().avatar=t.content,e.GameCenter.GameCenterUI.hideUpdateAvatarFormNode(),e.GameCenter.GameInfo.InfoAccount.loadUserInfo(),e.GameCenter.Header.HeaderAccount.loadUserInfo()},function(t){e.GameCenter.hideProcessingNode(),e.GameCenter.showDialogMessage(n.UPDATE_AVATAR_TITLE,t.msg)})}}),cc._RF.pop()},{"../../../helper/Message":"Message"}],UpdateNickname:[function(t,e,i){"use strict";cc._RF.push(e,"289e4hk1HBHqJVvBKZ2ow1l","UpdateNickname");var n=t("../../../helper/Message"),o=t("../../../helper/Constant");cc.Class({extends:cc.Component,properties:{nicknameEditBox:cc.EditBox},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI},onLoad:function(){},onEnable:function(){this.clear()},onConfirmClick:function(){this.updateNickname()},updateNickname:function(){this.GameCenter.showProcessingNode();var t=this.nicknameEditBox.string,e=this.GameCenter.getUser().username;t?t===e?(this.GameCenter.hideProcessingNode(),this.GameCenter.showDialogMessage(n.SET_NICKNAME_TITLE,n.NICKNAME_DIFFERENT_USERNAME)):this.updateNickName(t):(this.GameCenter.hideProcessingNode(),this.GameCenter.showDialogMessage(n.SET_NICKNAME_TITLE,n.SET_NICKNAME_NICKNAME_NOT_EMPTY))},updateNickName:function(t){var e=this,i={token:this.GameCenter.getToken(),user_id:this.GameCenter.getUserId(),nick_name:t};this.GameCenter.showProcessingNode(),this.GameCenter.api.updateNickname(i,function(i){var n=e.GameCenter.getUser();n.nick_name=t,n.show_nickname=o.SERVER_ID_2_NAME+t,e.GameCenter.connectSFS()},function(t){e.GameCenter.hideProcessingNode(),e.GameCenter.showDialogMessage(n.SET_NICKNAME_TITLE,t.msg)})},clear:function(){this.nicknameEditBox.string=""}}),cc._RF.pop()},{"../../../helper/Constant":"Constant","../../../helper/Message":"Message"}],Util:[function(t,e,i){"use strict";cc._RF.push(e,"f16c6JoQyRF4K6Dg5F6k4k3","Util");var n=t("../helper/Constant"),o=t("../object/RoomType"),s={getGameNameByShortName:function(t){switch(t){case n.BA_CAY:return"Ba C\xe2y";case n.PHOM:return"Ph\u1ecfm";case n.MAU_BINH:return"M\u1eadu Binh";case n.XOC_DIA:return"X\xf3c \u0110\u0129a";case n.SAM:return"S\xe2m";case n.SAMSOLO:return"S\xe2m Solo";case n.TLMN:return"Ti\u1ebfn L\xean Mi\u1ec1n Nam";case n.TLMNSOLO:return"Ti\u1ebfn L\xean Mi\u1ec1n Nam Solo";case n.LIENG:return"Li\xeang";case n.XITO:return"X\xec T\u1ed1";case n.LUCK_WHEEL:return"V\xf2ng Quay May M\u1eafn";case n.TAI_XIU:return"T\xe0i X\u1ec9u";case n.MINI_POKER:return"Mini Poker";case n.MINI_BACAY:return"Mini Ba C\xe2y";case n.DIAMOND:return"Sweet";case n.TREN_DUOI:return"Cao Th\u1ea5p";case n.BAU_CUA:return"Kung Fu Panda";case n.DRAGON_TIGER:return"Long H\u1ed5";case n.LONGVUONG:return"Long V\u01b0\u01a1ng";case n.ZOOMBIES:return"Li\xean Qu\xe2n";case n.ONE001:return"Galaxy";case n.DRAGON:return"Tam Qu\u1ed1c";case n.CLASSIC1:return"Li\xean Qu\xe2n";case n.MODERN_SLOT:return"";case n.BOM:return"Ice Scream";case n.WILD:return"N\xf4ng Tr\u1ea1i"}return t},getVipByMoney:function(t){t=parseInt(t);for(var e=n.VIPS,i=e.length-1;i>=0;i--)if(t>e[i])return i+1;return 0},getShortNameTelcoByName:function(t){var e=cc.V.config.telco;if(e)for(var i in e)if(e[i].name===t)return e[i].short_name;return t},getShortNameRechargeProviderByName:function(t){var e=cc.V.config.recharge_provider;if(e)for(var i in e)if(e[i].name===t)return e[i].short_name;return t},getNameTelcoByShortName:function(t){var e=cc.V.config.telco;if(e)for(var i in e)if(e[i].short_name===t)return e[i].name;return t},getGameConfigByRoomName:function(t){for(var e=cc.V.config.list_game,i=0,n=e.length;i<n;i++)if(t===e[i].short_name)return e[i];return null},getGameNameByRoomName:function(t){for(var e=cc.V.config.list_game,i=0,n=e.length;i<n;i++)if(t===e[i].short_name)return e[i].game_name;return""},getRoomTypeByRoomTypeCode:function(t){switch(t+""){case o.MONEY_CODE:return n.MONEY_NAME;case o.GOLD_CODE:return n.GOLD_NAME;default:return""}},getServerID:function(t){return t===n.SERVER_ID_1?n.SERVER_ID_1_NAME:t===n.SERVER_ID_2?n.SERVER_ID_2_NAME:""},isLobbyRoom:function(t){return t===n.LOBBY||-1!==t.indexOf(n.LOBBY+"_")},isLobbyGame:function(t){return!this.isLobbySlot(t)&&!this.isLobbySlot2(t)&&!this.isLobbySlot3(t)&&!this.isLobbySlot4(t)&&!this.isLobbyRoom(t)&&t.indexOf(n.LOBBY)>-1},isLobbySlot:function(t){return t===n.ZOOMBIES+"_LOBBY"},isLobbySlot2:function(t){return t===n.ONE001+"_LOBBY"},isLobbySlot3:function(t){return t===n.DRAGON+"_LOBBY"},isLobbySlot4:function(t){return t===n.CLASSIC1+"_LOBBY"},getServerIdByShowNickName:function(t){if(t){if(-1!=t.indexOf(n.SERVER_ID_1_NAME.trim()))return n.SERVER_ID_1;if(-1!=t.indexOf(n.SERVER_ID_2_NAME.trim()))return n.SERVER_ID_2}return 1},clearArray:function(t){for(;t.length>0;)t.pop()}};e.exports=s,cc._RF.pop()},{"../helper/Constant":"Constant","../object/RoomType":"RoomType"}],VipAccount:[function(t,e,i){"use strict";cc._RF.push(e,"7f9c6Z/LmpPtbUBqbkmG1y8","VipAccount");var n=t("../../../../helper/Constant"),o=t("../../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{vipIconSprite:cc.Sprite,vipNameLabel:cc.Label,myPointLabel:cc.Label,nextPointLabel:cc.Label,prizeLabel:cc.Label,contentScrolView:cc.ScrollView,vipItemPrefab:cc.Prefab,listVipSprite:[cc.SpriteFrame]},init:function(t){this.GameCenter=t,this.GameCenterUI=t.GameCenterUI},onLoad:function(){},onEnable:function(){this.initInfo()},initInfo:function(){var t=this.GameCenter.getConfig().vip,e=this.GameCenter.getVipPoint();if(t&&e){this.contentScrolView.content.removeAllChildren();for(var i=e.value,n=0,s=t.length;n<s;n++){var a=cc.instantiate(this.vipItemPrefab);a.getComponent("VipItem").init(t[n],i,n),this.contentScrolView.content.addChild(a)}var r=this.getVipPointData(t,i);this.vipIconSprite.spriteFrame=r.sprite,this.vipNameLabel.string=r.vip_name,this.myPointLabel.string=o.numberWithCommas(parseInt(i)),this.nextPointLabel.string=o.numberWithCommas(parseInt(r.next_point)),this.prizeLabel.string=o.numberWithCommas(parseInt(r.total_prize))}},getVipPointData:function(t,e){for(var i=0,o=0,s=0,a=t.length;s<a;s++)t[s].from_money<=e&&(i=s,o+=t.prize);return{sprite:this.listVipSprite[i],vip_name:t[i].name+" - "+n.VIP_POINT[i],total_prize:o,next_point:i<t.length-1?t[i+1].from_money:t[i].from_money}}}),cc._RF.pop()},{"../../../../helper/Constant":"Constant","../../../../util/FormatUtil":"FormatUtil"}],VipItem:[function(t,e,i){"use strict";cc._RF.push(e,"508a9meUk1NxJVThPhWzPIY","VipItem");var n=t("../../helper/Constant"),o=t("../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,vipIconSprite:cc.Sprite,vipLabel:cc.Label,vipNameLabel:cc.Label,pointLabel:cc.Label,prizeLabel:cc.Label,successNode:cc.Node,vipSpriteFrame:[cc.SpriteFrame],onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},onLoad:function(){},init:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments[2];if(t){this.vipIconSprite.spriteFrame=this.vipSpriteFrame[i],this.vipIconSprite.sizeMode=cc.Sprite.SizeMode.RAW,this.vipLabel.string=t.name,this.vipNameLabel.string=n.VIP_POINT[i],this.pointLabel.string=o.numberWithCommas(parseInt(t.from_money)),this.prizeLabel.string=o.numberWithCommas(parseInt(t.prize));var s=e>=t.from_money;this.successNode.active=s;var a=i%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=a}}}),cc._RF.pop()},{"../../helper/Constant":"Constant","../../util/FormatUtil":"FormatUtil"}],VipSpriteManager:[function(t,e,i){"use strict";cc._RF.push(e,"4712f7yPgtGRpclI3WhU8IH","VipSpriteManager");var n=t("../util/Util");cc.Class({extends:cc.Component,properties:{vipsSpriteFrame:[cc.SpriteFrame]},onLoad:function(){},getVipSpriteFrameByMoney:function(t){var e=n.getVipByMoney(t);return this.getVipSpriteFrameByVip(e)},getVipSpriteFrameByVip:function(t){return this.vipsSpriteFrame[t]}}),cc._RF.pop()},{"../util/Util":"Util"}],WildConstant:[function(t,e,i){"use strict";cc._RF.push(e,"4275abZGBRNIIJFRf9kic76","WildConstant");e.exports={REQUEST_MESSAGE:"MESSAGE",REQUEST_INFO:"INFO",REQUEST_SPIN:"SPIN",ADD_EVENT:"wild.ADD_EVENT",REMOVE_EVENT:"wild.REMOVE_EVENT",SPIN:"wild.SPIN",IS_SHOW:"wild_is_show",POSITION:"wild_position",LIST_LINES:"wild_list",IS_AUTO_SPIN:"wild_auto_spin",BET_VALUE:"wild_bet_value",SPEED_SPIN:"wild_speed_spin",BET_100:1e3,BET_1k:1e4,BET_10k:1e5,NUMBER_ITEM_IN_REEL:3,MONEY_TYPE:"wild_money_type",MONEY_TYPE_GOLD:"GOLD",MONEY_TYPE_MONEY:"MONEY",GET_TOP_2:"GET_TOP",GET_TOP:"wild.GET_TOP",MINIGAME_CONFIG_ID:13,WILD_LIST_ICON_1:["A","B","C","D","E","F","G"],WILD_LIST_ICON_2:["X1","X2","X3"],WILD_ICON_X1:"X1",WILD_ICON_X2:"X2",WILD_ICON_X3:"X3",LIST_SPEED_SPIN:[1,1.5],LIST_AUTO_SPIN:[10,50,100,200,500,1e3]},cc._RF.pop()},{}],WildHistories:[function(t,e,i){"use strict";cc._RF.push(e,"32395/mmxNO+o0LeP6CfwHY","WildHistories");var n=t("../../../../helper/Message");cc.Class({extends:cc.Component,properties:{loadingNode:cc.Node,moneyButtonNode:cc.Node,goldButtonNode:cc.Node,historyWildItemPrefab:cc.Prefab,historyScrollView:cc.ScrollView},init:function(t){this.controller=t},onLoad:function(){},onEnable:function(){this.data=null,this.onMoneyClick()},onDisable:function(){this.removeXhr()},onMoneyClick:function(){this.goldButtonNode.active=!0,this.moneyButtonNode.active=!1,this.loadData()},onGoldClick:function(){this.goldButtonNode.active=!1,this.moneyButtonNode.active=!0,this.loadData()},loadData:function(){var t=this;if(this.showLoadingNode(),this.historyScrollView.content.removeAllChildren(!0),this.data)this.initData();else{var e={token:this.controller.getToken(),user_id:this.controller.getUserId()};this.controller.api.getHistoryWild(e,function(e){t.data=e.data,t.initData()},function(e){t.showListNode(),t.controller.showDialogMessage(n.HISTORY_TITLE,e.msg)})}},initData:function(){if(this.showListNode(),this.data){var t=this.isMoneyType()?this.data[0]:this.data[1];for(var e in t){var i=cc.instantiate(this.historyWildItemPrefab);i.parent=this.historyScrollView.content,i.getComponent("WildHistoryItem").init(t[e],e)}}},getType:function(){return this.moneyOnButtonNode.active?0:1},isMoneyType:function(){return this.goldButtonNode.active},showLoadingNode:function(){this.loadingNode.active=!0,this.historyScrollView.node.active=!1},showListNode:function(){this.loadingNode.active=!1,this.historyScrollView.node.active=!0},removeXhr:function(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}),cc._RF.pop()},{"../../../../helper/Message":"Message"}],WildHistoryItem:[function(t,e,i){"use strict";cc._RF.push(e,"7dabaUrFCRO5qYi2Naeyx+T","WildHistoryItem");var n=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,idLabel:cc.Label,timeLabel:cc.Label,betLabel:cc.Label,resultLabel:cc.Label,getLabel:cc.Label,onBgSpriteFrame:cc.SpriteFrame,offSpriteFrame:cc.SpriteFrame},init:function(t,e){this.data=t,t.created_at>=1e10&&(t.created_at=parseInt(t.created_at/1e3)),this.idLabel.string=t.spin_id,this.timeLabel.string=n.getStringDateByTimeStamp(t.created_at),this.betLabel.string=n.numberWithCommas(t.total_bet_value),this.getLabel.string=n.numberWithCommas(t.total_prize_value),this.resultLabel.string=this.getResult(t.result);var i=e%2==0?this.onBgSpriteFrame:this.offSpriteFrame;this.bgSprite.spriteFrame=i},onLoad:function(){},getResult:function(t){if(!t)return"0 d\xf2ng";"]"===t[t.leng-1]&&"]"===t[t.leng-2]&&(t=t.substring(0,x.length-1));try{return(t=JSON.parse(t)).length+" d\xf2ng"}catch(t){return"0 d\xf2ng"}}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil"}],WildItem:[function(t,e,i){"use strict";cc._RF.push(e,"849ffW95hZO8I5Os0oVXFNq","WildItem"),cc.Class({extends:cc.Component,properties:{iconANode:cc.Node,iconBNode:cc.Node,iconCNode:cc.Node,iconDNode:cc.Node,iconENode:cc.Node,iconFNode:cc.Node,iconGNode:cc.Node,x1SpriteNode:cc.Node,x2SpriteNode:cc.Node,x3SpriteNode:cc.Node},onLoad:function(){},init:function(t){switch(this.reset(),this.index=t,t){case"A":this.iconANode.active=!0;break;case"B":this.iconBNode.active=!0;break;case"C":this.iconCNode.active=!0;break;case"D":this.iconDNode.active=!0;break;case"E":this.iconENode.active=!0;break;case"F":this.iconFNode.active=!0;break;case"G":this.iconGNode.active=!0;break;case"X1":this.x1SpriteNode.active=!0;break;case"X2":this.x2SpriteNode.active=!0;break;case"X3":this.x3SpriteNode.active=!0}},reset:function(){this.iconANode.active=!1,this.iconBNode.active=!1,this.iconCNode.active=!1,this.iconDNode.active=!1,this.iconENode.active=!1,this.iconFNode.active=!1,this.iconGNode.active=!1,this.x1SpriteNode.active=!1,this.x2SpriteNode.active=!1,this.x3SpriteNode.active=!1}}),cc._RF.pop()},{}],WildReel2:[function(t,e,i){"use strict";cc._RF.push(e,"68e98AqCxNCKbAy0SNDHfyD","WildReel2");var n=t("../../../util/RandomUtil"),o=t("../../../helper/Config"),s=(t("../MiniGameConstant"),t("./WildConstant"));cc.Class({extends:cc.Component,properties:{wildItemPrefab:cc.Prefab},init:function(t){this.Wild=t,this.WildUI=t.WildUI,this.MiniGameResult=t.MiniGameResult},onLoad:function(){this.chips=[],this.pool=new cc.NodePool;for(var t=0;t<20;t++){var e=cc.instantiate(this.wildItemPrefab);this.pool.put(e)}this.randomChips(!0)},spin:function(t,e,i,n){this.reset(),this.setChips(this.chips),this.chips=t;for(var s=1;s<e;s++){var a=this.getRandomChip();s===e-1&&(a=t[0]),s===e-2&&(a=t[1]),s===e-3&&(a=t[2]);var r=this.instanceChip(a);r.setPosition(0,(s+1)*o.WILD_DISTANCE_TWO_CHIPS_2),r.parent=this.node}var c=(e-1)*o.WILD_DISTANCE_TWO_CHIPS_2,h=c/o.WILD_SPEED_SPIN_CARD/this.Wild.getSpeedSpin(),l=cc.moveTo(h,this.node.x,-c).easing(cc.easeInOut(3)),u=cc.callFunc(function(){this.setChips(t),i&&this.WildUI.setMoneyTotalPrize(n)},this),d=cc.delayTime(o.WILD_DELAY_SPIN_REEL_2),m=cc.callFunc(function(){this.Wild.spinReelsXper()},this);this.node.runAction(cc.sequence(l,u,d,m))},randomChips:function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[],i=0;i<o.WILD_NUMBER_REELS;i++){var n=void 0;n=t?s.WILD_LIST_ICON_2[0]:this.getRandomChip(),e.push(n)}this.reset(),this.setChips(e)},getRandomChip:function(){var t=n.getRandomInt(0,s.WILD_LIST_ICON_2.length-1);return s.WILD_LIST_ICON_2[t]},setChips:function(t){if(t){this.putAllChipToPool(),this.node.setPosition(this.node.x,0),this.chips=t;for(var e=0;e<t.length;e++){var i=this.instanceChip(t[e]);i.setPosition(0,(1-e)*o.WILD_DISTANCE_TWO_CHIPS_2),i.parent=this.node}}},instanceChip:function(t){var e=void 0;return this.pool&&(e=this.pool.get()),e||(e=cc.instantiate(this.wildItemPrefab)),e.getComponent("WildItem").init(t),e.setScale(o.WILD_SCALE_CHIP),e},putAllChipToPool:function(){if(this.pool){var t=this.node.getChildren(),e=[];for(var i in t)e.push(t[i]);for(var n in e)this.pool.put(e[n])}},reset:function(){this.node.stopAllActions(!0),this.node.setPosition(this.node.x,0),this.putAllChipToPool()}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../util/RandomUtil":"RandomUtil","../MiniGameConstant":"MiniGameConstant","./WildConstant":"WildConstant"}],WildReel:[function(t,e,i){"use strict";cc._RF.push(e,"45f7dAsCu9NCKuERMVcmDWb","WildReel");var n=t("../../../util/RandomUtil"),o=t("../../../helper/Config"),s=t("../MiniGameConstant"),a=t("./WildConstant");cc.Class({extends:cc.Component,properties:{wildItemPrefab:cc.Prefab},init:function(t){this.Wild=t,this.WildUI=t.WildUI,this.MiniGameResult=t.MiniGameResult},onLoad:function(){this.chips=[],this.pool=new cc.NodePool;for(var t=0;t<20;t++){var e=cc.instantiate(this.wildItemPrefab);this.pool.put(e)}this.randomChips()},spin:function(t,e,i,n,a,r,c,h){this.reset(),this.setChips(this.chips),this.chips=t;for(var l=1;l<e;l++){var u=this.getRandomChip();l===e-1&&(u=t[0]),l===e-2&&(u=t[1]),l===e-3&&(u=t[2]);var d=this.instanceChip(u);d.setPosition(0,(l+1)*o.WILD_DISTANCE_TWO_CHIPS),d.parent=this.node}var m=(e-1)*o.WILD_DISTANCE_TWO_CHIPS,p=m/o.WILD_SPEED_SPIN_CARD/this.Wild.getSpeedSpin(),f=cc.moveTo(p,this.node.x,-m).easing(cc.easeInOut(3)),_=cc.callFunc(function(){this.setChips(t),i&&this.Wild.node.active?a===s.WIN_TYPE_JACKPOT||c?this.WildUI.showJackPot(h,r):(this.WildUI.setMoneyTotalPrize(0),n&&this.WildUI.setMoneyTotalPrize(n)):i&&(a===s.WIN_TYPE_JACKPOT||c)&&(this.Wild.node.active=!0,this.WildUI.showJackPot(h,r))},this),S=void 0;S=this.Wild.node.active?cc.delayTime(o.WILD_DELAY_SPIN/this.Wild.getSpeedSpin()):cc.delayTime(o.WILD_DELAY_SPIN);var g=cc.callFunc(function(){i&&this.Wild.node.active?this.Wild.spinReelsXper():i&&!this.Wild.node.active&&(this.Wild.isAutoSpin()?this.Wild.spin():this.Wild.onStopAutoSpinClick())},this);this.node.runAction(cc.sequence(f,_,S,g))},randomChips:function(){for(var t=[],e=0;e<o.WILD_NUMBER_REELS;e++){var i=this.getRandomChip();t.push(i)}this.reset(),this.setChips(t)},getRandomChip:function(){var t=n.getRandomInt(0,a.WILD_LIST_ICON_1.length-1);return a.WILD_LIST_ICON_1[t]},setChips:function(t){if(t){this.putAllChipToPool(),this.node.setPosition(this.node.x,0),this.chips=t;for(var e=0;e<t.length;e++){var i=this.instanceChip(t[e]);i.setPosition(0,(1-e)*o.WILD_DISTANCE_TWO_CHIPS),i.parent=this.node}}},instanceChip:function(t){var e=void 0;return this.pool&&(e=this.pool.get()),e||(e=cc.instantiate(this.wildItemPrefab)),e.getComponent("WildItem").init(t),e.setScale(o.WILD_SCALE_CHIP),e},putAllChipToPool:function(){if(this.pool){var t=this.node.getChildren(),e=[];for(var i in t)e.push(t[i]);for(var n in e)this.pool.put(e[n])}},reset:function(){this.node.stopAllActions(!0),this.node.setPosition(this.node.x,0),this.putAllChipToPool()}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../util/RandomUtil":"RandomUtil","../MiniGameConstant":"MiniGameConstant","./WildConstant":"WildConstant"}],WildSelectAutoSpinItem:[function(t,e,i){"use strict";cc._RF.push(e,"18f91PqUn9CnKpZDPHFe3Vz","WildSelectAutoSpinItem");var n=t("../../../util/FormatUtil");cc.Class({extends:cc.Component,properties:{numberAutoSpinLabel:cc.Label},onLoad:function(){},init:function(t,e){this.WildSelectAutoSpin=t,this.numberAutoSpin=e,this.numberAutoSpinLabel.string=n.numberWithCommas(e)},onClick:function(){this.WildSelectAutoSpin.onItemClick(this.numberAutoSpin)},reset:function(){}}),cc._RF.pop()},{"../../../util/FormatUtil":"FormatUtil"}],WildSelectAutoSpin:[function(t,e,i){"use strict";cc._RF.push(e,"5c71esct51IgqcfgnP8wylu","WildSelectAutoSpin");var n=t("./WildSelectAutoSpinItem"),o=t("./WildConstant");cc.Class({extends:cc.Component,properties:{listAutoSpinItem:[n]},init:function(t){this.Wild=t},onLoad:function(){for(var t in o.LIST_AUTO_SPIN)this.listAutoSpinItem[t]&&this.listAutoSpinItem[t].init(this,o.LIST_AUTO_SPIN[t])},onItemClick:function(t){this.Wild.selectNewAutoSpin(t),this.node.active=!1}}),cc._RF.pop()},{"./WildConstant":"WildConstant","./WildSelectAutoSpinItem":"WildSelectAutoSpinItem"}],WildUI:[function(t,e,i){"use strict";cc._RF.push(e,"fde45mepLRDzb8Vouv7m9xt","WildUI");var n=t("../../../util/FormatUtil"),o=t("../../../helper/Config"),s=t("../item/JackpotItem");cc.Class({extends:cc.Component,properties:{bet1Label:cc.Label,bet2Label:cc.Label,bet3Label:cc.Label,autoSpinLabel:cc.Label,speedSpinLabel:cc.Label,totalPrizeJackpotItem:s,betOnButton1Node:cc.Node,betOffButton1Node:cc.Node,betOnButton2Node:cc.Node,betOffButton2Node:cc.Node,betOnButton3Node:cc.Node,betOffButton3Node:cc.Node,jackpotPrefab:cc.Prefab,jackpotNode:cc.Node,notifySpinFreeNode:cc.Node,notifySpinFreeLabel:cc.Label,notifySpinFreeNode2:cc.Node,notifySpinFreeLabel2:cc.Label},onLoad:function(){},showJackPot:function(t,e){this.jackpotNode.removeAllChildren(!0);var i=cc.instantiate(this.jackpotPrefab);this.jackpotNode.addChild(i),i.getComponent("JackpotEffect").show(t,e),i.position=new cc.Vec2(0,0)},setBetByRoomType:function(t){t?this.setBetMoney():this.setBetGold()},setMoneyTotalPrize:function(t){0==t?this.totalPrizeJackpotItem.setMoneyWithoutAnimation(0):this.totalPrizeJackpotItem.setMoneyWithStartNumberZero(t)},setNumberAutoSpin:function(t){this.autoSpinLabel.string=t},setSpeedSpin:function(t){t=t>1?2:t,this.speedSpinLabel.string="x"+t},showMiniGameSpinFree:function(t){this.notifySpinFreeLabel.string=t,this.notifySpinFreeNode.active=!0,this.notifySpinFreeLabel2.string=t,this.notifySpinFreeNode2.active=!0},hideMiniGameSpinFree:function(){this.notifySpinFreeNode.active=!1,this.notifySpinFreeNode2.active=!1},setBetMoney:function(){var t=o.WILD_LIST_BET_MONEY;this.setBetGoldByList(t[0],t[1],t[2])},setBetGold:function(){var t=o.WILD_LIST_BET_GOLD;this.setBetGoldByList(t[0],t[1],t[2])},setBetGoldByList:function(t,e,i){this.bet1Label.string=n.nFormatter(t),this.bet2Label.string=n.nFormatter(e),this.bet3Label.string=n.nFormatter(i)},enableBet1Button:function(){this.hideAllBetButtons(),this.betOnButton1Node.active=!0,this.betOffButton2Node.active=!0,this.betOffButton3Node.active=!0},enableBet2Button:function(){this.hideAllBetButtons(),this.betOffButton1Node.active=!0,this.betOnButton2Node.active=!0,this.betOffButton3Node.active=!0},enableBet3Button:function(){this.hideAllBetButtons(),this.betOffButton1Node.active=!0,this.betOffButton2Node.active=!0,this.betOnButton3Node.active=!0},hideAllBetButtons:function(){this.betOnButton1Node.active=!1,this.betOffButton1Node.active=!1,this.betOnButton2Node.active=!1,this.betOffButton2Node.active=!1,this.betOnButton3Node.active=!1,this.betOffButton3Node.active=!1}}),cc._RF.pop()},{"../../../helper/Config":"Config","../../../util/FormatUtil":"FormatUtil","../item/JackpotItem":"JackpotItem"}],Wild:[function(t,e,i){"use strict";cc._RF.push(e,"8e05csP/DpB/4mPqVZjEUAE","Wild");var n=t("../../../base/BaseController"),o=t("./WildUI"),s=t("./WildConstant"),a=t("./WildReel"),r=t("./WildReel2"),c=t("./WildSelectAutoSpin"),h=t("../MiniGameResult"),l=t("../item/JackpotItem"),u=t("../../../object/JackpotX"),d=t("../../../helper/Config"),m=t("../../../helper/Constant"),p=t("../../../helper/Message"),f=t("../../../object/RoomType"),_=t("../MiniGameConstant"),S=t("../../../util/RandomUtil");cc.Class({extends:n,properties:{idLabel:cc.Label,moneyNode:cc.Node,goldNode:cc.Node,JackpotItem:l,JackpotX:u,autoSpinButtonNode:cc.Node,stopAutoSpinButtonNode:cc.Node,spinButtonNode:cc.Node,reels:[a],reels2:[r],WildSelectAutoSpin:c,WildUI:o,MiniGameResult:h,notificationNode:cc.Node,notificationLabel:cc.Label,toastPrefab:cc.Prefab},init:function(t){this.controller=t},onLoad:function(){for(var t in this._super(),this.data=null,this.betOrder=1,this.intervalSpin=null,this.WildSelectAutoSpin.init(this),this.reels)this.reels[t].init(this);for(var e in this.reels2)this.reels2[e].init(this);this.initTypeRoom(),this.setTypeRoom(this.isMoneyType),this.reset(),this.initData()},onEnable:function(){this.removeIntervalSpin(),this.initTempData(),this.sendRequest.sendNoPrefixToZone(s.ADD_EVENT)},onDisable:function(){this.destroyGame()},onDestroy:function(){this.removeIntervalSpin()},destroyGame:function(){this.reset(),this.sendRequest.sendNoPrefixToZone(s.REMOVE_EVENT)},initData:function(){this.initSaveData(),this.initTempData()},initTypeRoom:function(){this.isMoneyType=!0,this.getTempData()[s.MONEY_TYPE]===s.MONEY_TYPE_GOLD&&(this.isMoneyType=!1)},initSaveData:function(){var t=cc.sys.localStorage.getItem(s.POSITION);t&&(t=JSON.parse(t),this.positionX=t.x,this.positionY=t.y)},initTempData:function(){var t=this.getTempData(),e=this.getUser(),i=t[s.IS_AUTO_SPIN],n=t[s.BET_VALUE],o=t[s.SPEED_SPIN],a=e.wild_free;switch(i?(this.setAutoSpin(i),this.showStopAutoSpinNode(),clearTimeout(this.timeOutSpin),this.timeOutSpin=setTimeout(function(){this.spin()}.bind(this),1500)):this.setAutoSpin(0),o?this.setSpeedSPin(o):this.setSpeedSPin(s.LIST_SPEED_SPIN[0]),n){case s.BET_100:this.setBet1();break;case s.BET_1k:this.setBet2();break;case s.BET_10k:this.setBet3();break;default:this.setBet1()}!this.node.active&&i?(this.notificationNode.active=!0,this.notificationLabel.string=a&&a>0?a:"\u25ba"):this.notificationNode.active=!1},initSpinFree:function(){var t=this.getUser().wild_free,e=this.getTempData()[s.IS_AUTO_SPIN];t&&t>0?(this.notificationNode.active=!0,this.notificationLabel.string=t):e&&!this.node.active?(this.notificationNode.active=!0,this.notificationLabel.string="\u25ba"):this.notificationNode.active=!1},initMiniGameSpinFree:function(t){for(var e in t){var i=t[e].minigame_config_id,n=t[e].quantity;i===s.MINIGAME_CONFIG_ID&&(n>0?this.WildUI.showMiniGameSpinFree(n):this.WildUI.hideMiniGameSpinFree())}},handleRequest:function(t){var e=t.game_cmd,i=t.game_data,n=t.game_msg;switch(e){case s.REQUEST_INFO:this.handleInfo(i);break;case s.REQUEST_SPIN:this.handleSpin(i);break;case s.REQUEST_MESSAGE:this.handleMessage(n);break;case s.GET_TOP_2:this.controller.MiniGame.GameMiniRank.initDataTop(i)}},handleInfo:function(t){this.data=t,this.initJackpot(),this.setSendSpin(!1)},handleMessage:function(t){this.removeIntervalSpin(),this.autoSpinButtonNode.active=!0,this.stopAutoSpinButtonNode.active=!1,this.spinButtonNode.active=!0,this.showMessage(t),this.onStopAutoSpinClick(),this.setSendSpin(!1)},handleSpin:function(t){this.setSendSpin(!1);var e=t.result,i=t.slot_data,n=t.total_prize_value,o=t.win_type,s=t.spin_id,a=t.is_jackpot;this.idLabel.string=String.format(p.MINIGAME_ID,s),this.reels2[0].randomChips(!0),this.spinReels(i,n,e,o,!0,a),this.minusAutoSpin()},spinReels:function(t,e,i,n,o,a){this.listDataReelXper=[],this.totalPrizeWithoutXper=0;var r=this.getDataDisplay(s.WILD_LIST_ICON_1,t[0]),c=this.getDataDisplay(s.WILD_LIST_ICON_1,t[1]),h=this.getDataDisplay(s.WILD_LIST_ICON_1,t[2]),l=t[3],u=t[4],m=t[5];l&&this.listDataReelXper.push(l),u&&this.listDataReelXper.push(u),m&&this.listDataReelXper.push(m),this.totalPrizeWithoutXper=this.getMoneyPrizeWithoutXper(e),this.reels[0].spin(r,d.WILD_NUMBER_CHIP_SPIN),this.reels[1].spin(c,d.WILD_NUMBER_CHIP_SPIN+3),this.reels[2].spin(h,d.WILD_NUMBER_CHIP_SPIN+6,!0,this.totalPrizeWithoutXper,n,o,a,e)},spinReelsXper:function(){if(this.listDataReelXper&&this.listDataReelXper.length>0){var t=this.listDataReelXper.splice(0,1)[0],e=this.getXperBySlotData(t);this.totalPrizeWithoutXper=this.totalPrizeWithoutXper*e;var i=this.getDataDisplay(s.WILD_LIST_ICON_2,t);this.reels2[0].spin(i,d.WILD_NUMBER_CHIP_SPIN,!0,this.totalPrizeWithoutXper)}else this.isAutoSpin()?this.spin():this.onStopAutoSpinClick()},getMoneyPrizeWithoutXper:function(t){if(this.listDataReelXper&&this.listDataReelXper.length>0){var e=1;for(var i in this.listDataReelXper)this.listDataReelXper[i]===s.WILD_ICON_X1&&(e*=1),this.listDataReelXper[i]===s.WILD_ICON_X2&&(e*=2),this.listDataReelXper[i]===s.WILD_ICON_X3&&(e*=3);t=parseInt(t/e)}return t},getXperBySlotData:function(t){var e=1;switch(t){case s.WILD_ICON_X1:e=1;break;case s.WILD_ICON_X2:e=2;break;case s.WILD_ICON_X3:e=3}return e},onAutoSpinClick:function(){this.WildSelectAutoSpin.node.active=!this.WildSelectAutoSpin.node.active},selectNewAutoSpin:function(t){this.setAutoSpin(t),this.showStopAutoSpinNode(),this.isSpinning()||this.spin()},showStopAutoSpinNode:function(){this.autoSpinButtonNode.active=!0,this.stopAutoSpinButtonNode.active=!0,this.spinButtonNode.active=!1},onStopAutoSpinClick:function(){this.autoSpinButtonNode.active=!0,this.stopAutoSpinButtonNode.active=!1,this.spinButtonNode.active=!0,this.setAutoSpin(0)},onSpeedSpinClick:function(){for(var t=this.getSpeedSpin(),e=s.LIST_SPEED_SPIN,i=0,n=e.length;i<n;i++)t==e[i]&&(i===e.length-1?this.setSpeedSPin(e[0]):this.setSpeedSPin(e[i+1]))},onSpinClick:function(){this.isSpinning()||this.spin()},spin:function(){if(!this.isSendSpin()){this.setSendSpin(!0);var t={money_type:f.MONEY_CODE,money_value:this.getCurrentBet()};this.sendRequest.sendNoPrefixToZone(s.SPIN,t),this.MiniGameResult.reset()}},onHelpClick:function(){this.controller.Tutorial.showDialog(),this.controller.Tutorial.showTutorialByGameName(m.WILD)},onHistoriesClick:function(){this.controller.MiniGame.GameMiniHistory.showWildHistories(),this.controller.MiniGame.GameMiniHistory.showDialog()},onRankClick:function(){this.controller.MiniGame.GameMiniRank.setMiniGameName(_.WILD),this.controller.MiniGame.GameMiniRank.showDialog()},onCloseClick:function(){this.setShowWild(!1)},onGoldClick:function(){this.isAutoSpin()?this.showMessage(p.AUTO_SPIN_NOT_CHANGE_MONEY_TYPE):this.setTypeRoom(!this.isMoneyType)},onMoneyClick:function(){this.isAutoSpin()?this.showMessage(p.AUTO_SPIN_NOT_CHANGE_MONEY_TYPE):this.setTypeRoom(!this.isMoneyType)},onBet1ButtonClick:function(){this.isAutoSpin()?this.showMessage(p.AUTO_SPIN_NOT_CHANGE_BET):this.setBet1()},setBet1:function(){this.betOrder=0,this.initJackpot(),this.WildUI.enableBet1Button(),this.getTempData()[s.BET_VALUE]=s.BET_100},onBet2ButtonClick:function(){this.isAutoSpin()?this.showMessage(p.AUTO_SPIN_NOT_CHANGE_BET):this.setBet2()},setBet2:function(){this.betOrder=1,this.initJackpot(),this.WildUI.enableBet2Button(),this.getTempData()[s.BET_VALUE]=s.BET_1k},onBet3ButtonClick:function(){this.isAutoSpin()?this.showMessage(p.AUTO_SPIN_NOT_CHANGE_BET):this.setBet3()},setBet3:function(){this.betOrder=2,this.initJackpot(),this.WildUI.enableBet3Button(),this.getTempData()[s.BET_VALUE]=s.BET_10k},setSpeedSPin:function(t){this.speed_spin=t,this.WildUI.setSpeedSpin(t),this.getTempData()[s.SPEED_SPIN]=t},getSpeedSpin:function(){return this.speed_spin},minusAutoSpin:function(){this.auto_spin&&this.auto_spin>0?(this.auto_spin--,this.setAutoSpin(this.auto_spin)):this.setAutoSpin(0)},setAutoSpin:function(t){this.auto_spin=t,this.WildUI.setNumberAutoSpin(t),this.getTempData()[s.IS_AUTO_SPIN]=t},getAutoSpin:function(){return this.auto_spin},onWildClick:function(){this.setShowWild(!this.isShow)},setShowWild:function(t){this.node.active=t,this.isShow=t;var e=this.getUser().wild_free;cc.sys.localStorage.setItem(s.IS_SHOW,this.isShow),!t&&this.isAutoSpin()?(this.initIntervalSpin(),this.notificationNode.active=!0,this.notificationLabel.string=e&&e>0?e:"\u25ba"):this.notificationNode.active=!1},initIntervalSpin:function(){this.removeIntervalSpin(),this.intervalSpin=setInterval(function(){this.spin()}.bind(this),2e3*d.WILD_TIME_SPIN)},removeIntervalSpin:function(){clearInterval(this.intervalSpin)},initJackpot:function(){if(this.data){var t=this.data.gold,e=this.data.money;if(this.isMoneyType){this.JackpotItem.setMoney(e[this.betOrder]);var i=e[3]?e[3]:null;i&&this.JackpotX.showSlotX(i[this.betOrder])}else this.JackpotItem.setMoney(t[this.betOrder]),this.JackpotX.showSlotX(1)}},showMessage:function(t){var e=cc.instantiate(this.toastPrefab);e.setScale(d.MINIGAME_SCALE_TOAST),e.setPosition(d.MINIGAME_POSITION_TOAST_X,d.MINIGAME_POSITION_TOAST_Y),e.parent=this.node,e.getComponent("Toast").showToast(t)},setTypeRoom:function(t){this.isMoneyType=t,this.moneyNode.active=t,this.goldNode.active=!t,this.initJackpot(),this.WildUI.setBetByRoomType(this.isMoneyType);var e=this.isMoneyType?s.MONEY_TYPE_MONEY:s.MONEY_TYPE_GOLD;this.getTempData()[s.MONEY_TYPE]=e},getCurrentBet:function(){return(this.isMoneyType?d.WILD_LIST_BET_MONEY:d.WILD_LIST_BET_GOLD)[this.betOrder]},getDataDisplay:function(t,e){for(var i=[],n=0,o=s.NUMBER_ITEM_IN_REEL;n<o;n++)if(1===n)i.push(e);else{var a=S.getRandomInt(0,t.length-1);i.push(t[a])}return i},isSpinning:function(){return cc.director.getActionManager().getNumberOfRunningActionsInTarget(this.reels[0].node)>0||cc.director.getActionManager().getNumberOfRunningActionsInTarget(this.reels2[0].node)>0},isAutoSpin:function(){return this.auto_spin>0},setSendSpin:function(t){this.is_send_spin=t},isSendSpin:function(){return this.is_send_spin},reset:function(){clearTimeout(this.timeOutSpin),this.MiniGameResult.reset()},dataTest1:function(){var t={bonus_prize:0,is_jackpot:!1,result:{}};return t.result.icon="E",t.result.prize=3,t.result.quantity=2,t.slot_data=[],t.slot_data[0]="E",t.slot_data[1]="G",t.slot_data[2]="A",t.slot_data[3]="X2",t.slot_data[4]="X3",t.spin_id="9",t.total_prize_value=18e3,t.win_type=1,t},dataTest2:function(){var t={bonus_prize:0,is_jackpot:!1,result:{}};return t.result.icon="E",t.result.prize=3,t.result.quantity=2,t.slot_data=[],t.slot_data[0]="E",t.slot_data[1]="G",t.slot_data[2]="A",t.slot_data[3]="X1",t.slot_data[4]="X3",t.slot_data[5]="X2",t.spin_id="9",t.total_prize_value=9e3,t.win_type=1,t},dataTest3Jackpot:function(){var t={bonus_prize:0,is_jackpot:!0,result:{}};return t.result.icon="E",t.result.prize=3,t.result.quantity=2,t.slot_data=[],t.slot_data[0]="E",t.slot_data[1]="G",t.slot_data[2]="A",t.slot_data[3]="X1",t.slot_data[4]="X3",t.spin_id="9",t.total_prize_value=9e3,t.win_type=4,t}}),cc._RF.pop()},{"../../../base/BaseController":"BaseController","../../../helper/Config":"Config","../../../helper/Constant":"Constant","../../../helper/Message":"Message","../../../object/JackpotX":"JackpotX","../../../object/RoomType":"RoomType","../../../util/RandomUtil":"RandomUtil","../MiniGameConstant":"MiniGameConstant","../MiniGameResult":"MiniGameResult","../item/JackpotItem":"JackpotItem","./WildConstant":"WildConstant","./WildReel":"WildReel","./WildReel2":"WildReel2","./WildSelectAutoSpin":"WildSelectAutoSpin","./WildUI":"WildUI"}],md5:[function(t,e,i){"use strict";cc._RF.push(e,"037d0e5P/xJ8ppr16Jjl7Vv","md5");e.exports=function(t){function e(t,e){return t<<e|t>>>32-e}function i(t,e){var i,n,o,s,a;return o=2147483648&t,s=2147483648&e,a=(1073741823&t)+(1073741823&e),(i=1073741824&t)&(n=1073741824&e)?2147483648^a^o^s:i|n?1073741824&a?3221225472^a^o^s:1073741824^a^o^s:a^o^s}function n(t,e,i){return t&e|~t&i}function o(t,e,i){return t&i|e&~i}function s(t,e,i){return t^e^i}function a(t,e,i){return e^(t|~i)}function r(t,o,s,a,r,c,h){return i(e(t=i(t,i(i(n(o,s,a),r),h)),c),o)}function c(t,n,s,a,r,c,h){return i(e(t=i(t,i(i(o(n,s,a),r),h)),c),n)}function h(t,n,o,a,r,c,h){return i(e(t=i(t,i(i(s(n,o,a),r),h)),c),n)}function l(t,n,o,s,r,c,h){return i(e(t=i(t,i(i(a(n,o,s),r),h)),c),n)}function u(t){var e="",i="",n=void 0;for(n=0;n<=3;n++)e+=(i="0"+(t>>>8*n&255).toString(16)).substr(i.length-2,2);return e}var d=Array(),m=void 0,p=void 0,f=void 0,_=void 0,S=void 0,g=void 0,N=void 0,I=void 0,C=void 0;for(d=function(t){for(var e=void 0,i=t.length,n=i+8,o=16*((n-n%64)/64+1),s=Array(o-1),a=0,r=0;r<i;)a=r%4*8,s[e=(r-r%4)/4]=s[e]|t.charCodeAt(r)<<a,r++;return a=r%4*8,s[e=(r-r%4)/4]=s[e]|128<<a,s[o-2]=i<<3,s[o-1]=i>>>29,s}(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e+=String.fromCharCode(n):n>127&&n<2048?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(63&n|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(63&n|128))}return e}(t)),g=1732584193,N=4023233417,I=2562383102,C=271733878,m=0;m<d.length;m+=16)p=g,f=N,_=I,S=C,N=l(N=l(N=l(N=l(N=h(N=h(N=h(N=h(N=c(N=c(N=c(N=c(N=r(N=r(N=r(N=r(N,I=r(I,C=r(C,g=r(g,N,I,C,d[m+0],7,3614090360),N,I,d[m+1],12,3905402710),g,N,d[m+2],17,606105819),C,g,d[m+3],22,3250441966),I=r(I,C=r(C,g=r(g,N,I,C,d[m+4],7,4118548399),N,I,d[m+5],12,1200080426),g,N,d[m+6],17,2821735955),C,g,d[m+7],22,4249261313),I=r(I,C=r(C,g=r(g,N,I,C,d[m+8],7,1770035416),N,I,d[m+9],12,2336552879),g,N,d[m+10],17,4294925233),C,g,d[m+11],22,2304563134),I=r(I,C=r(C,g=r(g,N,I,C,d[m+12],7,1804603682),N,I,d[m+13],12,4254626195),g,N,d[m+14],17,2792965006),C,g,d[m+15],22,1236535329),I=c(I,C=c(C,g=c(g,N,I,C,d[m+1],5,4129170786),N,I,d[m+6],9,3225465664),g,N,d[m+11],14,643717713),C,g,d[m+0],20,3921069994),I=c(I,C=c(C,g=c(g,N,I,C,d[m+5],5,3593408605),N,I,d[m+10],9,38016083),g,N,d[m+15],14,3634488961),C,g,d[m+4],20,3889429448),I=c(I,C=c(C,g=c(g,N,I,C,d[m+9],5,568446438),N,I,d[m+14],9,3275163606),g,N,d[m+3],14,4107603335),C,g,d[m+8],20,1163531501),I=c(I,C=c(C,g=c(g,N,I,C,d[m+13],5,2850285829),N,I,d[m+2],9,4243563512),g,N,d[m+7],14,1735328473),C,g,d[m+12],20,2368359562),I=h(I,C=h(C,g=h(g,N,I,C,d[m+5],4,4294588738),N,I,d[m+8],11,2272392833),g,N,d[m+11],16,1839030562),C,g,d[m+14],23,4259657740),I=h(I,C=h(C,g=h(g,N,I,C,d[m+1],4,2763975236),N,I,d[m+4],11,1272893353),g,N,d[m+7],16,4139469664),C,g,d[m+10],23,3200236656),I=h(I,C=h(C,g=h(g,N,I,C,d[m+13],4,681279174),N,I,d[m+0],11,3936430074),g,N,d[m+3],16,3572445317),C,g,d[m+6],23,76029189),I=h(I,C=h(C,g=h(g,N,I,C,d[m+9],4,3654602809),N,I,d[m+12],11,3873151461),g,N,d[m+15],16,530742520),C,g,d[m+2],23,3299628645),I=l(I,C=l(C,g=l(g,N,I,C,d[m+0],6,4096336452),N,I,d[m+7],10,1126891415),g,N,d[m+14],15,2878612391),C,g,d[m+5],21,4237533241),I=l(I,C=l(C,g=l(g,N,I,C,d[m+12],6,1700485571),N,I,d[m+3],10,2399980690),g,N,d[m+10],15,4293915773),C,g,d[m+1],21,2240044497),I=l(I,C=l(C,g=l(g,N,I,C,d[m+8],6,1873313359),N,I,d[m+15],10,4264355552),g,N,d[m+6],15,2734768916),C,g,d[m+13],21,1309151649),I=l(I,C=l(C,g=l(g,N,I,C,d[m+4],6,4149444226),N,I,d[m+11],10,3174756917),g,N,d[m+2],15,718787259),C,g,d[m+9],21,3951481745),g=i(g,p),N=i(N,f),I=i(I,_),C=i(C,S);return(u(g)+u(N)+u(I)+u(C)).toLowerCase()},cc._RF.pop()},{}]},{},["API","APIConstant","BaseController","BaseScene","Config","Constant","Message","SFS2X_API_JS","md5","Audio","Capcha","Card","CompareType","JackpotX","Music","RoomType","VipSpriteManager","News","Toast","LogOut","Setting","Tutorial","AgentItem","AgentItem2","AvatarItem","AwardButtonItem","AwardCardRateItem","AwardHistoryItem","CardGameValueItem","ChatGameItem","ChatItem","EmotionItem","FriendItem","FriendTopItem","MailItem","NewsItem","PaginationItem","PlayHistoryItem","PlayerOnlineItem","QuestNotificationItem","QuickChatItem","RankItem","RechargeCardItem","RechargeGoldHistoryItem","RechargeHistoryItem","SMSItem","SafeQuickSelectItem","SlotGameIconItem","SmallBannerItem","TutorialItem","VipItem","DiamondEventItem","HistoryEvent","RankEventItem","MiniGame","MiniGameCircle","MiniGameConstant","MiniGameResult","MiniGameResultTaiXiu","BauCua","BauCuaBet","BauCuaConfig","BauCuaConstant","BauCuaHistory","BauCuaPlate","BauCuaState","BauCuaTime","BauCuaUI","Bom","BomConstant","BomLine","BomReel","BomReel2","BomSelectForm","BomUI","Diamond","DiamondConstant","DiamondLine","DiamondReel","DiamondSelectForm","DiamondUI","BauCuaRank","Event","GameMiniHistory","GameMiniRank","GameMiniRankTanLoc","TaiXiuChain","TaiXiuDetail","EventCenter","EventDiamond","EventHuLoc","EventLuckyWheel","EventMiniPoker","EventSlot2","EventSlot4","EventTaiXiu","EventTanLoc","EventTop","EventHuLocHistory","EventHuLocRank","EventTaiXiuItem","EventTopItem","EventTaiXiuRank","EventTaiXiuRule","EventRutLocRank","EventTanLocRank","EventTopRank","EventTopRule","BauCuaHistories","BomHistories","DiamondHistories","MiniBaCayHistories","MiniGameLotteryHistories","MiniPokerHistories","TaiXiuHistories","TanLocHistories","TrenDuoiHistories","WildHistories","BauCuaBetItem","BauCuaHistoryGameItem","BauCuaHistoryItem","BauCuaItem","BauCuaNumberItem","BomHistoryItem","BomItem","DiamondHistoryItem","DiamondItem","DiamondNumberLineItem","DiamondSelectItem","GameMiniJackpotItem","GameMiniRankItem","JackpotItem","LuckyWheelItem","MiniGameChatItem","MiniGameLotteryBetItem","MiniGameLotteryBoardItem","MiniGameLotteryHistoryItem","MiniGameLotteryNumberItem","MiniGameLotterySelectItem","MiniGameXPer","MiniPokerHistoryItem","TaiXiuChainItem","TaiXiuDetailItem","TaiXiuHistoriesItem","TaiXiuNumberItem","TaiXiuSelectItem","TanLocHistoryItem","TanLocRankItem","TrenDuoiHistoryCardItem","TrenDuoiHistoryItem","WildHistoryItem","WildItem","Jackpot","JackpotConstant","JackpotEffect","LuckyWheel","LuckyWheelConfig","LuckyWheelConstant","MiniBaCay","MiniBaCayCard","MiniBaCayConstant","MiniBaCayReel","MiniBaCayReels","MiniBaCayUI","MiniPoker","MiniPokerCard","MiniPokerConstant","MiniPokerReel","MiniPokerReels","MiniPokerUI","MiniGameLottery","MiniGameLotteryBets","MiniGameLotteryBoard","MiniGameLotteryChat","MiniGameLotteryConstant","MiniGameLotteryQuickSelect","MiniGameLotteryResults","MiniGameLotteryState","MiniGameLotteryTime","MiniGameLotteryUI","MiniGameLotteryContentDauDuoi","MiniGameLotteryContentDe","MiniGameLotteryContentHu","MiniGameLotteryContentLo","MiniGameLotteryContentXien","TaiXiu","TaiXiuChat","TaiXiuConstant","TaiXiuDice","TaiXiuHistory","TaiXiuHistoryGame","TaiXiuHistoryGame1","TaiXiuHistoryGame2","TaiXiuHistoryItem","TaiXiuHistoryItem2","TaiXiuPlate","TaiXiuPlateMove","TaiXiuQuickSelect","TaiXiuState","TaiXiuTime","BonusConfig","BonusConstant","BonusEvent","BonusMessage","BonusMoney","HuLoc","HuLocState","TanLoc","TanLocState","BonusEventMoneyItem","TrenDuoi","TrenDuoiCard","TrenDuoiConstant","TrenDuoiReel","TrenDuoiUI","Wild","WildConstant","WildReel","WildReel2","WildSelectAutoSpin","WildSelectAutoSpinItem","WildUI","Balance","CardController","Chip","ScrollBottom","BasePlayer","Slot2BonusItem","Slot2ChatItem","Slot2HistoryItem","Slot2HistoryItem2","Slot2Item","Slot2Jackpot2Item","Slot2JackpotItem","Slot2MiniGameItem","Slot2RankItem","Slot3BonusItem","Slot3HistoryItem","Slot3Item","Slot3Jackpot2Item","Slot3JackpotItem","Slot3MiniGameItem","Slot3Rank2Item","Slot3RankItem","Slot4BonusItem","Slot4HistoryItem","Slot4Item","Slot4MiniGameItem","Slot4RankItem","GameCenter","GameCenterHandlerRequest","GameCenterUI","GameInfo","GameList","GameRecharge","Footer","Agent","Bonus","ChangePassword","ChangePasswordSuccess","ConfirmRemoveMail","ConfirmSecurity","ForgetPassword","Friend","GiftCode","Login","OTPLogin","OtpFirstAccount","PlayerInvite","Register","UpdateAvatar","UpdateNickname","FriendAward","FriendCenter","FriendList","FriendTop","Header","HeaderAccount","HeaderAccountUI","HeaderLogin","InfoAccount","InfoHistory","InfoMail","InfoSercurity","VipAccount","InfoAwardHistory","InfoPlayGoldHistory","InfoPlayMoneyHistory","InfoRechargeGoldHistory","InfoRechargeMoneyHistory","InfoGame","InfoSercurityAccount","InfoSercurityLogin","InfoSercurityActivePhone","InfoSercurityInfo","InfoSercurityUpdate","Chat","GameListAll","GameListBetting","GameListCardGame","GameSlot","Online","SmallBanner","AwardButtonCard","AwardCard","RechargeGold","RechargeSMS","Safe","Transfer","TransferAgent","TransferContent","Slot2","Slot2Bonus","Slot2Constant","Slot2Control","Slot2Effect","Slot2HandlerRequest","Slot2Header","Slot2Label","Slot2Lines","Slot2Reel","Slot2Reels","Slot2SelectLine","Slot2State","Slot2UI","Slot2X","Slot2AutoSpinSetting","Slot2BonusResult","Slot2Chat","Slot2History","Slot2JackpotForm","Slot2Rank","Slot2Tutorial","Slot2NumberLineItem","Slot2SelectNumberLineItem","Slot3","Slot3Bonus","Slot3Constant","Slot3Control","Slot3Effect","Slot3Footer","Slot3HandlerRequest","Slot3Header","Slot3Label","Slot3Lines","Slot3Reel","Slot3Reels","Slot3SelectLine","Slot3State","Slot3UI","Slot3X","Slot3AutoSpinSetting","Slot3BonusResult","Slot3History","Slot3JackpotForm","Slot3Rank2","Slot3NumberLineItem","Slot3SelectNumberLineItem","Slot4","Slot4Bonus","Slot4Constant","Slot4Control","Slot4Effect","Slot4HandlerRequest","Slot4Header","Slot4Label","Slot4Lines","Slot4Reel","Slot4Reels","Slot4State","Slot4UI","Slot4X","Slot4AutoSpinSetting","Slot4BonusResult","Slot4Form","Slot4History","Slot4Rank","Slot4SelectLine","Slot4NumberLineItem","Slot4SelectNumberLineItem","HotUpdate","Splash","SFSManager","SFSSendRequest","Processing","ShowHideAnim","Button","BetForm","BuyInForm","DialogForm","DialogMessage","DropDownList","DropDownList2","DropDownListItem","Draggable","Toggle","BrowserUtil","CardUtil","FormatUtil","NodeUtil","RandomUtil","Track","Util"]);